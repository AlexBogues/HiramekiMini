(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ms(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Y={},St=[],Ge=()=>{},iu=()=>!1,$n=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Bs=e=>e.startsWith("onUpdate:"),se=Object.assign,$s=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lu=Object.prototype.hasOwnProperty,j=(e,t)=>lu.call(e,t),U=Array.isArray,zt=e=>Hn(e)==="[object Map]",uu=e=>Hn(e)==="[object Set]",M=e=>typeof e=="function",re=e=>typeof e=="string",Rt=e=>typeof e=="symbol",te=e=>e!==null&&typeof e=="object",di=e=>(te(e)||M(e))&&M(e.then)&&M(e.catch),au=Object.prototype.toString,Hn=e=>au.call(e),cu=e=>Hn(e).slice(8,-1),Hs=e=>Hn(e)==="[object Object]",js=e=>re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wt=Ms(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fu=/-(\w)/g,Ve=jn(e=>e.replace(fu,(t,n)=>n?n.toUpperCase():"")),du=/\B([A-Z])/g,Pe=jn(e=>e.replace(du,"-$1").toLowerCase()),hi=jn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ts=jn(e=>e?`on${hi(e)}`:""),it=(e,t)=>!Object.is(e,t),ns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Pn=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},hu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wr=e=>{const t=re(e)?Number(e):NaN;return isNaN(t)?e:t};let xr;const Kn=()=>xr||(xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ks(e){if(U(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=re(s)?mu(s):Ks(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(re(e)||te(e))return e}const pu=/;(?![^(]*\))/g,_u=/:([^]+)/,gu=/\/\*[^]*?\*\//g;function mu(e){const t={};return e.replace(gu,"").split(pu).forEach(n=>{if(n){const s=n.split(_u);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function zn(e){let t="";if(re(e))t=e;else if(U(e))for(let n=0;n<e.length;n++){const s=zn(e[n]);s&&(t+=s+" ")}else if(te(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Eu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vu=Ms(Eu);function pi(e){return!!e||e===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xe;class _i{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!t&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=xe;try{return xe=this,t()}finally{xe=n}}}on(){xe=this}off(){xe=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function yu(e){return new _i(e)}function bu(){return xe}let G;const ss=new WeakSet;class gi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ss.has(this)&&(ss.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ei(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ir(this),vi(this);const t=G,n=Fe;G=this,Fe=!0;try{return this.fn()}finally{yi(this),G=t,Fe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Gs(t);this.deps=this.depsTail=void 0,Ir(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ss.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ps(this)&&this.run()}get dirty(){return ps(this)}}let mi=0,Gt,Yt;function Ei(e,t=!1){if(e.flags|=8,t){e.next=Yt,Yt=e;return}e.next=Gt,Gt=e}function zs(){mi++}function Ws(){if(--mi>0)return;if(Yt){let t=Yt;for(Yt=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Gt;){let t=Gt;for(Gt=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yi(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Gs(s),Au(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function ps(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(bi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function bi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===en))return;e.globalVersion=en;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ps(e)){e.flags&=-3;return}const n=G,s=Fe;G=e,Fe=!0;try{vi(e);const r=e.fn(e._value);(t.version===0||it(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{G=n,Fe=s,yi(e),e.flags&=-3}}function Gs(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Gs(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Au(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Fe=!0;const Ai=[];function ut(){Ai.push(Fe),Fe=!1}function at(){const e=Ai.pop();Fe=e===void 0?!0:e}function Ir(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=G;G=void 0;try{t()}finally{G=n}}}let en=0;class Ou{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ys{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!G||!Fe||G===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==G)n=this.activeLink=new Ou(G,this),G.deps?(n.prevDep=G.depsTail,G.depsTail.nextDep=n,G.depsTail=n):G.deps=G.depsTail=n,Oi(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=G.depsTail,n.nextDep=void 0,G.depsTail.nextDep=n,G.depsTail=n,G.deps===n&&(G.deps=s)}return n}trigger(t){this.version++,en++,this.notify(t)}notify(t){zs();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ws()}}}function Oi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Oi(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const _s=new WeakMap,gt=Symbol(""),gs=Symbol(""),tn=Symbol("");function ae(e,t,n){if(Fe&&G){let s=_s.get(e);s||_s.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Ys),r.map=s,r.key=n),r.track()}}function Je(e,t,n,s,r,o){const i=_s.get(e);if(!i){en++;return}const l=u=>{u&&u.trigger()};if(zs(),t==="clear")i.forEach(l);else{const u=U(e),f=u&&js(n);if(u&&n==="length"){const c=Number(s);i.forEach((h,g)=>{(g==="length"||g===tn||!Rt(g)&&g>=c)&&l(h)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),f&&l(i.get(tn)),t){case"add":u?f&&l(i.get("length")):(l(i.get(gt)),zt(e)&&l(i.get(gs)));break;case"delete":u||(l(i.get(gt)),zt(e)&&l(i.get(gs)));break;case"set":zt(e)&&l(i.get(gt));break}}Ws()}function yt(e){const t=$(e);return t===e?t:(ae(t,"iterate",tn),Le(e)?t:t.map(ge))}function qs(e){return ae(e=$(e),"iterate",tn),e}const Su={__proto__:null,[Symbol.iterator](){return rs(this,Symbol.iterator,ge)},concat(...e){return yt(this).concat(...e.map(t=>U(t)?yt(t):t))},entries(){return rs(this,"entries",e=>(e[1]=ge(e[1]),e))},every(e,t){return qe(this,"every",e,t,void 0,arguments)},filter(e,t){return qe(this,"filter",e,t,n=>n.map(ge),arguments)},find(e,t){return qe(this,"find",e,t,ge,arguments)},findIndex(e,t){return qe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return qe(this,"findLast",e,t,ge,arguments)},findLastIndex(e,t){return qe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return qe(this,"forEach",e,t,void 0,arguments)},includes(...e){return os(this,"includes",e)},indexOf(...e){return os(this,"indexOf",e)},join(e){return yt(this).join(e)},lastIndexOf(...e){return os(this,"lastIndexOf",e)},map(e,t){return qe(this,"map",e,t,void 0,arguments)},pop(){return Mt(this,"pop")},push(...e){return Mt(this,"push",e)},reduce(e,...t){return Dr(this,"reduce",e,t)},reduceRight(e,...t){return Dr(this,"reduceRight",e,t)},shift(){return Mt(this,"shift")},some(e,t){return qe(this,"some",e,t,void 0,arguments)},splice(...e){return Mt(this,"splice",e)},toReversed(){return yt(this).toReversed()},toSorted(e){return yt(this).toSorted(e)},toSpliced(...e){return yt(this).toSpliced(...e)},unshift(...e){return Mt(this,"unshift",e)},values(){return rs(this,"values",ge)}};function rs(e,t,n){const s=qs(e),r=s[t]();return s!==e&&!Le(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const Cu=Array.prototype;function qe(e,t,n,s,r,o){const i=qs(e),l=i!==e&&!Le(e),u=i[t];if(u!==Cu[t]){const h=u.apply(e,o);return l?ge(h):h}let f=n;i!==e&&(l?f=function(h,g){return n.call(this,ge(h),g,e)}:n.length>2&&(f=function(h,g){return n.call(this,h,g,e)}));const c=u.call(i,f,s);return l&&r?r(c):c}function Dr(e,t,n,s){const r=qs(e);let o=n;return r!==e&&(Le(e)?n.length>3&&(o=function(i,l,u){return n.call(this,i,l,u,e)}):o=function(i,l,u){return n.call(this,i,ge(l),u,e)}),r[t](o,...s)}function os(e,t,n){const s=$(e);ae(s,"iterate",tn);const r=s[t](...n);return(r===-1||r===!1)&&Qs(n[0])?(n[0]=$(n[0]),s[t](...n)):r}function Mt(e,t,n=[]){ut(),zs();const s=$(e)[t].apply(e,n);return Ws(),at(),s}const Tu=Ms("__proto__,__v_isRef,__isVue"),Si=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt));function wu(e){Rt(e)||(e=String(e));const t=$(this);return ae(t,"has",e),t.hasOwnProperty(e)}class Ci{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Lu:Ii:o?xi:wi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=U(t);if(!r){let u;if(i&&(u=Su[n]))return u;if(n==="hasOwnProperty")return wu}const l=Reflect.get(t,n,fe(t)?t:s);return(Rt(n)?Si.has(n):Tu(n))||(r||ae(t,"get",n),o)?l:fe(l)?i&&js(n)?l:l.value:te(l)?r?Di(l):Xs(l):l}}class Ti extends Ci{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const u=Et(o);if(!Le(s)&&!Et(s)&&(o=$(o),s=$(s)),!U(t)&&fe(o)&&!fe(s))return u?!1:(o.value=s,!0)}const i=U(t)&&js(n)?Number(n)<t.length:j(t,n),l=Reflect.set(t,n,s,fe(t)?t:r);return t===$(r)&&(i?it(s,o)&&Je(t,"set",n,s):Je(t,"add",n,s)),l}deleteProperty(t,n){const s=j(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Je(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Rt(n)||!Si.has(n))&&ae(t,"has",n),s}ownKeys(t){return ae(t,"iterate",U(t)?"length":gt),Reflect.ownKeys(t)}}class xu extends Ci{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Iu=new Ti,Du=new xu,Pu=new Ti(!0);const ms=e=>e,gn=e=>Reflect.getPrototypeOf(e);function Ru(e,t,n){return function(...s){const r=this.__v_raw,o=$(r),i=zt(o),l=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,f=r[e](...s),c=n?ms:t?Es:ge;return!t&&ae(o,"iterate",u?gs:gt),{next(){const{value:h,done:g}=f.next();return g?{value:h,done:g}:{value:l?[c(h[0]),c(h[1])]:c(h),done:g}},[Symbol.iterator](){return this}}}}function mn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ku(e,t){const n={get(r){const o=this.__v_raw,i=$(o),l=$(r);e||(it(r,l)&&ae(i,"get",r),ae(i,"get",l));const{has:u}=gn(i),f=t?ms:e?Es:ge;if(u.call(i,r))return f(o.get(r));if(u.call(i,l))return f(o.get(l));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&ae($(r),"iterate",gt),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=$(o),l=$(r);return e||(it(r,l)&&ae(i,"has",r),ae(i,"has",l)),r===l?o.has(r):o.has(r)||o.has(l)},forEach(r,o){const i=this,l=i.__v_raw,u=$(l),f=t?ms:e?Es:ge;return!e&&ae(u,"iterate",gt),l.forEach((c,h)=>r.call(o,f(c),f(h),i))}};return se(n,e?{add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear")}:{add(r){!t&&!Le(r)&&!Et(r)&&(r=$(r));const o=$(this);return gn(o).has.call(o,r)||(o.add(r),Je(o,"add",r,r)),this},set(r,o){!t&&!Le(o)&&!Et(o)&&(o=$(o));const i=$(this),{has:l,get:u}=gn(i);let f=l.call(i,r);f||(r=$(r),f=l.call(i,r));const c=u.call(i,r);return i.set(r,o),f?it(o,c)&&Je(i,"set",r,o):Je(i,"add",r,o),this},delete(r){const o=$(this),{has:i,get:l}=gn(o);let u=i.call(o,r);u||(r=$(r),u=i.call(o,r)),l&&l.call(o,r);const f=o.delete(r);return u&&Je(o,"delete",r,void 0),f},clear(){const r=$(this),o=r.size!==0,i=r.clear();return o&&Je(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ru(r,e,t)}),n}function Zs(e,t){const n=ku(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(j(n,r)&&r in s?n:s,r,o)}const Nu={get:Zs(!1,!1)},Vu={get:Zs(!1,!0)},Fu={get:Zs(!0,!1)};const wi=new WeakMap,xi=new WeakMap,Ii=new WeakMap,Lu=new WeakMap;function Uu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mu(e){return e.__v_skip||!Object.isExtensible(e)?0:Uu(cu(e))}function Xs(e){return Et(e)?e:Js(e,!1,Iu,Nu,wi)}function Bu(e){return Js(e,!1,Pu,Vu,xi)}function Di(e){return Js(e,!0,Du,Fu,Ii)}function Js(e,t,n,s,r){if(!te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=Mu(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function qt(e){return Et(e)?qt(e.__v_raw):!!(e&&e.__v_isReactive)}function Et(e){return!!(e&&e.__v_isReadonly)}function Le(e){return!!(e&&e.__v_isShallow)}function Qs(e){return e?!!e.__v_raw:!1}function $(e){const t=e&&e.__v_raw;return t?$(t):e}function er(e){return!j(e,"__v_skip")&&Object.isExtensible(e)&&Pn(e,"__v_skip",!0),e}const ge=e=>te(e)?Xs(e):e,Es=e=>te(e)?Di(e):e;function fe(e){return e?e.__v_isRef===!0:!1}function Pi(e){return $u(e,!1)}function $u(e,t){return fe(e)?e:new Hu(e,t)}class Hu{constructor(t,n){this.dep=new Ys,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$(t),this._value=n?t:ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Le(t)||Et(t);t=s?t:$(t),it(t,n)&&(this._rawValue=t,this._value=s?t:ge(t),this.dep.trigger())}}function tr(e){return fe(e)?e.value:e}const ju={get:(e,t,n)=>t==="__v_raw"?e:tr(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return fe(r)&&!fe(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Ri(e){return qt(e)?e:new Proxy(e,ju)}class Ku{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ys(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=en-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&G!==this)return Ei(this,!0),!0}get value(){const t=this.dep.track();return bi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function zu(e,t,n=!1){let s,r;return M(e)?s=e:(s=e.get,r=e.set),new Ku(s,r,n)}const En={},Rn=new WeakMap;let dt;function Wu(e,t=!1,n=dt){if(n){let s=Rn.get(n);s||Rn.set(n,s=[]),s.push(e)}}function Gu(e,t,n=Y){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:l,call:u}=n,f=P=>r?P:Le(P)||r===!1||r===0?rt(P,1):rt(P);let c,h,g,p,m=!1,C=!1;if(fe(e)?(h=()=>e.value,m=Le(e)):qt(e)?(h=()=>f(e),m=!0):U(e)?(C=!0,m=e.some(P=>qt(P)||Le(P)),h=()=>e.map(P=>{if(fe(P))return P.value;if(qt(P))return f(P);if(M(P))return u?u(P,2):P()})):M(e)?t?h=u?()=>u(e,2):e:h=()=>{if(g){ut();try{g()}finally{at()}}const P=dt;dt=c;try{return u?u(e,3,[p]):e(p)}finally{dt=P}}:h=Ge,t&&r){const P=h,K=r===!0?1/0:r;h=()=>rt(P(),K)}const w=bu(),O=()=>{c.stop(),w&&w.active&&$s(w.effects,c)};if(o&&t){const P=t;t=(...K)=>{P(...K),O()}}let V=C?new Array(e.length).fill(En):En;const k=P=>{if(!(!(c.flags&1)||!c.dirty&&!P))if(t){const K=c.run();if(r||m||(C?K.some((Q,de)=>it(Q,V[de])):it(K,V))){g&&g();const Q=dt;dt=c;try{const de=[K,V===En?void 0:C&&V[0]===En?[]:V,p];u?u(t,3,de):t(...de),V=K}finally{dt=Q}}}else c.run()};return l&&l(k),c=new gi(h),c.scheduler=i?()=>i(k,!1):k,p=P=>Wu(P,!1,c),g=c.onStop=()=>{const P=Rn.get(c);if(P){if(u)u(P,4);else for(const K of P)K();Rn.delete(c)}},t?s?k(!0):V=c.run():i?i(k.bind(null,!0),!0):c.run(),O.pause=c.pause.bind(c),O.resume=c.resume.bind(c),O.stop=O,O}function rt(e,t=1/0,n){if(t<=0||!te(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,fe(e))rt(e.value,t,n);else if(U(e))for(let s=0;s<e.length;s++)rt(e[s],t,n);else if(uu(e)||zt(e))e.forEach(s=>{rt(s,t,n)});else if(Hs(e)){for(const s in e)rt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&rt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cn(e,t,n,s){try{return s?e(...s):e()}catch(r){Wn(r,t,n)}}function Ye(e,t,n,s){if(M(e)){const r=cn(e,t,n,s);return r&&di(r)&&r.catch(o=>{Wn(o,t,n)}),r}if(U(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Ye(e[o],t,n,s));return r}}function Wn(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Y;if(t){let l=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,u,f)===!1)return}l=l.parent}if(o){ut(),cn(o,null,10,[e,u,f]),at();return}}Yu(e,n,r,s,i)}function Yu(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const me=[];let je=-1;const Ct=[];let nt=null,bt=0;const ki=Promise.resolve();let kn=null;function nr(e){const t=kn||ki;return e?t.then(this?e.bind(this):e):t}function qu(e){let t=je+1,n=me.length;for(;t<n;){const s=t+n>>>1,r=me[s],o=nn(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function sr(e){if(!(e.flags&1)){const t=nn(e),n=me[me.length-1];!n||!(e.flags&2)&&t>=nn(n)?me.push(e):me.splice(qu(t),0,e),e.flags|=1,Ni()}}function Ni(){kn||(kn=ki.then(Fi))}function Zu(e){U(e)?Ct.push(...e):nt&&e.id===-1?nt.splice(bt+1,0,e):e.flags&1||(Ct.push(e),e.flags|=1),Ni()}function Pr(e,t,n=je+1){for(;n<me.length;n++){const s=me[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;me.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Vi(e){if(Ct.length){const t=[...new Set(Ct)].sort((n,s)=>nn(n)-nn(s));if(Ct.length=0,nt){nt.push(...t);return}for(nt=t,bt=0;bt<nt.length;bt++){const n=nt[bt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}nt=null,bt=0}}const nn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Fi(e){try{for(je=0;je<me.length;je++){const t=me[je];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),cn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;je<me.length;je++){const t=me[je];t&&(t.flags&=-2)}je=-1,me.length=0,Vi(),kn=null,(me.length||Ct.length)&&Fi()}}let We,Ht=[],vs=!1;function Gn(e,...t){We?We.emit(e,...t):vs||Ht.push({event:e,args:t})}function Li(e,t){var n,s;We=e,We?(We.enabled=!0,Ht.forEach(({event:r,args:o})=>We.emit(r,...o)),Ht=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{Li(o,t)}),setTimeout(()=>{We||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,vs=!0,Ht=[])},3e3)):(vs=!0,Ht=[])}function Xu(e,t){Gn("app:init",e,t,{Fragment:Ke,Text:fn,Comment:wt,Static:An})}function Ju(e){Gn("app:unmount",e)}const Qu=rr("component:added"),Ui=rr("component:updated"),ea=rr("component:removed"),ta=e=>{We&&typeof We.cleanupBuffer=="function"&&!We.cleanupBuffer(e)&&ea(e)};/*! #__NO_SIDE_EFFECTS__ */function rr(e){return t=>{Gn(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function na(e,t,n){Gn("component:emit",e.appContext.app,e,t,n)}let Ne=null,Mi=null;function Nn(e){const t=Ne;return Ne=e,Mi=e&&e.type.__scopeId||null,t}function sa(e,t=Ne,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Br(-1);const o=Nn(t);let i;try{i=e(...r)}finally{Nn(o),s._d&&Br(1)}return Ui(t),i};return s._n=!0,s._c=!0,s._d=!0,s}function ct(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];o&&(l.oldValue=o[i].value);let u=l.dir[s];u&&(ut(),Ye(u,n,8,[e.el,l,e,t]),at())}}const ra=Symbol("_vte"),oa=e=>e.__isTeleport;function or(e,t){e.shapeFlag&6&&e.component?(e.transition=t,or(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Yn(e,t){return M(e)?se({name:e.name},t,{setup:e}):e}function Bi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Vn(e,t,n,s,r=!1){if(U(e)){e.forEach((m,C)=>Vn(m,t&&(U(t)?t[C]:t),n,s,r));return}if(Zt(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Vn(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?ur(s.component):s.el,i=r?null:o,{i:l,r:u}=e,f=t&&t.r,c=l.refs===Y?l.refs={}:l.refs,h=l.setupState,g=$(h),p=h===Y?()=>!1:m=>j(g,m);if(f!=null&&f!==u&&(re(f)?(c[f]=null,p(f)&&(h[f]=null)):fe(f)&&(f.value=null)),M(u))cn(u,l,12,[i,c]);else{const m=re(u),C=fe(u);if(m||C){const w=()=>{if(e.f){const O=m?p(u)?h[u]:c[u]:u.value;r?U(O)&&$s(O,o):U(O)?O.includes(o)||O.push(o):m?(c[u]=[o],p(u)&&(h[u]=c[u])):(u.value=[o],e.k&&(c[e.k]=u.value))}else m?(c[u]=i,p(u)&&(h[u]=i)):C&&(u.value=i,e.k&&(c[e.k]=i))};i?(w.id=-1,Te(w,n)):w()}}}Kn().requestIdleCallback;Kn().cancelIdleCallback;const Zt=e=>!!e.type.__asyncLoader,$i=e=>e.type.__isKeepAlive;function ia(e,t){Hi(e,"a",t)}function la(e,t){Hi(e,"da",t)}function Hi(e,t,n=ce){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(qn(t,s,n),n){let r=n.parent;for(;r&&r.parent;)$i(r.parent.vnode)&&ua(s,t,n,r),r=r.parent}}function ua(e,t,n,s){const r=qn(t,e,s,!0);ji(()=>{$s(s[t],r)},n)}function qn(e,t,n=ce,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{ut();const l=dn(n),u=Ye(t,n,e,i);return l(),at(),u});return s?r.unshift(o):r.push(o),o}}const Qe=e=>(t,n=ce)=>{(!rn||e==="sp")&&qn(e,(...s)=>t(...s),n)},aa=Qe("bm"),ca=Qe("m"),fa=Qe("bu"),da=Qe("u"),ha=Qe("bum"),ji=Qe("um"),pa=Qe("sp"),_a=Qe("rtg"),ga=Qe("rtc");function ma(e,t=ce){qn("ec",e,t)}const Ea=Symbol.for("v-ndc"),ys=e=>e?fl(e)?ur(e):ys(e.parent):null,Xt=se(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ys(e.parent),$root:e=>ys(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>zi(e),$forceUpdate:e=>e.f||(e.f=()=>{sr(e.update)}),$nextTick:e=>e.n||(e.n=nr.bind(e.proxy)),$watch:e=>Ba.bind(e)}),is=(e,t)=>e!==Y&&!e.__isScriptSetup&&j(e,t),va={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:l,appContext:u}=e;let f;if(t[0]!=="$"){const p=i[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(is(s,t))return i[t]=1,s[t];if(r!==Y&&j(r,t))return i[t]=2,r[t];if((f=e.propsOptions[0])&&j(f,t))return i[t]=3,o[t];if(n!==Y&&j(n,t))return i[t]=4,n[t];bs&&(i[t]=0)}}const c=Xt[t];let h,g;if(c)return t==="$attrs"&&ae(e.attrs,"get",""),c(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Y&&j(n,t))return i[t]=4,n[t];if(g=u.config.globalProperties,j(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return is(r,t)?(r[t]=n,!0):s!==Y&&j(s,t)?(s[t]=n,!0):j(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let l;return!!n[i]||e!==Y&&j(e,i)||is(t,i)||(l=o[0])&&j(l,i)||j(s,i)||j(Xt,i)||j(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:j(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Rr(e){return U(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let bs=!0;function ya(e){const t=zi(e),n=e.proxy,s=e.ctx;bs=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:l,provide:u,inject:f,created:c,beforeMount:h,mounted:g,beforeUpdate:p,updated:m,activated:C,deactivated:w,beforeDestroy:O,beforeUnmount:V,destroyed:k,unmounted:P,render:K,renderTracked:Q,renderTriggered:de,errorCaptured:he,serverPrefetch:Z,expose:J,inheritAttrs:ve,components:De,directives:Oe,filters:ye}=t;if(f&&ba(f,s,null),i)for(const R in i){const H=i[R];M(H)&&(s[R]=H.bind(n))}if(r){const R=r.call(n,n);te(R)&&(e.data=Xs(R))}if(bs=!0,o)for(const R in o){const H=o[R],oe=M(H)?H.bind(n,n):M(H.get)?H.get.bind(n,n):Ge,Re=!M(H)&&M(H.set)?H.set.bind(n):Ge,le=ac({get:oe,set:Re});Object.defineProperty(s,R,{enumerable:!0,configurable:!0,get:()=>le.value,set:ee=>le.value=ee})}if(l)for(const R in l)Ki(l[R],s,n,R);if(u){const R=M(u)?u.call(n):u;Reflect.ownKeys(R).forEach(H=>{wa(H,R[H])})}c&&kr(c,e,"c");function X(R,H){U(H)?H.forEach(oe=>R(oe.bind(n))):H&&R(H.bind(n))}if(X(aa,h),X(ca,g),X(fa,p),X(da,m),X(ia,C),X(la,w),X(ma,he),X(ga,Q),X(_a,de),X(ha,V),X(ji,P),X(pa,Z),U(J))if(J.length){const R=e.exposed||(e.exposed={});J.forEach(H=>{Object.defineProperty(R,H,{get:()=>n[H],set:oe=>n[H]=oe})})}else e.exposed||(e.exposed={});K&&e.render===Ge&&(e.render=K),ve!=null&&(e.inheritAttrs=ve),De&&(e.components=De),Oe&&(e.directives=Oe),Z&&Bi(e)}function ba(e,t,n=Ge){U(e)&&(e=As(e));for(const s in e){const r=e[s];let o;te(r)?"default"in r?o=yn(r.from||s,r.default,!0):o=yn(r.from||s):o=yn(r),fe(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function kr(e,t,n){Ye(U(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ki(e,t,n,s){let r=s.includes(".")?ol(n,s):()=>n[s];if(re(e)){const o=t[e];M(o)&&bn(r,o)}else if(M(e))bn(r,e.bind(n));else if(te(e))if(U(e))e.forEach(o=>Ki(o,t,n,s));else{const o=M(e.handler)?e.handler.bind(n):t[e.handler];M(o)&&bn(r,o,e)}}function zi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let u;return l?u=l:!r.length&&!n&&!s?u=t:(u={},r.length&&r.forEach(f=>Fn(u,f,i,!0)),Fn(u,t,i)),te(t)&&o.set(t,u),u}function Fn(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Fn(e,o,n,!0),r&&r.forEach(i=>Fn(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=Aa[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Aa={data:Nr,props:Vr,emits:Vr,methods:jt,computed:jt,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:jt,directives:jt,watch:Sa,provide:Nr,inject:Oa};function Nr(e,t){return t?e?function(){return se(M(e)?e.call(this,this):e,M(t)?t.call(this,this):t)}:t:e}function Oa(e,t){return jt(As(e),As(t))}function As(e){if(U(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _e(e,t){return e?[...new Set([].concat(e,t))]:t}function jt(e,t){return e?se(Object.create(null),e,t):t}function Vr(e,t){return e?U(e)&&U(t)?[...new Set([...e,...t])]:se(Object.create(null),Rr(e),Rr(t??{})):t}function Sa(e,t){if(!e)return t;if(!t)return e;const n=se(Object.create(null),e);for(const s in t)n[s]=_e(e[s],t[s]);return n}function Wi(){return{app:null,config:{isNativeTag:iu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ca=0;function Ta(e,t){return function(s,r=null){M(s)||(s=se({},s)),r!=null&&!te(r)&&(r=null);const o=Wi(),i=new WeakSet,l=[];let u=!1;const f=o.app={_uid:Ca++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:jr,get config(){return o.config},set config(c){},use(c,...h){return i.has(c)||(c&&M(c.install)?(i.add(c),c.install(f,...h)):M(c)&&(i.add(c),c(f,...h))),f},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),f},component(c,h){return h?(o.components[c]=h,f):o.components[c]},directive(c,h){return h?(o.directives[c]=h,f):o.directives[c]},mount(c,h,g){if(!u){const p=f._ceVNode||Ae(s,r);return p.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(p,c,g),u=!0,f._container=c,c.__vue_app__=f,f._instance=p.component,Xu(f,jr),ur(p.component)}},onUnmount(c){l.push(c)},unmount(){u&&(Ye(l,f._instance,16),e(null,f._container),f._instance=null,Ju(f),delete f._container.__vue_app__)},provide(c,h){return o.provides[c]=h,f},runWithContext(c){const h=Tt;Tt=f;try{return c()}finally{Tt=h}}};return f}}let Tt=null;function wa(e,t){if(ce){let n=ce.provides;const s=ce.parent&&ce.parent.provides;s===n&&(n=ce.provides=Object.create(s)),n[e]=t}}function yn(e,t,n=!1){const s=ce||Ne;if(s||Tt){const r=Tt?Tt._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&M(t)?t.call(s&&s.proxy):t}}const Gi={},Yi=()=>Object.create(Gi),qi=e=>Object.getPrototypeOf(e)===Gi;function xa(e,t,n,s=!1){const r={},o=Yi();e.propsDefaults=Object.create(null),Zi(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Bu(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Ia(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,l=$(r),[u]=e.propsOptions;let f=!1;if((s||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let g=c[h];if(Zn(e.emitsOptions,g))continue;const p=t[g];if(u)if(j(o,g))p!==o[g]&&(o[g]=p,f=!0);else{const m=Ve(g);r[m]=Os(u,l,m,p,e,!1)}else p!==o[g]&&(o[g]=p,f=!0)}}}else{Zi(e,t,r,o)&&(f=!0);let c;for(const h in l)(!t||!j(t,h)&&((c=Pe(h))===h||!j(t,c)))&&(u?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=Os(u,l,h,void 0,e,!0)):delete r[h]);if(o!==l)for(const h in o)(!t||!j(t,h))&&(delete o[h],f=!0)}f&&Je(e.attrs,"set","")}function Zi(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,l;if(t)for(let u in t){if(Wt(u))continue;const f=t[u];let c;r&&j(r,c=Ve(u))?!o||!o.includes(c)?n[c]=f:(l||(l={}))[c]=f:Zn(e.emitsOptions,u)||(!(u in s)||f!==s[u])&&(s[u]=f,i=!0)}if(o){const u=$(n),f=l||Y;for(let c=0;c<o.length;c++){const h=o[c];n[h]=Os(r,u,h,f[h],e,!j(f,h))}}return i}function Os(e,t,n,s,r,o){const i=e[n];if(i!=null){const l=j(i,"default");if(l&&s===void 0){const u=i.default;if(i.type!==Function&&!i.skipFactory&&M(u)){const{propsDefaults:f}=r;if(n in f)s=f[n];else{const c=dn(r);s=f[n]=u.call(null,t),c()}}else s=u;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!l?s=!1:i[1]&&(s===""||s===Pe(n))&&(s=!0))}return s}const Da=new WeakMap;function Xi(e,t,n=!1){const s=n?Da:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},l=[];let u=!1;if(!M(e)){const c=h=>{u=!0;const[g,p]=Xi(h,t,!0);se(i,g),p&&l.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!u)return te(e)&&s.set(e,St),St;if(U(o))for(let c=0;c<o.length;c++){const h=Ve(o[c]);Fr(h)&&(i[h]=Y)}else if(o)for(const c in o){const h=Ve(c);if(Fr(h)){const g=o[c],p=i[h]=U(g)||M(g)?{type:g}:se({},g),m=p.type;let C=!1,w=!0;if(U(m))for(let O=0;O<m.length;++O){const V=m[O],k=M(V)&&V.name;if(k==="Boolean"){C=!0;break}else k==="String"&&(w=!1)}else C=M(m)&&m.name==="Boolean";p[0]=C,p[1]=w,(C||j(p,"default"))&&l.push(h)}}const f=[i,l];return te(e)&&s.set(e,f),f}function Fr(e){return e[0]!=="$"&&!Wt(e)}const Ji=e=>e[0]==="_"||e==="$stable",ir=e=>U(e)?e.map(ze):[ze(e)],Pa=(e,t,n)=>{if(t._n)return t;const s=sa((...r)=>ir(t(...r)),n);return s._c=!1,s},Qi=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Ji(r))continue;const o=e[r];if(M(o))t[r]=Pa(r,o,s);else if(o!=null){const i=ir(o);t[r]=()=>i}}},el=(e,t)=>{const n=ir(t);e.slots.default=()=>n},tl=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Ra=(e,t,n)=>{const s=e.slots=Yi();if(e.vnode.shapeFlag&32){const r=t._;r?(tl(s,t,n),n&&Pn(s,"_",r,!0)):Qi(t,s)}else t&&el(e,t)},ka=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Y;if(s.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:tl(r,t,n):(o=!t.$stable,Qi(t,r)),i=t}else t&&(el(e,t),i={default:1});if(o)for(const l in r)!Ji(l)&&i[l]==null&&delete r[l]},Te=Ga;function Na(e){return Va(e)}function Va(e,t){const n=Kn();n.__VUE__=!0,Li(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:r,patchProp:o,createElement:i,createText:l,createComment:u,setText:f,setElementText:c,parentNode:h,nextSibling:g,setScopeId:p=Ge,insertStaticContent:m}=e,C=(a,d,_,b=null,v=null,y=null,x=void 0,T=null,S=!!d.dynamicChildren)=>{if(a===d)return;a&&!Bt(a,d)&&(b=_n(a),ee(a,v,y,!0),a=null),d.patchFlag===-2&&(S=!1,d.dynamicChildren=null);const{type:A,ref:F,shapeFlag:I}=d;switch(A){case fn:w(a,d,_,b);break;case wt:O(a,d,_,b);break;case An:a==null&&V(d,_,b,x);break;case Ke:De(a,d,_,b,v,y,x,T,S);break;default:I&1?K(a,d,_,b,v,y,x,T,S):I&6?Oe(a,d,_,b,v,y,x,T,S):(I&64||I&128)&&A.process(a,d,_,b,v,y,x,T,S,Lt)}F!=null&&v&&Vn(F,a&&a.ref,y,d||a,!d)},w=(a,d,_,b)=>{if(a==null)s(d.el=l(d.children),_,b);else{const v=d.el=a.el;d.children!==a.children&&f(v,d.children)}},O=(a,d,_,b)=>{a==null?s(d.el=u(d.children||""),_,b):d.el=a.el},V=(a,d,_,b)=>{[a.el,a.anchor]=m(a.children,d,_,b,a.el,a.anchor)},k=({el:a,anchor:d},_,b)=>{let v;for(;a&&a!==d;)v=g(a),s(a,_,b),a=v;s(d,_,b)},P=({el:a,anchor:d})=>{let _;for(;a&&a!==d;)_=g(a),r(a),a=_;r(d)},K=(a,d,_,b,v,y,x,T,S)=>{d.type==="svg"?x="svg":d.type==="math"&&(x="mathml"),a==null?Q(d,_,b,v,y,x,T,S):Z(a,d,v,y,x,T,S)},Q=(a,d,_,b,v,y,x,T)=>{let S,A;const{props:F,shapeFlag:I,transition:N,dirs:L}=a;if(S=a.el=i(a.type,y,F&&F.is,F),I&8?c(S,a.children):I&16&&he(a.children,S,null,b,v,ls(a,y),x,T),L&&ct(a,null,b,"created"),de(S,a,a.scopeId,x,b),F){for(const W in F)W!=="value"&&!Wt(W)&&o(S,W,null,F[W],y,b);"value"in F&&o(S,"value",null,F.value,y),(A=F.onVnodeBeforeMount)&&$e(A,b,a)}Pn(S,"__vnode",a,!0),Pn(S,"__vueParentComponent",b,!0),L&&ct(a,null,b,"beforeMount");const B=Fa(v,N);B&&N.beforeEnter(S),s(S,d,_),((A=F&&F.onVnodeMounted)||B||L)&&Te(()=>{A&&$e(A,b,a),B&&N.enter(S),L&&ct(a,null,b,"mounted")},v)},de=(a,d,_,b,v)=>{if(_&&p(a,_),b)for(let y=0;y<b.length;y++)p(a,b[y]);if(v){let y=v.subTree;if(d===y||ll(y.type)&&(y.ssContent===d||y.ssFallback===d)){const x=v.vnode;de(a,x,x.scopeId,x.slotScopeIds,v.parent)}}},he=(a,d,_,b,v,y,x,T,S=0)=>{for(let A=S;A<a.length;A++){const F=a[A]=T?st(a[A]):ze(a[A]);C(null,F,d,_,b,v,y,x,T)}},Z=(a,d,_,b,v,y,x)=>{const T=d.el=a.el;T.__vnode=d;let{patchFlag:S,dynamicChildren:A,dirs:F}=d;S|=a.patchFlag&16;const I=a.props||Y,N=d.props||Y;let L;if(_&&ft(_,!1),(L=N.onVnodeBeforeUpdate)&&$e(L,_,d,a),F&&ct(d,a,_,"beforeUpdate"),_&&ft(_,!0),(I.innerHTML&&N.innerHTML==null||I.textContent&&N.textContent==null)&&c(T,""),A?J(a.dynamicChildren,A,T,_,b,ls(d,v),y):x||H(a,d,T,null,_,b,ls(d,v),y,!1),S>0){if(S&16)ve(T,I,N,_,v);else if(S&2&&I.class!==N.class&&o(T,"class",null,N.class,v),S&4&&o(T,"style",I.style,N.style,v),S&8){const B=d.dynamicProps;for(let W=0;W<B.length;W++){const z=B[W],Se=I[z],be=N[z];(be!==Se||z==="value")&&o(T,z,Se,be,v,_)}}S&1&&a.children!==d.children&&c(T,d.children)}else!x&&A==null&&ve(T,I,N,_,v);((L=N.onVnodeUpdated)||F)&&Te(()=>{L&&$e(L,_,d,a),F&&ct(d,a,_,"updated")},b)},J=(a,d,_,b,v,y,x)=>{for(let T=0;T<d.length;T++){const S=a[T],A=d[T],F=S.el&&(S.type===Ke||!Bt(S,A)||S.shapeFlag&70)?h(S.el):_;C(S,A,F,null,b,v,y,x,!0)}},ve=(a,d,_,b,v)=>{if(d!==_){if(d!==Y)for(const y in d)!Wt(y)&&!(y in _)&&o(a,y,d[y],null,v,b);for(const y in _){if(Wt(y))continue;const x=_[y],T=d[y];x!==T&&y!=="value"&&o(a,y,T,x,v,b)}"value"in _&&o(a,"value",d.value,_.value,v)}},De=(a,d,_,b,v,y,x,T,S)=>{const A=d.el=a?a.el:l(""),F=d.anchor=a?a.anchor:l("");let{patchFlag:I,dynamicChildren:N,slotScopeIds:L}=d;L&&(T=T?T.concat(L):L),a==null?(s(A,_,b),s(F,_,b),he(d.children||[],_,F,v,y,x,T,S)):I>0&&I&64&&N&&a.dynamicChildren?(J(a.dynamicChildren,N,_,v,y,x,T),(d.key!=null||v&&d===v.subTree)&&nl(a,d,!0)):H(a,d,_,F,v,y,x,T,S)},Oe=(a,d,_,b,v,y,x,T,S)=>{d.slotScopeIds=T,a==null?d.shapeFlag&512?v.ctx.activate(d,_,b,x,S):ye(d,_,b,v,y,x,S):pe(a,d,S)},ye=(a,d,_,b,v,y,x)=>{const T=a.component=nc(a,b,v);if($i(a)&&(T.ctx.renderer=Lt),rc(T,!1,x),T.asyncDep){if(v&&v.registerDep(T,X,x),!a.el){const S=T.subTree=Ae(wt);O(null,S,d,_)}}else X(T,a,d,_,v,y,x)},pe=(a,d,_)=>{const b=d.component=a.component;if(za(a,d,_))if(b.asyncDep&&!b.asyncResolved){R(b,d,_);return}else b.next=d,b.update();else d.el=a.el,b.vnode=d},X=(a,d,_,b,v,y,x)=>{const T=()=>{if(a.isMounted){let{next:I,bu:N,u:L,parent:B,vnode:W}=a;{const Me=sl(a);if(Me){I&&(I.el=W.el,R(a,I,x)),Me.asyncDep.then(()=>{a.isUnmounted||T()});return}}let z=I,Se;ft(a,!1),I?(I.el=W.el,R(a,I,x)):I=W,N&&ns(N),(Se=I.props&&I.props.onVnodeBeforeUpdate)&&$e(Se,B,I,W),ft(a,!0);const be=Ur(a),Ue=a.subTree;a.subTree=be,C(Ue,be,h(Ue.el),_n(Ue),a,v,y),I.el=be.el,z===null&&Wa(a,be.el),L&&Te(L,v),(Se=I.props&&I.props.onVnodeUpdated)&&Te(()=>$e(Se,B,I,W),v),Ui(a)}else{let I;const{el:N,props:L}=d,{bm:B,m:W,parent:z,root:Se,type:be}=a,Ue=Zt(d);ft(a,!1),B&&ns(B),!Ue&&(I=L&&L.onVnodeBeforeMount)&&$e(I,z,d),ft(a,!0);{Se.ce&&Se.ce._injectChildStyle(be);const Me=a.subTree=Ur(a);C(null,Me,_,b,a,v,y),d.el=Me.el}if(W&&Te(W,v),!Ue&&(I=L&&L.onVnodeMounted)){const Me=d;Te(()=>$e(I,z,Me),v)}(d.shapeFlag&256||z&&Zt(z.vnode)&&z.vnode.shapeFlag&256)&&a.a&&Te(a.a,v),a.isMounted=!0,Qu(a),d=_=b=null}};a.scope.on();const S=a.effect=new gi(T);a.scope.off();const A=a.update=S.run.bind(S),F=a.job=S.runIfDirty.bind(S);F.i=a,F.id=a.uid,S.scheduler=()=>sr(F),ft(a,!0),A()},R=(a,d,_)=>{d.component=a;const b=a.vnode.props;a.vnode=d,a.next=null,Ia(a,d.props,b,_),ka(a,d.children,_),ut(),Pr(a),at()},H=(a,d,_,b,v,y,x,T,S=!1)=>{const A=a&&a.children,F=a?a.shapeFlag:0,I=d.children,{patchFlag:N,shapeFlag:L}=d;if(N>0){if(N&128){Re(A,I,_,b,v,y,x,T,S);return}else if(N&256){oe(A,I,_,b,v,y,x,T,S);return}}L&8?(F&16&&Ft(A,v,y),I!==A&&c(_,I)):F&16?L&16?Re(A,I,_,b,v,y,x,T,S):Ft(A,v,y,!0):(F&8&&c(_,""),L&16&&he(I,_,b,v,y,x,T,S))},oe=(a,d,_,b,v,y,x,T,S)=>{a=a||St,d=d||St;const A=a.length,F=d.length,I=Math.min(A,F);let N;for(N=0;N<I;N++){const L=d[N]=S?st(d[N]):ze(d[N]);C(a[N],L,_,null,v,y,x,T,S)}A>F?Ft(a,v,y,!0,!1,I):he(d,_,b,v,y,x,T,S,I)},Re=(a,d,_,b,v,y,x,T,S)=>{let A=0;const F=d.length;let I=a.length-1,N=F-1;for(;A<=I&&A<=N;){const L=a[A],B=d[A]=S?st(d[A]):ze(d[A]);if(Bt(L,B))C(L,B,_,null,v,y,x,T,S);else break;A++}for(;A<=I&&A<=N;){const L=a[I],B=d[N]=S?st(d[N]):ze(d[N]);if(Bt(L,B))C(L,B,_,null,v,y,x,T,S);else break;I--,N--}if(A>I){if(A<=N){const L=N+1,B=L<F?d[L].el:b;for(;A<=N;)C(null,d[A]=S?st(d[A]):ze(d[A]),_,B,v,y,x,T,S),A++}}else if(A>N)for(;A<=I;)ee(a[A],v,y,!0),A++;else{const L=A,B=A,W=new Map;for(A=B;A<=N;A++){const Ce=d[A]=S?st(d[A]):ze(d[A]);Ce.key!=null&&W.set(Ce.key,A)}let z,Se=0;const be=N-B+1;let Ue=!1,Me=0;const Ut=new Array(be);for(A=0;A<be;A++)Ut[A]=0;for(A=L;A<=I;A++){const Ce=a[A];if(Se>=be){ee(Ce,v,y,!0);continue}let Be;if(Ce.key!=null)Be=W.get(Ce.key);else for(z=B;z<=N;z++)if(Ut[z-B]===0&&Bt(Ce,d[z])){Be=z;break}Be===void 0?ee(Ce,v,y,!0):(Ut[Be-B]=A+1,Be>=Me?Me=Be:Ue=!0,C(Ce,d[Be],_,null,v,y,x,T,S),Se++)}const Cr=Ue?La(Ut):St;for(z=Cr.length-1,A=be-1;A>=0;A--){const Ce=B+A,Be=d[Ce],Tr=Ce+1<F?d[Ce+1].el:b;Ut[A]===0?C(null,Be,_,Tr,v,y,x,T,S):Ue&&(z<0||A!==Cr[z]?le(Be,_,Tr,2):z--)}}},le=(a,d,_,b,v=null)=>{const{el:y,type:x,transition:T,children:S,shapeFlag:A}=a;if(A&6){le(a.component.subTree,d,_,b);return}if(A&128){a.suspense.move(d,_,b);return}if(A&64){x.move(a,d,_,Lt);return}if(x===Ke){s(y,d,_);for(let I=0;I<S.length;I++)le(S[I],d,_,b);s(a.anchor,d,_);return}if(x===An){k(a,d,_);return}if(b!==2&&A&1&&T)if(b===0)T.beforeEnter(y),s(y,d,_),Te(()=>T.enter(y),v);else{const{leave:I,delayLeave:N,afterLeave:L}=T,B=()=>s(y,d,_),W=()=>{I(y,()=>{B(),L&&L()})};N?N(y,B,W):W()}else s(y,d,_)},ee=(a,d,_,b=!1,v=!1)=>{const{type:y,props:x,ref:T,children:S,dynamicChildren:A,shapeFlag:F,patchFlag:I,dirs:N,cacheIndex:L}=a;if(I===-2&&(v=!1),T!=null&&Vn(T,null,_,a,!0),L!=null&&(d.renderCache[L]=void 0),F&256){d.ctx.deactivate(a);return}const B=F&1&&N,W=!Zt(a);let z;if(W&&(z=x&&x.onVnodeBeforeUnmount)&&$e(z,d,a),F&6)Vt(a.component,_,b);else{if(F&128){a.suspense.unmount(_,b);return}B&&ct(a,null,d,"beforeUnmount"),F&64?a.type.remove(a,d,_,Lt,b):A&&!A.hasOnce&&(y!==Ke||I>0&&I&64)?Ft(A,d,_,!1,!0):(y===Ke&&I&384||!v&&F&16)&&Ft(S,d,_),b&&et(a)}(W&&(z=x&&x.onVnodeUnmounted)||B)&&Te(()=>{z&&$e(z,d,a),B&&ct(a,null,d,"unmounted")},_)},et=a=>{const{type:d,el:_,anchor:b,transition:v}=a;if(d===Ke){pn(_,b);return}if(d===An){P(a);return}const y=()=>{r(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(a.shapeFlag&1&&v&&!v.persisted){const{leave:x,delayLeave:T}=v,S=()=>x(_,y);T?T(a.el,y,S):S()}else y()},pn=(a,d)=>{let _;for(;a!==d;)_=g(a),r(a),a=_;r(d)},Vt=(a,d,_)=>{const{bum:b,scope:v,job:y,subTree:x,um:T,m:S,a:A}=a;Lr(S),Lr(A),b&&ns(b),v.stop(),y&&(y.flags|=8,ee(x,a,d,_)),T&&Te(T,d),Te(()=>{a.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&a.asyncDep&&!a.asyncResolved&&a.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve()),ta(a)},Ft=(a,d,_,b=!1,v=!1,y=0)=>{for(let x=y;x<a.length;x++)ee(a[x],d,_,b,v)},_n=a=>{if(a.shapeFlag&6)return _n(a.component.subTree);if(a.shapeFlag&128)return a.suspense.next();const d=g(a.anchor||a.el),_=d&&d[ra];return _?g(_):d};let es=!1;const Sr=(a,d,_)=>{a==null?d._vnode&&ee(d._vnode,null,null,!0):C(d._vnode||null,a,d,null,null,null,_),d._vnode=a,es||(es=!0,Pr(),Vi(),es=!1)},Lt={p:C,um:ee,m:le,r:et,mt:ye,mc:he,pc:H,pbc:J,n:_n,o:e};return{render:Sr,hydrate:void 0,createApp:Ta(Sr)}}function ls({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ft({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fa(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nl(e,t,n=!1){const s=e.children,r=t.children;if(U(s)&&U(r))for(let o=0;o<s.length;o++){const i=s[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=st(r[o]),l.el=i.el),!n&&l.patchFlag!==-2&&nl(i,l)),l.type===fn&&(l.el=i.el)}}function La(e){const t=e.slice(),n=[0];let s,r,o,i,l;const u=e.length;for(s=0;s<u;s++){const f=e[s];if(f!==0){if(r=n[n.length-1],e[r]<f){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<f?o=l+1:i=l;f<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function sl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sl(t)}function Lr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ua=Symbol.for("v-scx"),Ma=()=>yn(Ua);function bn(e,t,n){return rl(e,t,n)}function rl(e,t,n=Y){const{immediate:s,deep:r,flush:o,once:i}=n,l=se({},n),u=t&&s||!t&&o!=="post";let f;if(rn){if(o==="sync"){const p=Ma();f=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=()=>{};return p.stop=Ge,p.resume=Ge,p.pause=Ge,p}}const c=ce;l.call=(p,m,C)=>Ye(p,c,m,C);let h=!1;o==="post"?l.scheduler=p=>{Te(p,c&&c.suspense)}:o!=="sync"&&(h=!0,l.scheduler=(p,m)=>{m?p():sr(p)}),l.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const g=Gu(e,t,l);return rn&&(f?f.push(g):u&&g()),g}function Ba(e,t,n){const s=this.proxy,r=re(e)?e.includes(".")?ol(s,e):()=>s[e]:e.bind(s,s);let o;M(t)?o=t:(o=t.handler,n=t);const i=dn(this),l=rl(r,o.bind(s),n);return i(),l}function ol(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const $a=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ve(t)}Modifiers`]||e[`${Pe(t)}Modifiers`];function Ha(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Y;let r=n;const o=t.startsWith("update:"),i=o&&$a(s,t.slice(7));i&&(i.trim&&(r=n.map(c=>re(c)?c.trim():c)),i.number&&(r=n.map(hu))),na(e,t,r);let l,u=s[l=ts(t)]||s[l=ts(Ve(t))];!u&&o&&(u=s[l=ts(Pe(t))]),u&&Ye(u,e,6,r);const f=s[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ye(f,e,6,r)}}function il(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},l=!1;if(!M(e)){const u=f=>{const c=il(f,t,!0);c&&(l=!0,se(i,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!l?(te(e)&&s.set(e,null),null):(U(o)?o.forEach(u=>i[u]=null):se(i,o),te(e)&&s.set(e,i),i)}function Zn(e,t){return!e||!$n(t)?!1:(t=t.slice(2).replace(/Once$/,""),j(e,t[0].toLowerCase()+t.slice(1))||j(e,Pe(t))||j(e,t))}function Ur(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:l,emit:u,render:f,renderCache:c,props:h,data:g,setupState:p,ctx:m,inheritAttrs:C}=e,w=Nn(e);let O,V;try{if(n.shapeFlag&4){const P=r||s,K=P;O=ze(f.call(K,P,c,h,p,g,m)),V=l}else{const P=t;O=ze(P.length>1?P(h,{attrs:l,slots:i,emit:u}):P(h,null)),V=t.props?l:ja(l)}}catch(P){Jt.length=0,Wn(P,e,1),O=Ae(wt)}let k=O;if(V&&C!==!1){const P=Object.keys(V),{shapeFlag:K}=k;P.length&&K&7&&(o&&P.some(Bs)&&(V=Ka(V,o)),k=xt(k,V,!1,!0))}return n.dirs&&(k=xt(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&or(k,n.transition),O=k,Nn(w),O}const ja=e=>{let t;for(const n in e)(n==="class"||n==="style"||$n(n))&&((t||(t={}))[n]=e[n]);return t},Ka=(e,t)=>{const n={};for(const s in e)(!Bs(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function za(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:l,patchFlag:u}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Mr(s,i,f):!!i;if(u&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const g=c[h];if(i[g]!==s[g]&&!Zn(f,g))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?Mr(s,i,f):!0:!!i;return!1}function Mr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Zn(n,o))return!0}return!1}function Wa({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ll=e=>e.__isSuspense;function Ga(e,t){t&&t.pendingBranch?U(e)?t.effects.push(...e):t.effects.push(e):Zu(e)}const Ke=Symbol.for("v-fgt"),fn=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),An=Symbol.for("v-stc"),Jt=[];let Ie=null;function ul(e=!1){Jt.push(Ie=e?null:[])}function Ya(){Jt.pop(),Ie=Jt[Jt.length-1]||null}let sn=1;function Br(e,t=!1){sn+=e,e<0&&Ie&&t&&(Ie.hasOnce=!0)}function qa(e){return e.dynamicChildren=sn>0?Ie||St:null,Ya(),sn>0&&Ie&&Ie.push(e),e}function al(e,t,n,s,r,o){return qa(pt(e,t,n,s,r,o,!0))}function Ln(e){return e?e.__v_isVNode===!0:!1}function Bt(e,t){return e.type===t.type&&e.key===t.key}const cl=({key:e})=>e??null,On=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?re(e)||fe(e)||M(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function pt(e,t=null,n=null,s=0,r=null,o=e===Ke?0:1,i=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cl(t),ref:t&&On(t),scopeId:Mi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ne};return l?(lr(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=re(n)?8:16),sn>0&&!i&&Ie&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Ie.push(u),u}const Ae=Za;function Za(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Ea)&&(e=wt),Ln(e)){const l=xt(e,t,!0);return n&&lr(l,n),sn>0&&!o&&Ie&&(l.shapeFlag&6?Ie[Ie.indexOf(e)]=l:Ie.push(l)),l.patchFlag=-2,l}if(uc(e)&&(e=e.__vccOpts),t){t=Xa(t);let{class:l,style:u}=t;l&&!re(l)&&(t.class=zn(l)),te(u)&&(Qs(u)&&!U(u)&&(u=se({},u)),t.style=Ks(u))}const i=re(e)?1:ll(e)?128:oa(e)?64:te(e)?4:M(e)?2:0;return pt(e,t,n,s,r,i,o,!0)}function Xa(e){return e?Qs(e)||qi(e)?se({},e):e:null}function xt(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:l,transition:u}=e,f=t?Qa(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&cl(f),ref:t&&t.ref?n&&o?U(o)?o.concat(On(t)):[o,On(t)]:On(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ke?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xt(e.ssContent),ssFallback:e.ssFallback&&xt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&s&&or(c,u.clone(c)),c}function Ja(e=" ",t=0){return Ae(fn,null,e,t)}function ze(e){return e==null||typeof e=="boolean"?Ae(wt):U(e)?Ae(Ke,null,e.slice()):Ln(e)?st(e):Ae(fn,null,String(e))}function st(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xt(e)}function lr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(U(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),lr(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!qi(t)?t._ctx=Ne:r===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else M(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),s&64?(n=16,t=[Ja(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qa(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=zn([t.class,s.class]));else if(r==="style")t.style=Ks([t.style,s.style]);else if($n(r)){const o=t[r],i=s[r];i&&o!==i&&!(U(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function $e(e,t,n,s=null){Ye(e,t,7,[n,s])}const ec=Wi();let tc=0;function nc(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||ec,o={uid:tc++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _i(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xi(s,r),emitsOptions:il(s,r),emit:null,emitted:null,propsDefaults:Y,inheritAttrs:s.inheritAttrs,ctx:Y,data:Y,props:Y,attrs:Y,slots:Y,refs:Y,setupState:Y,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ha.bind(null,o),e.ce&&e.ce(o),o}let ce=null;const sc=()=>ce||Ne;let Un,Ss;{const e=Kn(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};Un=t("__VUE_INSTANCE_SETTERS__",n=>ce=n),Ss=t("__VUE_SSR_SETTERS__",n=>rn=n)}const dn=e=>{const t=ce;return Un(e),e.scope.on(),()=>{e.scope.off(),Un(t)}},$r=()=>{ce&&ce.scope.off(),Un(null)};function fl(e){return e.vnode.shapeFlag&4}let rn=!1;function rc(e,t=!1,n=!1){t&&Ss(t);const{props:s,children:r}=e.vnode,o=fl(e);xa(e,s,o,t),Ra(e,r,n);const i=o?oc(e,t):void 0;return t&&Ss(!1),i}function oc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,va);const{setup:s}=n;if(s){ut();const r=e.setupContext=s.length>1?lc(e):null,o=dn(e),i=cn(s,e,0,[e.props,r]),l=di(i);if(at(),o(),(l||e.sp)&&!Zt(e)&&Bi(e),l){if(i.then($r,$r),t)return i.then(u=>{Hr(e,u)}).catch(u=>{Wn(u,e,0)});e.asyncDep=i}else Hr(e,i)}else dl(e)}function Hr(e,t,n){M(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:te(t)&&(e.devtoolsRawSetupState=t,e.setupState=Ri(t)),dl(e)}function dl(e,t,n){const s=e.type;e.render||(e.render=s.render||Ge);{const r=dn(e);ut();try{ya(e)}finally{at(),r()}}}const ic={get(e,t){return ae(e,"get",""),e[t]}};function lc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ic),slots:e.slots,emit:e.emit,expose:t}}function ur(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ri(er(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xt)return Xt[n](e)},has(t,n){return n in t||n in Xt}})):e.proxy}function uc(e){return M(e)&&"__vccOpts"in e}const ac=(e,t)=>zu(e,t,rn);function Cs(e,t,n){const s=arguments.length;return s===2?te(t)&&!U(t)?Ln(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ln(n)&&(n=[n]),Ae(e,t,n))}const jr="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ts;const Kr=typeof window<"u"&&window.trustedTypes;if(Kr)try{Ts=Kr.createPolicy("vue",{createHTML:e=>e})}catch{}const hl=Ts?e=>Ts.createHTML(e):e=>e,cc="http://www.w3.org/2000/svg",fc="http://www.w3.org/1998/Math/MathML",Xe=typeof document<"u"?document:null,zr=Xe&&Xe.createElement("template"),dc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Xe.createElementNS(cc,e):t==="mathml"?Xe.createElementNS(fc,e):n?Xe.createElement(e,{is:n}):Xe.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Xe.createTextNode(e),createComment:e=>Xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{zr.innerHTML=hl(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=zr.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hc=Symbol("_vtc");function pc(e,t,n){const s=e[hc];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Wr=Symbol("_vod"),_c=Symbol("_vsh"),gc=Symbol(""),mc=/(^|;)\s*display\s*:/;function Ec(e,t,n){const s=e.style,r=re(n);let o=!1;if(n&&!r){if(t)if(re(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&Sn(s,l,"")}else for(const i in t)n[i]==null&&Sn(s,i,"");for(const i in n)i==="display"&&(o=!0),Sn(s,i,n[i])}else if(r){if(t!==n){const i=s[gc];i&&(n+=";"+i),s.cssText=n,o=mc.test(n)}}else t&&e.removeAttribute("style");Wr in e&&(e[Wr]=o?s.display:"",e[_c]&&(s.display="none"))}const Gr=/\s*!important$/;function Sn(e,t,n){if(U(n))n.forEach(s=>Sn(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=vc(e,t);Gr.test(n)?e.setProperty(Pe(s),n.replace(Gr,""),"important"):e[s]=n}}const Yr=["Webkit","Moz","ms"],us={};function vc(e,t){const n=us[t];if(n)return n;let s=Ve(t);if(s!=="filter"&&s in e)return us[t]=s;s=hi(s);for(let r=0;r<Yr.length;r++){const o=Yr[r]+s;if(o in e)return us[t]=o}return t}const qr="http://www.w3.org/1999/xlink";function Zr(e,t,n,s,r,o=vu(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qr,t.slice(6,t.length)):e.setAttributeNS(qr,t,n):n==null||o&&!pi(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Rt(n)?String(n):n)}function Xr(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?hl(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=pi(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function yc(e,t,n,s){e.addEventListener(t,n,s)}function bc(e,t,n,s){e.removeEventListener(t,n,s)}const Jr=Symbol("_vei");function Ac(e,t,n,s,r=null){const o=e[Jr]||(e[Jr]={}),i=o[t];if(s&&i)i.value=s;else{const[l,u]=Oc(t);if(s){const f=o[t]=Tc(s,r);yc(e,l,f,u)}else i&&(bc(e,l,i,u),o[t]=void 0)}}const Qr=/(?:Once|Passive|Capture)$/;function Oc(e){let t;if(Qr.test(e)){t={};let s;for(;s=e.match(Qr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pe(e.slice(2)),t]}let as=0;const Sc=Promise.resolve(),Cc=()=>as||(Sc.then(()=>as=0),as=Date.now());function Tc(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ye(wc(s,n.value),t,5,[s])};return n.value=e,n.attached=Cc(),n}function wc(e,t){if(U(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xc=(e,t,n,s,r,o)=>{const i=r==="svg";t==="class"?pc(e,s,i):t==="style"?Ec(e,n,s):$n(t)?Bs(t)||Ac(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ic(e,t,s,i))?(Xr(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Zr(e,t,s,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!re(s))?Xr(e,Ve(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Zr(e,t,s,i))};function Ic(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&eo(t)&&M(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return eo(t)&&re(n)?!1:t in e}const to={};/*! #__NO_SIDE_EFFECTS__ */function Dc(e,t,n){const s=Yn(e,t);Hs(s)&&se(s,t);class r extends ar{constructor(i){super(s,i,n)}}return r.def=s,r}const Pc=typeof HTMLElement<"u"?HTMLElement:class{};class ar extends Pc{constructor(t,n={},s=xs){super(),this._def=t,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==xs?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof ar){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,nr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:i}=s;let l;if(o&&!U(o))for(const u in o){const f=o[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=wr(this._props[u])),(l||(l=Object.create(null)))[Ve(u)]=!0)}this._numberProps=l,r&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(i),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>t(this._def=s,!0)):t(this._def)}_mount(t){t.name||(t.name="VueElement"),this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)j(this,s)||Object.defineProperty(this,s,{get:()=>tr(n[s])})}_resolveProps(t){const{props:n}=t,s=U(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(Ve))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(o){this._setProp(r,o,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let s=n?this.getAttribute(t):to;const r=Ve(t);n&&this._numberProps&&this._numberProps[r]&&(s=wr(s)),this._setProp(r,s,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,r=!1){if(n!==this._props[t]&&(n===to?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),s)){const o=this._ob;o&&o.disconnect(),n===!0?this.setAttribute(Pe(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Pe(t),n+""):n||this.removeAttribute(Pe(t)),o&&o.observe(this,{attributes:!0})}}_update(){ws(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=Ae(this._def,se(t,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(o,i)=>{this.dispatchEvent(new CustomEvent(o,Hs(i[0])?se({detail:i},i[0]):{detail:i}))};s.emit=(o,...i)=>{r(o,i),Pe(o)!==o&&r(Pe(o),i)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let r=t.length-1;r>=0;r--){const o=document.createElement("style");s&&o.setAttribute("nonce",s),o.textContent=t[r],this.shadowRoot.prepend(o)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(t[s]||(t[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let s=0;s<t.length;s++){const r=t[s],o=r.getAttribute("name")||"default",i=this._slots[o],l=r.parentNode;if(i)for(const u of i){if(n&&u.nodeType===1){const f=n+"-s",c=document.createTreeWalker(u,1);u.setAttribute(f,"");let h;for(;h=c.nextNode();)h.setAttribute(f,"")}l.insertBefore(u,r)}else for(;r.firstChild;)l.insertBefore(r.firstChild,r);l.removeChild(r)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}const Rc=se({patchProp:xc},dc);let no;function pl(){return no||(no=Na(Rc))}const ws=(...e)=>{pl().render(...e)},xs=(...e)=>{const t=pl().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Nc(s);if(!r)return;const o=t._component;!M(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,kc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function kc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Nc(e){return re(e)?document.querySelector(e):e}const Vc=Yn({__name:"FlashCard",setup(e,{expose:t}){t();const n=Pi(!1),r={isFlipped:n,flipCard:()=>{n.value=!n.value}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Fc=".flashcard-container[data-v-ff2632b5]{width:16rem;height:10rem;perspective:1000px;cursor:pointer}.flashcard[data-v-ff2632b5]{position:relative;width:100%;height:100%;transition:transform .5s;transform-style:preserve-3d}.flashcard.is-flipped[data-v-ff2632b5]{transform:rotateY(180deg)}.flashcard-face[data-v-ff2632b5]{position:absolute;width:100%;height:100%;backface-visibility:hidden;background-color:#fff;border-radius:.75rem;box-shadow:0 4px 6px -1px #0000001a;display:flex;align-items:center;justify-content:center;padding:1rem;border:2px solid #e5e7eb}.back[data-v-ff2632b5]{transform:rotateY(180deg)}.japanese-text[data-v-ff2632b5]{font-size:2.25rem;font-weight:700;color:#1f2937}.english-text[data-v-ff2632b5]{font-size:1.25rem;color:#374151}",_l=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n};function Lc(e,t,n,s,r,o){return ul(),al("div",{class:"flashcard-container",onClick:s.flipCard},[pt("div",{class:zn(["flashcard",{"is-flipped":s.isFlipped}])},t[0]||(t[0]=[pt("div",{class:"flashcard-face front"},[pt("span",{class:"japanese-text"},"早く")],-1),pt("div",{class:"flashcard-face back"},[pt("span",{class:"english-text"},"to go fast")],-1)]),2)])}const Uc=_l(Vc,[["render",Lc],["styles",[Fc]],["__scopeId","data-v-ff2632b5"],["__file","FlashCard.vue"]]),Mc=Yn({__name:"App",setup(e,{expose:t}){t();const n={FlashCard:Uc};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),Bc=".app-container[data-v-f5c4e4f1]{min-height:100vh;background-color:#f3f4f6;display:flex;align-items:center;justify-content:center}",$c={class:"app-container"};function Hc(e,t,n,s,r,o){return ul(),al("div",$c,[Ae(s.FlashCard)])}const jc=_l(Mc,[["render",Hc],["styles",[Bc]],["__scopeId","data-v-f5c4e4f1"],["__file","App.vue"]]);var Kc=Object.create,gl=Object.defineProperty,zc=Object.getOwnPropertyDescriptor,cr=Object.getOwnPropertyNames,Wc=Object.getPrototypeOf,Gc=Object.prototype.hasOwnProperty,Yc=(e,t)=>function(){return e&&(t=(0,e[cr(e)[0]])(e=0)),t},qc=(e,t)=>function(){return t||(0,e[cr(e)[0]])((t={exports:{}}).exports,t),t.exports},Zc=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of cr(t))!Gc.call(e,r)&&r!==n&&gl(e,r,{get:()=>t[r],enumerable:!(s=zc(t,r))||s.enumerable});return e},Xc=(e,t,n)=>(n=e!=null?Kc(Wc(e)):{},Zc(gl(n,"default",{value:e,enumerable:!0}),e)),hn=Yc({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),Jc=qc({"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){hn(),t.exports=s;function n(o){return o instanceof Buffer?Buffer.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function s(o){if(o=o||{},o.circles)return r(o);const i=new Map;if(i.set(Date,h=>new Date(h)),i.set(Map,(h,g)=>new Map(u(Array.from(h),g))),i.set(Set,(h,g)=>new Set(u(Array.from(h),g))),o.constructorHandlers)for(const h of o.constructorHandlers)i.set(h[0],h[1]);let l=null;return o.proto?c:f;function u(h,g){const p=Object.keys(h),m=new Array(p.length);for(let C=0;C<p.length;C++){const w=p[C],O=h[w];typeof O!="object"||O===null?m[w]=O:O.constructor!==Object&&(l=i.get(O.constructor))?m[w]=l(O,g):ArrayBuffer.isView(O)?m[w]=n(O):m[w]=g(O)}return m}function f(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,f);if(h.constructor!==Object&&(l=i.get(h.constructor)))return l(h,f);const g={};for(const p in h){if(Object.hasOwnProperty.call(h,p)===!1)continue;const m=h[p];typeof m!="object"||m===null?g[p]=m:m.constructor!==Object&&(l=i.get(m.constructor))?g[p]=l(m,f):ArrayBuffer.isView(m)?g[p]=n(m):g[p]=f(m)}return g}function c(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,c);if(h.constructor!==Object&&(l=i.get(h.constructor)))return l(h,c);const g={};for(const p in h){const m=h[p];typeof m!="object"||m===null?g[p]=m:m.constructor!==Object&&(l=i.get(m.constructor))?g[p]=l(m,c):ArrayBuffer.isView(m)?g[p]=n(m):g[p]=c(m)}return g}}function r(o){const i=[],l=[],u=new Map;if(u.set(Date,p=>new Date(p)),u.set(Map,(p,m)=>new Map(c(Array.from(p),m))),u.set(Set,(p,m)=>new Set(c(Array.from(p),m))),o.constructorHandlers)for(const p of o.constructorHandlers)u.set(p[0],p[1]);let f=null;return o.proto?g:h;function c(p,m){const C=Object.keys(p),w=new Array(C.length);for(let O=0;O<C.length;O++){const V=C[O],k=p[V];if(typeof k!="object"||k===null)w[V]=k;else if(k.constructor!==Object&&(f=u.get(k.constructor)))w[V]=f(k,m);else if(ArrayBuffer.isView(k))w[V]=n(k);else{const P=i.indexOf(k);P!==-1?w[V]=l[P]:w[V]=m(k)}}return w}function h(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,h);if(p.constructor!==Object&&(f=u.get(p.constructor)))return f(p,h);const m={};i.push(p),l.push(m);for(const C in p){if(Object.hasOwnProperty.call(p,C)===!1)continue;const w=p[C];if(typeof w!="object"||w===null)m[C]=w;else if(w.constructor!==Object&&(f=u.get(w.constructor)))m[C]=f(w,h);else if(ArrayBuffer.isView(w))m[C]=n(w);else{const O=i.indexOf(w);O!==-1?m[C]=l[O]:m[C]=h(w)}}return i.pop(),l.pop(),m}function g(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,g);if(p.constructor!==Object&&(f=u.get(p.constructor)))return f(p,g);const m={};i.push(p),l.push(m);for(const C in p){const w=p[C];if(typeof w!="object"||w===null)m[C]=w;else if(w.constructor!==Object&&(f=u.get(w.constructor)))m[C]=f(w,g);else if(ArrayBuffer.isView(w))m[C]=n(w);else{const O=i.indexOf(w);O!==-1?m[C]=l[O]:m[C]=g(w)}}return i.pop(),l.pop(),m}}}});hn();hn();hn();var ml=typeof navigator<"u",D=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:{};typeof D.chrome<"u"&&D.chrome.devtools;ml&&(D.self,D.top);var so;typeof navigator<"u"&&((so=navigator.userAgent)==null||so.toLowerCase().includes("electron"));hn();var Qc=Xc(Jc()),ef=/(?:^|[-_/])(\w)/g;function tf(e,t){return t?t.toUpperCase():""}function nf(e){return e&&`${e}`.replace(ef,tf)}function sf(e,t){let n=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");n.endsWith(`index${t}`)&&(n=n.replace(`/index${t}`,t));const s=n.lastIndexOf("/"),r=n.substring(s+1);{const o=r.lastIndexOf(t);return r.substring(0,o)}}var ro=(0,Qc.default)({circles:!0});const rf={trailing:!0};function It(e,t=25,n={}){if(n={...rf,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let s,r,o=[],i,l;const u=(f,c)=>(i=of(e,f,c),i.finally(()=>{if(i=null,n.trailing&&l&&!r){const h=u(f,l);return l=null,h}}),i);return function(...f){return i?(n.trailing&&(l=f),i):new Promise(c=>{const h=!r&&n.leading;clearTimeout(r),r=setTimeout(()=>{r=null;const g=n.leading?s:u(this,f);for(const p of o)p(g);o=[]},t),h?(s=u(this,f),c(s)):o.push(c)})}}async function of(e,t,n){return await e.apply(t,n)}function Is(e,t={},n){for(const s in e){const r=e[s],o=n?`${n}:${s}`:s;typeof r=="object"&&r!==null?Is(r,t,o):typeof r=="function"&&(t[o]=r)}return t}const lf={run:e=>e()},uf=()=>lf,El=typeof console.createTask<"u"?console.createTask:uf;function af(e,t){const n=t.shift(),s=El(n);return e.reduce((r,o)=>r.then(()=>s.run(()=>o(...t))),Promise.resolve())}function cf(e,t){const n=t.shift(),s=El(n);return Promise.all(e.map(r=>s.run(()=>r(...t))))}function cs(e,t){for(const n of[...e])n(t)}class ff{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,s={}){if(!t||typeof n!="function")return()=>{};const r=t;let o;for(;this._deprecatedHooks[t];)o=this._deprecatedHooks[t],t=o.to;if(o&&!s.allowDeprecated){let i=o.message;i||(i=`${r} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let s,r=(...o)=>(typeof s=="function"&&s(),s=void 0,r=void 0,n(...o));return s=this.hook(t,r),s}removeHook(t,n){if(this._hooks[t]){const s=this._hooks[t].indexOf(n);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const s=this._hooks[t]||[];delete this._hooks[t];for(const r of s)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Is(t),s=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of s.splice(0,s.length))r()}}removeHooks(t){const n=Is(t);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(af,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(cf,t,...n)}callHookWith(t,n,...s){const r=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&cs(this._before,r);const o=t(n in this._hooks?[...this._hooks[n]]:[],s);return o instanceof Promise?o.finally(()=>{this._after&&r&&cs(this._after,r)}):(this._after&&r&&cs(this._after,r),o)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function vl(){return new ff}var df=Object.create,yl=Object.defineProperty,hf=Object.getOwnPropertyDescriptor,fr=Object.getOwnPropertyNames,pf=Object.getPrototypeOf,_f=Object.prototype.hasOwnProperty,gf=(e,t)=>function(){return e&&(t=(0,e[fr(e)[0]])(e=0)),t},bl=(e,t)=>function(){return t||(0,e[fr(e)[0]])((t={exports:{}}).exports,t),t.exports},mf=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of fr(t))!_f.call(e,r)&&r!==n&&yl(e,r,{get:()=>t[r],enumerable:!(s=hf(t,r))||s.enumerable});return e},Ef=(e,t,n)=>(n=e!=null?df(pf(e)):{},mf(yl(n,"default",{value:e,enumerable:!0}),e)),E=gf({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),vf=bl({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){E(),function(n){var s={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},l={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},u=[";","?",":","@","&","=","+","$",",","/"].join(""),f=[";","?",":","@","&","=","+","$",","].join(""),c=[".","!","~","*","'","(",")"].join(""),h=function(w,O){var V="-",k="",P="",K=!0,Q={},de,he,Z,J,ve,De,Oe,ye,pe,X,R,H,oe,Re,le="";if(typeof w!="string")return"";if(typeof O=="string"&&(V=O),Oe=l.en,ye=i.en,typeof O=="object"){de=O.maintainCase||!1,Q=O.custom&&typeof O.custom=="object"?O.custom:Q,Z=+O.truncate>1&&O.truncate||!1,J=O.uric||!1,ve=O.uricNoSlash||!1,De=O.mark||!1,K=!(O.symbols===!1||O.lang===!1),V=O.separator||V,J&&(le+=u),ve&&(le+=f),De&&(le+=c),Oe=O.lang&&l[O.lang]&&K?l[O.lang]:K?l.en:{},ye=O.lang&&i[O.lang]?i[O.lang]:O.lang===!1||O.lang===!0?{}:i.en,O.titleCase&&typeof O.titleCase.length=="number"&&Array.prototype.toString.call(O.titleCase)?(O.titleCase.forEach(function(ee){Q[ee+""]=ee+""}),he=!0):he=!!O.titleCase,O.custom&&typeof O.custom.length=="number"&&Array.prototype.toString.call(O.custom)&&O.custom.forEach(function(ee){Q[ee+""]=ee+""}),Object.keys(Q).forEach(function(ee){var et;ee.length>1?et=new RegExp("\\b"+p(ee)+"\\b","gi"):et=new RegExp(p(ee),"gi"),w=w.replace(et,Q[ee])});for(R in Q)le+=R}for(le+=V,le=p(le),w=w.replace(/(^\s+|\s+$)/g,""),oe=!1,Re=!1,X=0,H=w.length;X<H;X++)R=w[X],m(R,Q)?oe=!1:ye[R]?(R=oe&&ye[R].match(/[A-Za-z0-9]/)?" "+ye[R]:ye[R],oe=!1):R in s?(X+1<H&&r.indexOf(w[X+1])>=0?(P+=R,R=""):Re===!0?(R=o[P]+s[R],P=""):R=oe&&s[R].match(/[A-Za-z0-9]/)?" "+s[R]:s[R],oe=!1,Re=!1):R in o?(P+=R,R="",X===H-1&&(R=o[P]),Re=!0):Oe[R]&&!(J&&u.indexOf(R)!==-1)&&!(ve&&f.indexOf(R)!==-1)?(R=oe||k.substr(-1).match(/[A-Za-z0-9]/)?V+Oe[R]:Oe[R],R+=w[X+1]!==void 0&&w[X+1].match(/[A-Za-z0-9]/)?V:"",oe=!0):(Re===!0?(R=o[P]+R,P="",Re=!1):oe&&(/[A-Za-z0-9]/.test(R)||k.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),oe=!1),k+=R.replace(new RegExp("[^\\w\\s"+le+"_-]","g"),V);return he&&(k=k.replace(/(\w)(\S*)/g,function(ee,et,pn){var Vt=et.toUpperCase()+(pn!==null?pn:"");return Object.keys(Q).indexOf(Vt.toLowerCase())<0?Vt:Vt.toLowerCase()})),k=k.replace(/\s+/g,V).replace(new RegExp("\\"+V+"+","g"),V).replace(new RegExp("(^\\"+V+"+|\\"+V+"+$)","g"),""),Z&&k.length>Z&&(pe=k.charAt(Z)===V,k=k.slice(0,Z),pe||(k=k.slice(0,k.lastIndexOf(V)))),!de&&!he&&(k=k.toLowerCase()),k},g=function(w){return function(V){return h(V,w)}},p=function(w){return w.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(C,w){for(var O in w)if(w[O]===C)return!0};if(typeof t<"u"&&t.exports)t.exports=h,t.exports.createSlug=g;else if(typeof define<"u"&&define.amd)define([],function(){return h});else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=h,n.createSlug=g}catch{}}(e)}}),yf=bl({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){E(),t.exports=vf()}});E();E();E();E();E();E();E();E();function bf(e){var t;const n=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return n==="index"&&((t=e.__file)!=null&&t.endsWith("index.vue"))?"":n}function Af(e){const t=e.__file;if(t)return nf(sf(t,".vue"))}function oo(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function dr(e){if(e.__VUE_DEVTOOLS_NEXT_APP_RECORD__)return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(e.root)return e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__}function Al(e){var t,n;const s=(t=e.subTree)==null?void 0:t.type,r=dr(e);return r?((n=r==null?void 0:r.types)==null?void 0:n.Fragment)===s:!1}function Xn(e){var t,n,s;const r=bf((e==null?void 0:e.type)||{});if(r)return r;if((e==null?void 0:e.root)===e)return"Root";for(const i in(n=(t=e.parent)==null?void 0:t.type)==null?void 0:n.components)if(e.parent.type.components[i]===(e==null?void 0:e.type))return oo(e,i);for(const i in(s=e.appContext)==null?void 0:s.components)if(e.appContext.components[i]===(e==null?void 0:e.type))return oo(e,i);const o=Af((e==null?void 0:e.type)||{});return o||"Anonymous Component"}function Of(e){var t,n,s;const r=(s=(n=(t=e==null?void 0:e.appContext)==null?void 0:t.app)==null?void 0:n.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__)!=null?s:0,o=e===(e==null?void 0:e.root)?"root":e.uid;return`${r}:${o}`}function Ds(e,t){return t=t||`${e.id}:root`,e.instanceMap.get(t)||e.instanceMap.get(":root")}function Sf(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}var vn;function Cf(e){return vn||(vn=document.createRange()),vn.selectNode(e),vn.getBoundingClientRect()}function Tf(e){const t=Sf();if(!e.children)return t;for(let n=0,s=e.children.length;n<s;n++){const r=e.children[n];let o;if(r.component)o=vt(r.component);else if(r.el){const i=r.el;i.nodeType===1||i.getBoundingClientRect?o=i.getBoundingClientRect():i.nodeType===3&&i.data.trim()&&(o=Cf(i))}o&&wf(t,o)}return t}function wf(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}var io={top:0,left:0,right:0,bottom:0,width:0,height:0};function vt(e){const t=e.subTree.el;return typeof window>"u"?io:Al(e)?Tf(e.subTree):(t==null?void 0:t.nodeType)===1?t==null?void 0:t.getBoundingClientRect():e.subTree.component?vt(e.subTree.component):io}E();function hr(e){return Al(e)?xf(e.subTree):e.subTree?[e.subTree.el]:[]}function xf(e){if(!e.children)return[];const t=[];return e.children.forEach(n=>{n.component?t.push(...hr(n.component)):n!=null&&n.el&&t.push(n.el)}),t}var Ol="__vue-devtools-component-inspector__",Sl="__vue-devtools-component-inspector__card__",Cl="__vue-devtools-component-inspector__name__",Tl="__vue-devtools-component-inspector__indicator__",wl={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},If={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},Df={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function kt(){return document.getElementById(Ol)}function Pf(){return document.getElementById(Sl)}function Rf(){return document.getElementById(Tl)}function kf(){return document.getElementById(Cl)}function pr(e){return{left:`${Math.round(e.left*100)/100}px`,top:`${Math.round(e.top*100)/100}px`,width:`${Math.round(e.width*100)/100}px`,height:`${Math.round(e.height*100)/100}px`}}function _r(e){var t;const n=document.createElement("div");n.id=(t=e.elementId)!=null?t:Ol,Object.assign(n.style,{...wl,...pr(e.bounds),...e.style});const s=document.createElement("span");s.id=Sl,Object.assign(s.style,{...If,top:e.bounds.top<35?0:"-35px"});const r=document.createElement("span");r.id=Cl,r.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const o=document.createElement("i");return o.id=Tl,o.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`,Object.assign(o.style,Df),s.appendChild(r),s.appendChild(o),n.appendChild(s),document.body.appendChild(n),n}function gr(e){const t=kt(),n=Pf(),s=kf(),r=Rf();t&&(Object.assign(t.style,{...wl,...pr(e.bounds)}),Object.assign(n.style,{top:e.bounds.top<35?0:"-35px"}),s.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,r.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`)}function Nf(e){const t=vt(e);if(!t.width&&!t.height)return;const n=Xn(e);kt()?gr({bounds:t,name:n}):_r({bounds:t,name:n})}function xl(){const e=kt();e&&(e.style.display="none")}var Ps=null;function Rs(e){const t=e.target;if(t){const n=t.__vueParentComponent;if(n&&(Ps=n,n.vnode.el)){const r=vt(n),o=Xn(n);kt()?gr({bounds:r,name:o}):_r({bounds:r,name:o})}}}function Vf(e,t){if(e.preventDefault(),e.stopPropagation(),Ps){const n=Of(Ps);t(n)}}var Mn=null;function Ff(){xl(),window.removeEventListener("mouseover",Rs),window.removeEventListener("click",Mn,!0),Mn=null}function Lf(){return window.addEventListener("mouseover",Rs),new Promise(e=>{function t(n){n.preventDefault(),n.stopPropagation(),Vf(n,s=>{window.removeEventListener("click",t,!0),Mn=null,window.removeEventListener("mouseover",Rs);const r=kt();r&&(r.style.display="none"),e(JSON.stringify({id:s}))})}Mn=t,window.addEventListener("click",t,!0)})}function Uf(e){const t=Ds(Ee.value,e.id);if(t){const[n]=hr(t);if(typeof n.scrollIntoView=="function")n.scrollIntoView({behavior:"smooth"});else{const s=vt(t),r=document.createElement("div"),o={...pr(s),position:"absolute"};Object.assign(r.style,o),document.body.appendChild(r),r.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(r)},2e3)}setTimeout(()=>{const s=vt(t);if(s.width||s.height){const r=Xn(t),o=kt();o?gr({...e,name:r,bounds:s}):_r({...e,name:r,bounds:s}),setTimeout(()=>{o&&(o.style.display="none")},1500)}},1200)}}E();var lo,uo;(uo=(lo=D).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__)!=null||(lo.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0);function Mf(e){let t=0;const n=setInterval(()=>{D.__VUE_INSPECTOR__&&(clearInterval(n),t+=30,e()),t>=5e3&&clearInterval(n)},30)}function Bf(){const e=D.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...n)=>{e.disable(),t(...n)}}function $f(){return new Promise(e=>{function t(){Bf(),e(D.__VUE_INSPECTOR__)}D.__VUE_INSPECTOR__?t():Mf(()=>{t()})})}E();E();function Hf(e){return!!(e&&e.__v_isReadonly)}function Il(e){return Hf(e)?Il(e.__v_raw):!!(e&&e.__v_isReactive)}function fs(e){return!!(e&&e.__v_isRef===!0)}function Kt(e){const t=e&&e.__v_raw;return t?Kt(t):e}var jf=class{constructor(){this.refEditor=new Kf}set(e,t,n,s){const r=Array.isArray(t)?t:t.split(".");for(;r.length>1;){const l=r.shift();e instanceof Map?e=e.get(l):e instanceof Set?e=Array.from(e.values())[l]:e=e[l],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const o=r[0],i=this.refEditor.get(e)[o];s?s(e,o,n):this.refEditor.isRef(i)?this.refEditor.set(i,n):e[o]=n}get(e,t){const n=Array.isArray(t)?t:t.split(".");for(let s=0;s<n.length;s++)if(e instanceof Map?e=e.get(n[s]):e=e[n[s]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,n=!1){if(typeof e>"u")return!1;const s=Array.isArray(t)?t.slice():t.split("."),r=n?2:1;for(;e&&s.length>r;){const o=s.shift();e=e[o],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return e!=null&&Object.prototype.hasOwnProperty.call(e,s[0])}createDefaultSetCallback(e){return(t,n,s)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(n,1):Kt(t)instanceof Map?t.delete(n):Kt(t)instanceof Set?t.delete(Array.from(t.values())[n]):Reflect.deleteProperty(t,n)),!e.remove){const r=t[e.newKey||n];this.refEditor.isRef(r)?this.refEditor.set(r,s):Kt(t)instanceof Map?t.set(e.newKey||n,s):Kt(t)instanceof Set?t.add(s):t[e.newKey||n]=s}}}},Kf=class{set(e,t){if(fs(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t)){e.clear(),t.forEach(r=>e.add(r));return}const n=Object.keys(t);if(e instanceof Map){const r=new Set(e.keys());n.forEach(o=>{e.set(o,Reflect.get(t,o)),r.delete(o)}),r.forEach(o=>e.delete(o));return}const s=new Set(Object.keys(e));n.forEach(r=>{Reflect.set(e,r,Reflect.get(t,r)),s.delete(r)}),s.forEach(r=>Reflect.deleteProperty(e,r))}}get(e){return fs(e)?e.value:e}isRef(e){return fs(e)||Il(e)}};E();E();E();var zf="__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__";function Wf(){if(!ml||typeof localStorage>"u"||localStorage===null)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=localStorage.getItem(zf);return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}E();E();E();var ao,co;(co=(ao=D).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS)!=null||(ao.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var Gf=new Proxy(D.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get(e,t,n){return Reflect.get(e,t,n)}});function Yf(e,t){ne.timelineLayersState[t.id]=!1,Gf.push({...e,descriptorId:t.id,appRecord:dr(t.app)})}var fo,ho;(ho=(fo=D).__VUE_DEVTOOLS_KIT_INSPECTOR__)!=null||(fo.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var mr=new Proxy(D.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get(e,t,n){return Reflect.get(e,t,n)}}),Dl=It(()=>{Nt.hooks.callHook("sendInspectorToClient",Pl())});function qf(e,t){var n,s;mr.push({options:e,descriptor:t,treeFilterPlaceholder:(n=e.treeFilterPlaceholder)!=null?n:"Search tree...",stateFilterPlaceholder:(s=e.stateFilterPlaceholder)!=null?s:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:dr(t.app)}),Dl()}function Pl(){return mr.filter(e=>e.descriptor.app===Ee.value.app).filter(e=>e.descriptor.id!=="components").map(e=>{var t;const n=e.descriptor,s=e.options;return{id:s.id,label:s.label,logo:n.logo,icon:`custom-ic-baseline-${(t=s==null?void 0:s.icon)==null?void 0:t.replace(/_/g,"-")}`,packageName:n.packageName,homepage:n.homepage,pluginId:n.id}})}function Cn(e,t){return mr.find(n=>n.options.id===e&&(t?n.descriptor.app===t:!0))}function Zf(){const e=vl();e.hook("addInspector",({inspector:s,plugin:r})=>{qf(s,r.descriptor)});const t=It(async({inspectorId:s,plugin:r})=>{var o;if(!s||!((o=r==null?void 0:r.descriptor)!=null&&o.app)||ne.highPerfModeEnabled)return;const i=Cn(s,r.descriptor.app),l={app:r.descriptor.app,inspectorId:s,filter:(i==null?void 0:i.treeFilter)||"",rootNodes:[]};await new Promise(u=>{e.callHookWith(async f=>{await Promise.all(f.map(c=>c(l))),u()},"getInspectorTree")}),e.callHookWith(async u=>{await Promise.all(u.map(f=>f({inspectorId:s,rootNodes:l.rootNodes})))},"sendInspectorTreeToClient")},120);e.hook("sendInspectorTree",t);const n=It(async({inspectorId:s,plugin:r})=>{var o;if(!s||!((o=r==null?void 0:r.descriptor)!=null&&o.app)||ne.highPerfModeEnabled)return;const i=Cn(s,r.descriptor.app),l={app:r.descriptor.app,inspectorId:s,nodeId:(i==null?void 0:i.selectedNodeId)||"",state:null},u={currentTab:`custom-inspector:${s}`};l.nodeId&&await new Promise(f=>{e.callHookWith(async c=>{await Promise.all(c.map(h=>h(l,u))),f()},"getInspectorState")}),e.callHookWith(async f=>{await Promise.all(f.map(c=>c({inspectorId:s,nodeId:l.nodeId,state:l.state})))},"sendInspectorStateToClient")},120);return e.hook("sendInspectorState",n),e.hook("customInspectorSelectNode",({inspectorId:s,nodeId:r,plugin:o})=>{const i=Cn(s,o.descriptor.app);i&&(i.selectedNodeId=r)}),e.hook("timelineLayerAdded",({options:s,plugin:r})=>{Yf(s,r.descriptor)}),e.hook("timelineEventAdded",({options:s,plugin:r})=>{var o;const i=["performance","component-event","keyboard","mouse"];ne.highPerfModeEnabled||!((o=ne.timelineLayersState)!=null&&o[r.descriptor.id])&&!i.includes(s.layerId)||e.callHookWith(async l=>{await Promise.all(l.map(u=>u(s)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:s})=>{const r=s.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!r)return null;const o=r.id.toString();return[...r.instanceMap].filter(([l])=>l.split(":")[0]===o).map(([,l])=>l)}),e.hook("getComponentBounds",async({instance:s})=>vt(s)),e.hook("getComponentName",({instance:s})=>Xn(s)),e.hook("componentHighlight",({uid:s})=>{const r=Ee.value.instanceMap.get(s);r&&Nf(r)}),e.hook("componentUnhighlight",()=>{xl()}),e}var po,_o;(_o=(po=D).__VUE_DEVTOOLS_KIT_APP_RECORDS__)!=null||(po.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]);var go,mo;(mo=(go=D).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__)!=null||(go.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={});var Eo,vo;(vo=(Eo=D).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__)!=null||(Eo.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__="");var yo,bo;(bo=(yo=D).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__)!=null||(yo.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]);var Ao,Oo;(Oo=(Ao=D).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__)!=null||(Ao.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var _t="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";function Xf(){return{connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:Wf()}}var So,Co;(Co=(So=D)[_t])!=null||(So[_t]=Xf());var Jf=It(e=>{Nt.hooks.callHook("devtoolsStateUpdated",{state:e})});It((e,t)=>{Nt.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var Jn=new Proxy(D.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get(e,t,n){return t==="value"?D.__VUE_DEVTOOLS_KIT_APP_RECORDS__:D.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}}),Ee=new Proxy(D.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get(e,t,n){return t==="value"?D.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:t==="id"?D.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:D.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]}});function Rl(){Jf({...D[_t],appRecords:Jn.value,activeAppRecordId:Ee.id,tabs:D.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:D.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}function Qf(e){D.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=e,Rl()}function ed(e){D.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,Rl()}var ne=new Proxy(D[_t],{get(e,t){return t==="appRecords"?Jn:t==="activeAppRecordId"?Ee.id:t==="tabs"?D.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:t==="commands"?D.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:D[_t][t]},deleteProperty(e,t){return delete e[t],!0},set(e,t,n){return{...D[_t]},e[t]=n,D[_t][t]=n,!0}});function td(e={}){var t,n,s;const{file:r,host:o,baseUrl:i=window.location.origin,line:l=0,column:u=0}=e;if(r){if(o==="chrome-extension"){const f=r.replace(/\\/g,"\\\\"),c=(n=(t=window.VUE_DEVTOOLS_CONFIG)==null?void 0:t.openInEditorHost)!=null?n:"/";fetch(`${c}__open-in-editor?file=${encodeURI(r)}`).then(h=>{if(!h.ok){const g=`Opening component ${f} failed`;console.log(`%c${g}`,"color:red")}})}else if(ne.vitePluginDetected){const f=(s=D.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)!=null?s:i;D.__VUE_INSPECTOR__.openInEditor(f,r,l,u)}}}E();E();E();E();E();var To,wo;(wo=(To=D).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__)!=null||(To.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var Er=new Proxy(D.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get(e,t,n){return Reflect.get(e,t,n)}});function ks(e){const t={};return Object.keys(e).forEach(n=>{t[n]=e[n].defaultValue}),t}function vr(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function nd(e){var t,n,s;const r=(n=(t=Er.find(o=>{var i;return o[0].id===e&&!!((i=o[0])!=null&&i.settings)}))==null?void 0:t[0])!=null?n:null;return(s=r==null?void 0:r.settings)!=null?s:null}function kl(e,t){var n,s,r;const o=vr(e);if(o){const i=localStorage.getItem(o);if(i)return JSON.parse(i)}if(e){const i=(s=(n=Er.find(l=>l[0].id===e))==null?void 0:n[0])!=null?s:null;return ks((r=i==null?void 0:i.settings)!=null?r:{})}return ks(t)}function sd(e,t){const n=vr(e);localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(ks(t)))}function rd(e,t,n){const s=vr(e),r=localStorage.getItem(s),o=JSON.parse(r||"{}"),i={...o,[t]:n};localStorage.setItem(s,JSON.stringify(i)),Nt.hooks.callHookWith(l=>{l.forEach(u=>u({pluginId:e,key:t,oldValue:o[t],newValue:n,settings:i}))},"setPluginSettings")}E();E();E();E();E();E();E();E();E();E();E();var xo,Io,we=(Io=(xo=D).__VUE_DEVTOOLS_HOOK)!=null?Io:xo.__VUE_DEVTOOLS_HOOK=vl(),od={vueAppInit(e){we.hook("app:init",e)},vueAppUnmount(e){we.hook("app:unmount",e)},vueAppConnected(e){we.hook("app:connected",e)},componentAdded(e){return we.hook("component:added",e)},componentEmit(e){return we.hook("component:emit",e)},componentUpdated(e){return we.hook("component:updated",e)},componentRemoved(e){return we.hook("component:removed",e)},setupDevtoolsPlugin(e){we.hook("devtools-plugin:setup",e)},perfStart(e){return we.hook("perf:start",e)},perfEnd(e){return we.hook("perf:end",e)}},Nl={on:od,setupDevToolsPlugin(e,t){return we.callHook("devtools-plugin:setup",e,t)}},id=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;if(ne.highPerfModeEnabled)return;const n=Pl().find(s=>s.packageName===this.plugin.descriptor.packageName);if(n!=null&&n.id){if(e){const s=[e.appContext.app,e.uid,(t=e.parent)==null?void 0:t.uid,e];we.callHook("component:updated",...s)}else we.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:n.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&sd(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){ne.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){ne.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}visitComponentTree(e){return this.hooks.callHook("visitComponentTree",e)}now(){return ne.highPerfModeEnabled?0:Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){ne.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return kl(e??this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}},ld=id;E();E();E();E();var ud="__vue_devtool_undefined__",ad="__vue_devtool_infinity__",cd="__vue_devtool_negative_infinity__",fd="__vue_devtool_nan__";E();E();var dd={[ud]:"undefined",[fd]:"NaN",[ad]:"Infinity",[cd]:"-Infinity"};Object.entries(dd).reduce((e,[t,n])=>(e[n]=t,e),{});E();E();E();E();E();var Do,Po;(Po=(Do=D).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__)!=null||(Do.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set);function Vl(e,t){return Nl.setupDevToolsPlugin(e,t)}function hd(e,t){const[n,s]=e;if(n.app!==t)return;const r=new ld({plugin:{setupFn:s,descriptor:n},ctx:Nt});n.packageName==="vuex"&&r.on.editInspectorState(o=>{r.sendInspectorState(o.inspectorId)}),s(r)}function Fl(e,t){D.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||ne.highPerfModeEnabled&&!(t!=null&&t.inspectingComponent)||(D.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),Er.forEach(n=>{hd(n,e)}))}E();E();var on="__VUE_DEVTOOLS_ROUTER__",Dt="__VUE_DEVTOOLS_ROUTER_INFO__",Ro,ko;(ko=(Ro=D)[Dt])!=null||(Ro[Dt]={currentRoute:null,routes:[]});var No,Vo;(Vo=(No=D)[on])!=null||(No[on]={});new Proxy(D[Dt],{get(e,t){return D[Dt][t]}});new Proxy(D[on],{get(e,t){if(t==="value")return D[on]}});function pd(e){const t=new Map;return((e==null?void 0:e.getRoutes())||[]).filter(n=>!t.has(n.path)&&t.set(n.path,1))}function yr(e){return e.map(t=>{let{path:n,name:s,children:r,meta:o}=t;return r!=null&&r.length&&(r=yr(r)),{path:n,name:s,children:r,meta:o}})}function _d(e){if(e){const{fullPath:t,hash:n,href:s,path:r,name:o,matched:i,params:l,query:u}=e;return{fullPath:t,hash:n,href:s,path:r,name:o,params:l,query:u,matched:yr(i)}}return e}function gd(e,t){function n(){var s;const r=(s=e.app)==null?void 0:s.config.globalProperties.$router,o=_d(r==null?void 0:r.currentRoute.value),i=yr(pd(r)),l=console.warn;console.warn=()=>{},D[Dt]={currentRoute:o?ro(o):{},routes:ro(i)},D[on]=r,console.warn=l}n(),Nl.on.componentUpdated(It(()=>{var s;((s=t.value)==null?void 0:s.app)===e.app&&(n(),!ne.highPerfModeEnabled&&Nt.hooks.callHook("routerInfoUpdated",{state:D[Dt]}))},200))}function md(e){return{async getInspectorTree(t){const n={...t,app:Ee.value.app,rootNodes:[]};return await new Promise(s=>{e.callHookWith(async r=>{await Promise.all(r.map(o=>o(n))),s()},"getInspectorTree")}),n.rootNodes},async getInspectorState(t){const n={...t,app:Ee.value.app,state:null},s={currentTab:`custom-inspector:${t.inspectorId}`};return await new Promise(r=>{e.callHookWith(async o=>{await Promise.all(o.map(i=>i(n,s))),r()},"getInspectorState")}),n.state},editInspectorState(t){const n=new jf,s={...t,app:Ee.value.app,set:(r,o=t.path,i=t.state.value,l)=>{n.set(r,o,i,l||n.createDefaultSetCallback(t.state))}};e.callHookWith(r=>{r.forEach(o=>o(s))},"editInspectorState")},sendInspectorState(t){const n=Cn(t);e.callHook("sendInspectorState",{inspectorId:t,plugin:{descriptor:n.descriptor,setupFn:()=>({})}})},inspectComponentInspector(){return Lf()},cancelInspectComponentInspector(){return Ff()},getComponentRenderCode(t){const n=Ds(Ee.value,t);if(n)return typeof(n==null?void 0:n.type)!="function"?n.render.toString():n.type.toString()},scrollToComponent(t){return Uf({id:t})},openInEditor:td,getVueInspector:$f,toggleApp(t,n){const s=Jn.value.find(r=>r.id===t);s&&(ed(t),Qf(s),gd(s,Ee),Dl(),Fl(s.app,n))},inspectDOM(t){const n=Ds(Ee.value,t);if(n){const[s]=hr(n);s&&(D.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=s)}},updatePluginSettings(t,n,s){rd(t,n,s)},getPluginSettings(t){return{options:nd(t),values:kl(t)}}}}E();var Fo,Lo;(Lo=(Fo=D).__VUE_DEVTOOLS_ENV__)!=null||(Fo.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var Uo=Zf(),Mo,Bo;(Bo=(Mo=D).__VUE_DEVTOOLS_KIT_CONTEXT__)!=null||(Mo.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:Uo,get state(){return{...ne,activeAppRecordId:Ee.id,activeAppRecord:Ee.value,appRecords:Jn.value}},api:md(Uo)});var Nt=D.__VUE_DEVTOOLS_KIT_CONTEXT__;E();Ef(yf());var $o,Ho;(Ho=($o=D).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__)!=null||($o.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set});E();function Ed(e){ne.highPerfModeEnabled=e??!ne.highPerfModeEnabled,!e&&Ee.value&&Fl(Ee.value.app)}E();E();E();function vd(e){ne.devtoolsClientDetected={...ne.devtoolsClientDetected,...e};const t=Object.values(ne.devtoolsClientDetected).some(Boolean);Ed(!t)}var jo,Ko;(Ko=(jo=D).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__)!=null||(jo.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=vd);E();E();E();E();E();E();E();var yd=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},Ll=class{constructor(e){this.generateIdentifier=e,this.kv=new yd}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},bd=class extends Ll{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){typeof t=="object"?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};E();E();function Ad(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function Od(e,t){const n=Ad(e);if("find"in n)return n.find(t);const s=n;for(let r=0;r<s.length;r++){const o=s[r];if(t(o))return o}}function Pt(e,t){Object.entries(e).forEach(([n,s])=>t(s,n))}function Tn(e,t){return e.indexOf(t)!==-1}function zo(e,t){for(let n=0;n<e.length;n++){const s=e[n];if(t(s))return s}}var Sd=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return Od(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};E();E();var Cd=e=>Object.prototype.toString.call(e).slice(8,-1),Ul=e=>typeof e>"u",Td=e=>e===null,ln=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Ns=e=>ln(e)&&Object.keys(e).length===0,lt=e=>Array.isArray(e),wd=e=>typeof e=="string",xd=e=>typeof e=="number"&&!isNaN(e),Id=e=>typeof e=="boolean",Dd=e=>e instanceof RegExp,un=e=>e instanceof Map,an=e=>e instanceof Set,Ml=e=>Cd(e)==="Symbol",Pd=e=>e instanceof Date&&!isNaN(e.valueOf()),Rd=e=>e instanceof Error,Wo=e=>typeof e=="number"&&isNaN(e),kd=e=>Id(e)||Td(e)||Ul(e)||xd(e)||wd(e)||Ml(e),Nd=e=>typeof e=="bigint",Vd=e=>e===1/0||e===-1/0,Fd=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Ld=e=>e instanceof URL;E();var Bl=e=>e.replace(/\./g,"\\."),ds=e=>e.map(String).map(Bl).join("."),Qt=e=>{const t=[];let n="";for(let r=0;r<e.length;r++){let o=e.charAt(r);if(o==="\\"&&e.charAt(r+1)==="."){n+=".",r++;continue}if(o==="."){t.push(n),n="";continue}n+=o}const s=n;return t.push(s),t};E();function He(e,t,n,s){return{isApplicable:e,annotation:t,transform:n,untransform:s}}var $l=[He(Ul,"undefined",()=>null,()=>{}),He(Nd,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),He(Pd,"Date",e=>e.toISOString(),e=>new Date(e)),He(Rd,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(s=>{n[s]=e[s]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(s=>{n[s]=e[s]}),n}),He(Dd,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),He(an,"set",e=>[...e.values()],e=>new Set(e)),He(un,"map",e=>[...e.entries()],e=>new Map(e)),He(e=>Wo(e)||Vd(e),"number",e=>Wo(e)?"NaN":e>0?"Infinity":"-Infinity",Number),He(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),He(Ld,"URL",e=>e.toString(),e=>new URL(e))];function Qn(e,t,n,s){return{isApplicable:e,annotation:t,transform:n,untransform:s}}var Hl=Qn((e,t)=>Ml(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const s=n.symbolRegistry.getValue(t[1]);if(!s)throw new Error("Trying to deserialize unknown symbol");return s}),Ud=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),jl=Qn(Fd,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=Ud[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function Kl(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}var zl=Qn(Kl,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const s={};return n.forEach(r=>{s[r]=e[r]}),s},(e,t,n)=>{const s=n.classRegistry.getValue(t[1]);if(!s)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(s.prototype),e)}),Wl=Qn((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const s=n.customTransformerRegistry.findByName(t[1]);if(!s)throw new Error("Trying to deserialize unknown custom value");return s.deserialize(e)}),Md=[zl,Hl,Wl,jl],Go=(e,t)=>{const n=zo(Md,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const s=zo($l,r=>r.isApplicable(e,t));if(s)return{value:s.transform(e,t),type:s.annotation}},Gl={};$l.forEach(e=>{Gl[e.annotation]=e});var Bd=(e,t,n)=>{if(lt(t))switch(t[0]){case"symbol":return Hl.untransform(e,t,n);case"class":return zl.untransform(e,t,n);case"custom":return Wl.untransform(e,t,n);case"typed-array":return jl.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const s=Gl[t];if(!s)throw new Error("Unknown transformation: "+t);return s.untransform(e,n)}};E();var At=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function Yl(e){if(Tn(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Tn(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Tn(e,"constructor"))throw new Error("constructor is not allowed as a property")}var $d=(e,t)=>{Yl(t);for(let n=0;n<t.length;n++){const s=t[n];if(an(e))e=At(e,+s);else if(un(e)){const r=+s,o=+t[++n]==0?"key":"value",i=At(e,r);switch(o){case"key":e=i;break;case"value":e=e.get(i);break}}else e=e[s]}return e},Vs=(e,t,n)=>{if(Yl(t),t.length===0)return n(e);let s=e;for(let o=0;o<t.length-1;o++){const i=t[o];if(lt(s)){const l=+i;s=s[l]}else if(ln(s))s=s[i];else if(an(s)){const l=+i;s=At(s,l)}else if(un(s)){if(o===t.length-2)break;const u=+i,f=+t[++o]==0?"key":"value",c=At(s,u);switch(f){case"key":s=c;break;case"value":s=s.get(c);break}}}const r=t[t.length-1];if(lt(s)?s[+r]=n(s[+r]):ln(s)&&(s[r]=n(s[r])),an(s)){const o=At(s,+r),i=n(o);o!==i&&(s.delete(o),s.add(i))}if(un(s)){const o=+t[t.length-2],i=At(s,o);switch(+r==0?"key":"value"){case"key":{const u=n(i);s.set(u,s.get(i)),u!==i&&s.delete(i);break}case"value":{s.set(i,n(s.get(i)));break}}}return e};function Fs(e,t,n=[]){if(!e)return;if(!lt(e)){Pt(e,(o,i)=>Fs(o,t,[...n,...Qt(i)]));return}const[s,r]=e;r&&Pt(r,(o,i)=>{Fs(o,t,[...n,...Qt(i)])}),t(s,n)}function Hd(e,t,n){return Fs(t,(s,r)=>{e=Vs(e,r,o=>Bd(o,s,n))}),e}function jd(e,t){function n(s,r){const o=$d(e,Qt(r));s.map(Qt).forEach(i=>{e=Vs(e,i,()=>o)})}if(lt(t)){const[s,r]=t;s.forEach(o=>{e=Vs(e,Qt(o),()=>e)}),r&&Pt(r,n)}else Pt(t,n);return e}var Kd=(e,t)=>ln(e)||lt(e)||un(e)||an(e)||Kl(e,t);function zd(e,t,n){const s=n.get(e);s?s.push(t):n.set(e,[t])}function Wd(e,t){const n={};let s;return e.forEach(r=>{if(r.length<=1)return;t||(r=r.map(l=>l.map(String)).sort((l,u)=>l.length-u.length));const[o,...i]=r;o.length===0?s=i.map(ds):n[ds(o)]=i.map(ds)}),s?Ns(n)?[s]:[s,n]:Ns(n)?void 0:n}var ql=(e,t,n,s,r=[],o=[],i=new Map)=>{var l;const u=kd(e);if(!u){zd(e,r,t);const m=i.get(e);if(m)return s?{transformedValue:null}:m}if(!Kd(e,n)){const m=Go(e,n),C=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:e};return u||i.set(e,C),C}if(Tn(o,e))return{transformedValue:null};const f=Go(e,n),c=(l=f==null?void 0:f.value)!=null?l:e,h=lt(c)?[]:{},g={};Pt(c,(m,C)=>{if(C==="__proto__"||C==="constructor"||C==="prototype")throw new Error(`Detected property ${C}. This is a prototype pollution risk, please remove it from your object.`);const w=ql(m,t,n,s,[...r,C],[...o,e],i);h[C]=w.transformedValue,lt(w.annotations)?g[C]=w.annotations:ln(w.annotations)&&Pt(w.annotations,(O,V)=>{g[Bl(C)+"."+V]=O})});const p=Ns(g)?{transformedValue:h,annotations:f?[f.type]:void 0}:{transformedValue:h,annotations:f?[f.type,g]:g};return u||i.set(e,p),p};E();E();function Zl(e){return Object.prototype.toString.call(e).slice(8,-1)}function Yo(e){return Zl(e)==="Array"}function Gd(e){if(Zl(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function Yd(e,t,n,s,r){const o={}.propertyIsEnumerable.call(s,t)?"enumerable":"nonenumerable";o==="enumerable"&&(e[t]=n),r&&o==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Ls(e,t={}){if(Yo(e))return e.map(r=>Ls(r,t));if(!Gd(e))return e;const n=Object.getOwnPropertyNames(e),s=Object.getOwnPropertySymbols(e);return[...n,...s].reduce((r,o)=>{if(Yo(t.props)&&!t.props.includes(o))return r;const i=e[o],l=Ls(i,t);return Yd(r,o,l,e,t.nonenumerable),r},{})}var q=class{constructor({dedupe:e=!1}={}){this.classRegistry=new bd,this.symbolRegistry=new Ll(t=>{var n;return(n=t.description)!=null?n:""}),this.customTransformerRegistry=new Sd,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,n=ql(e,t,this,this.dedupe),s={json:n.transformedValue};n.annotations&&(s.meta={...s.meta,values:n.annotations});const r=Wd(t,this.dedupe);return r&&(s.meta={...s.meta,referentialEqualities:r}),s}deserialize(e){const{json:t,meta:n}=e;let s=Ls(t);return n!=null&&n.values&&(s=Hd(s,n.values,this)),n!=null&&n.referentialEqualities&&(s=jd(s,n.referentialEqualities)),s}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};q.defaultInstance=new q;q.serialize=q.defaultInstance.serialize.bind(q.defaultInstance);q.deserialize=q.defaultInstance.deserialize.bind(q.defaultInstance);q.stringify=q.defaultInstance.stringify.bind(q.defaultInstance);q.parse=q.defaultInstance.parse.bind(q.defaultInstance);q.registerClass=q.defaultInstance.registerClass.bind(q.defaultInstance);q.registerSymbol=q.defaultInstance.registerSymbol.bind(q.defaultInstance);q.registerCustom=q.defaultInstance.registerCustom.bind(q.defaultInstance);q.allowErrorProps=q.defaultInstance.allowErrorProps.bind(q.defaultInstance);E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();E();var qo,Zo;(Zo=(qo=D).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__)!=null||(qo.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]);var Xo,Jo;(Jo=(Xo=D).__VUE_DEVTOOLS_KIT_RPC_CLIENT__)!=null||(Xo.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null);var Qo,ei;(ei=(Qo=D).__VUE_DEVTOOLS_KIT_RPC_SERVER__)!=null||(Qo.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null);var ti,ni;(ni=(ti=D).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__)!=null||(ti.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null);var si,ri;(ri=(si=D).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__)!=null||(si.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null);var oi,ii;(ii=(oi=D).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__)!=null||(oi.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null);E();E();E();E();E();E();E();/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const qd=Symbol();var mt;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(mt||(mt={}));const Us=typeof window<"u",li=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function Zd(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function br(e,t,n){const s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Ql(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function Xl(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function wn(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(n)}}const xn=typeof navigator=="object"?navigator:{userAgent:""},Jl=/Macintosh/.test(xn.userAgent)&&/AppleWebKit/.test(xn.userAgent)&&!/Safari/.test(xn.userAgent),Ql=Us?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Jl?Xd:"msSaveOrOpenBlob"in xn?Jd:Qd:()=>{};function Xd(e,t="download",n){const s=document.createElement("a");s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Xl(s.href)?br(e,t,n):(s.target="_blank",wn(s)):wn(s)):(s.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){wn(s)},0))}function Jd(e,t="download",n){if(typeof e=="string")if(Xl(e))br(e,t,n);else{const s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){wn(s)})}else navigator.msSaveOrOpenBlob(Zd(e,n),t)}function Qd(e,t,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return br(e,t,n);const r=e.type==="application/octet-stream",o=/constructor/i.test(String(li.HTMLElement))||"safari"in li,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||r&&o||Jl)&&typeof FileReader<"u"){const l=new FileReader;l.onloadend=function(){let u=l.result;if(typeof u!="string")throw s=null,new Error("Wrong reader.result type");u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location.assign(u),s=null},l.readAsDataURL(e)}else{const l=URL.createObjectURL(e);s?s.location.assign(l):location.href=l,s=null,setTimeout(function(){URL.revokeObjectURL(l)},4e4)}}function ie(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function Ar(e){return"_a"in e&&"install"in e}function eu(){if(!("clipboard"in navigator))return ie("Your browser doesn't support the Clipboard API","error"),!0}function tu(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(ie('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function eh(e){if(!eu())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),ie("Global state copied to clipboard.")}catch(t){if(tu(t))return;ie("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function th(e){if(!eu())try{nu(e,JSON.parse(await navigator.clipboard.readText())),ie("Global state pasted from clipboard.")}catch(t){if(tu(t))return;ie("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function nh(e){try{Ql(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){ie("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Ze;function sh(){Ze||(Ze=document.createElement("input"),Ze.type="file",Ze.accept=".json");function e(){return new Promise((t,n)=>{Ze.onchange=async()=>{const s=Ze.files;if(!s)return t(null);const r=s.item(0);return t(r?{text:await r.text(),file:r}:null)},Ze.oncancel=()=>t(null),Ze.onerror=n,Ze.click()})}return e}async function rh(e){try{const n=await sh()();if(!n)return;const{text:s,file:r}=n;nu(e,JSON.parse(s)),ie(`Global state imported from "${r.name}".`)}catch(t){ie("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function nu(e,t){for(const n in t){const s=e.state.value[n];s?Object.assign(s,t[n]):e.state.value[n]=t[n]}}function ke(e){return{_custom:{display:e}}}const su="🍍 Pinia (root)",In="_root";function oh(e){return Ar(e)?{id:In,label:su}:{id:e.$id,label:e.$id}}function ih(e){if(Ar(e)){const n=Array.from(e._s.keys()),s=e._s;return{state:n.map(o=>({editable:!0,key:o,value:e.state.value[o]})),getters:n.filter(o=>s.get(o)._getters).map(o=>{const i=s.get(o);return{editable:!1,key:o,value:i._getters.reduce((l,u)=>(l[u]=i[u],l),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function lh(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:ke(e.type),key:ke(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function uh(e){switch(e){case mt.direct:return"mutation";case mt.patchFunction:return"$patch";case mt.patchObject:return"$patch";default:return"unknown"}}let Ot=!0;const Dn=[],ht="pinia:mutations",ue="pinia",{assign:ah}=Object,Bn=e=>"🍍 "+e;function ch(e,t){Vl({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Dn,app:e},n=>{typeof n.now!="function"&&ie("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:ht,label:"Pinia 🍍",color:15064968}),n.addInspector({id:ue,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{eh(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await th(t),n.sendInspectorTree(ue),n.sendInspectorState(ue)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{nh(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await rh(t),n.sendInspectorTree(ue),n.sendInspectorState(ue)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:s=>{const r=t._s.get(s);r?typeof r.$reset!="function"?ie(`Cannot reset "${s}" store because it doesn't have a "$reset" method implemented.`,"warn"):(r.$reset(),ie(`Store "${s}" reset.`)):ie(`Cannot reset "${s}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(s=>{const r=s.componentInstance&&s.componentInstance.proxy;if(r&&r._pStores){const o=s.componentInstance.proxy._pStores;Object.values(o).forEach(i=>{s.instanceData.state.push({type:Bn(i.$id),key:"state",editable:!0,value:i._isOptionsAPI?{_custom:{value:$(i.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>i.$reset()}]}}:Object.keys(i.$state).reduce((l,u)=>(l[u]=i.$state[u],l),{})}),i._getters&&i._getters.length&&s.instanceData.state.push({type:Bn(i.$id),key:"getters",editable:!1,value:i._getters.reduce((l,u)=>{try{l[u]=i[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(s=>{if(s.app===e&&s.inspectorId===ue){let r=[t];r=r.concat(Array.from(t._s.values())),s.rootNodes=(s.filter?r.filter(o=>"$id"in o?o.$id.toLowerCase().includes(s.filter.toLowerCase()):su.toLowerCase().includes(s.filter.toLowerCase())):r).map(oh)}}),globalThis.$pinia=t,n.on.getInspectorState(s=>{if(s.app===e&&s.inspectorId===ue){const r=s.nodeId===In?t:t._s.get(s.nodeId);if(!r)return;r&&(s.nodeId!==In&&(globalThis.$store=$(r)),s.state=ih(r))}}),n.on.editInspectorState(s=>{if(s.app===e&&s.inspectorId===ue){const r=s.nodeId===In?t:t._s.get(s.nodeId);if(!r)return ie(`store "${s.nodeId}" not found`,"error");const{path:o}=s;Ar(r)?o.unshift("state"):(o.length!==1||!r._customProperties.has(o[0])||o[0]in r.$state)&&o.unshift("$state"),Ot=!1,s.set(r,o,s.state.value),Ot=!0}}),n.on.editComponentState(s=>{if(s.type.startsWith("🍍")){const r=s.type.replace(/^🍍\s*/,""),o=t._s.get(r);if(!o)return ie(`store "${r}" not found`,"error");const{path:i}=s;if(i[0]!=="state")return ie(`Invalid path for store "${r}":
${i}
Only state can be modified.`);i[0]="$state",Ot=!1,s.set(o,i,s.state.value),Ot=!0}})})}function fh(e,t){Dn.includes(Bn(t.$id))||Dn.push(Bn(t.$id)),Vl({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Dn,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const s=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:i,onError:l,name:u,args:f})=>{const c=ru++;n.addTimelineEvent({layerId:ht,event:{time:s(),title:"🛫 "+u,subtitle:"start",data:{store:ke(t.$id),action:ke(u),args:f},groupId:c}}),i(h=>{ot=void 0,n.addTimelineEvent({layerId:ht,event:{time:s(),title:"🛬 "+u,subtitle:"end",data:{store:ke(t.$id),action:ke(u),args:f,result:h},groupId:c}})}),l(h=>{ot=void 0,n.addTimelineEvent({layerId:ht,event:{time:s(),logType:"error",title:"💥 "+u,subtitle:"end",data:{store:ke(t.$id),action:ke(u),args:f,error:h},groupId:c}})})},!0),t._customProperties.forEach(i=>{bn(()=>tr(t[i]),(l,u)=>{n.notifyComponentUpdate(),n.sendInspectorState(ue),Ot&&n.addTimelineEvent({layerId:ht,event:{time:s(),title:"Change",subtitle:i,data:{newValue:l,oldValue:u},groupId:ot}})},{deep:!0})}),t.$subscribe(({events:i,type:l},u)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(ue),!Ot)return;const f={time:s(),title:uh(l),data:ah({store:ke(t.$id)},lh(i)),groupId:ot};l===mt.patchFunction?f.subtitle="⤵️":l===mt.patchObject?f.subtitle="🧩":i&&!Array.isArray(i)&&(f.subtitle=i.type),i&&(f.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:i}}),n.addTimelineEvent({layerId:ht,event:f})},{detached:!0,flush:"sync"});const r=t._hotUpdate;t._hotUpdate=er(i=>{r(i),n.addTimelineEvent({layerId:ht,event:{time:s(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:ke(t.$id),info:ke("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(ue),n.sendInspectorState(ue)});const{$dispose:o}=t;t.$dispose=()=>{o(),n.notifyComponentUpdate(),n.sendInspectorTree(ue),n.sendInspectorState(ue),n.getSettings().logStoreChanges&&ie(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(ue),n.sendInspectorState(ue),n.getSettings().logStoreChanges&&ie(`"${t.$id}" store installed 🆕`)})}let ru=0,ot;function ui(e,t,n){const s=t.reduce((r,o)=>(r[o]=$(e)[o],r),{});for(const r in s)e[r]=function(){const o=ru,i=n?new Proxy(e,{get(...u){return ot=o,Reflect.get(...u)},set(...u){return ot=o,Reflect.set(...u)}}):e;ot=o;const l=s[r].apply(i,arguments);return ot=void 0,l}}function dh({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(t._isOptionsAPI=!!n.state,!t._p._testing){ui(t,Object.keys(n.actions),t._isOptionsAPI);const s=t._hotUpdate;$(t)._hotUpdate=function(r){s.apply(this,arguments),ui(t,Object.keys(r._hmrPayload.actions),!!t._isOptionsAPI)}}fh(e,t)}}function hh(){const e=yu(!0),t=e.run(()=>Pi({}));let n=[],s=[];const r=er({install(o){r._a=o,o.provide(qd,r),o.config.globalProperties.$pinia=r,Us&&ch(o,r),s.forEach(i=>n.push(i)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return Us&&typeof Proxy<"u"&&r.use(dh),r}var ph=Object.defineProperty,_h=(e,t,n)=>t in e?ph(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tt=(e,t,n)=>_h(e,typeof t!="symbol"?t+"":t,n);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gh=Object.assign,ai=Array.isArray,mh=e=>typeof e=="string",ou=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Eh=/-(\w)/g,hs=ou(e=>e.replace(Eh,(t,n)=>n?n.toUpperCase():"")),vh=/\B([A-Z])/g,$t=ou(e=>e.replace(vh,"-$1").toLowerCase()),ci=e=>{const t=mh(e)?Number(e):NaN;return isNaN(t)?e:t};/*!#__NO_SIDE_EFFECTS__*/function yh(e,t,n){const s=Yn(e);class r extends Or{constructor(i){super(s,i,t,n)}}return tt(r,"def",s),r}const bh=typeof HTMLElement<"u"?HTMLElement:class{};class Or extends bh{constructor(t,n={},s={shadowRoot:!0},r){super(),tt(this,"_instance",null),tt(this,"_connected",!1),tt(this,"_resolved",!1),tt(this,"_numberProps",null),tt(this,"_styles"),tt(this,"_slots",{}),tt(this,"_ob",null),this._def=t,this._props=n,this._config=s,this._root&&r?r(this._createVNode(),this._root):(this._config.shadowRoot!==!1&&this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),ws(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(s,r=!1)=>{var o;const{props:i}=s,l=this._collectNestedStyles(s);let u;if(i&&!ai(i))for(const f in i){const c=i[f];(c===Number||c&&c.type===Number)&&(f in this._props&&(this._props[f]=ci(this._props[f])),(u||(u=Object.create(null)))[hs(f)]=!0)}if(this._numberProps=u,r&&this._resolveProps(s),!this._config.shadowRoot){this._slots={};const f=c=>Array.from(c).map(h=>{var g;if(h.nodeType===Node.ELEMENT_NODE){const p=h,m=Object.fromEntries(Array.from(p.attributes).map(C=>[C.name,C.value]));return Cs(p.tagName.toLowerCase(),m,f(p.childNodes))}else if(h.nodeType===Node.TEXT_NODE)return((g=h.textContent)==null?void 0:g.trim())||null;return null}).filter(h=>h!=null);for(const c of Array.from(this.childNodes)){const h=c.nodeType===Node.ELEMENT_NODE&&c.getAttribute("slot")||"default";if(this._slots[h]||(this._slots[h]=[]),c.nodeType===Node.ELEMENT_NODE){const g=c,p=Object.fromEntries(Array.from(g.attributes).map(m=>[m.name,m.value]));this._slots[h].push(Cs(g.tagName.toLowerCase(),p,f(g.childNodes)))}else if(c.nodeType===Node.TEXT_NODE){const g=(o=c.textContent)==null?void 0:o.trim();g&&this._slots[h].push(g)}}this.replaceChildren()}this._applyStyles(l),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=ai(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of s.map(hs))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(o){this._setProp(r,o)}})}_setAttr(t){let n=this.hasAttribute(t)?this.getAttribute(t):void 0;const s=hs(t);this._numberProps&&this._numberProps[s]&&(n=ci(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,r=!0){n!==this._props[t]&&(this._props[t]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute($t(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute($t(t),n+""):n||this.removeAttribute($t(t))))}_update(){ws(this._createVNode(),this._root)}_createVNode(){const t=Ae(this._def,gh({},this._props),this._slots);return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const s=(o,i)=>{this.dispatchEvent(new CustomEvent(o,{detail:i}))};n.emit=(o,...i)=>{s(o,i),$t(o)!==o&&s($t(o),i)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Or){n.parent=r._instance,n.provides=r._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this._root.prepend(s)})}_collectNestedStyles(t){let n=t.styles??[];return t.components&&Object.values(t.components).forEach(s=>{n=n.concat(this._collectNestedStyles(s))}),n}}const fi=e=>{for(;(e==null?void 0:e.nodeType)!==1;){if(!e.parentElement)throw new Error("No parent element found, the rootComponent must be wrapped in a HTML element (e.g. <template><div> app content </div></template>)");e=e.parentElement}return e};function Ah(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)}function Oh(e){return typeof e=="string"?e.replace(/:root/g,":host"):Array.isArray(e)?e.map(t=>t.replace(/:root/g,":host")):e}const Sh=({rootComponent:e,plugins:t,cssFrameworkStyles:n,VueDefineCustomElement:s,h:r,createApp:o,getCurrentInstance:i,elementName:l,disableRemoveStylesOnUnmount:u,disableShadowDOM:f,replaceRootWithHostInCssFramework:c,asyncInitialization:h,loaderAttribute:g,hideSlotContentUntilMounted:p})=>{const m=f?yh:s,C=c?Oh(n):n,w=m({styles:[C],props:{...e.props,modelValue:{type:[String,Number,Boolean,Array,Object]}},emits:e==null?void 0:e.emits,setup(O,{slots:V}){var k;const P=[...(e==null?void 0:e.emits)||[],"update:modelValue"],K=o();if(K.component("app-root",e),e.provide){const Z=typeof e.provide=="function"?e.provide():e.provide;Object.keys(Z).forEach(J=>{K.provide(J,Z[J])})}K.mixin({mounted(){var Z,J,ve,De;if(((J=(Z=this.$)==null?void 0:Z.type)==null?void 0:J.name)==="vue-custom-element-root-component")return;const Oe=pe=>{pe!=null&&pe.length&&(this.__style=document.createElement("style"),this.__style.innerText=pe.join().replace(/\n/g,""),fi(this.$el).append(this.__style))};if(Oe((ve=this.$)==null?void 0:ve.type.styles),this.$options.components)for(const pe of Object.values(this.$options.components))Oe(pe.styles);const ye=((De=this.$el.getRootNode())==null?void 0:De.host)||fi(this.$el);ye&&(p&&ye.querySelectorAll("[hidden]").forEach(pe=>{pe.removeAttribute("hidden")}),ye.querySelectorAll(`[${g}]`).forEach(pe=>{pe.remove()}))},unmounted(){var Z;u||(Z=this.__style)==null||Z.remove()}}),K.use(t);const Q=i();Object.assign(Q.appContext,K._context),Object.assign(Q.provides,K._context.provides);const de=P==null?void 0:P.reduce((Z,J)=>{const ve=Ah(J);return Z[ve]=De=>{Q.emit(J,De)},Z},{}),he=(k=e==null?void 0:e.namedSlots)==null?void 0:k.reduce((Z,J)=>(Z[J]=()=>r("slot",{name:J}),Z),{});return()=>r(e,{...O,...de},{default:()=>r("slot"),...he,...V})}},f&&{shadowRoot:!1});return h().then(()=>w)},Ch=({elementName:e,rootComponent:t,plugins:n,cssFrameworkStyles:s,VueDefineCustomElement:r,h:o,createApp:i,getCurrentInstance:l,disableRemoveStylesOnUnmount:u=!1,disableShadowDOM:f=!1,replaceRootWithHostInCssFramework:c=!1,asyncInitialization:h=()=>Promise.resolve(),loaderAttribute:g="data-web-component-loader",hideSlotContentUntilMounted:p=!1})=>{if(!t){console.warn("No root component provided. Please provide a root component to create a web component.");return}if(!r){console.warn("No VueDefineCustomElement provided. Please provide a VueDefineCustomElement to create a web component.");return}if(!o){console.warn("No h provided. Please provide an h to create a web component.");return}if(!i){console.warn("No createApp provided. Please provide a createApp to create a web component.");return}if(!l){console.warn("No getCurrentInstance provided. Please provide a getCurrentInstance to create a web component.");return}Sh({rootComponent:t,plugins:n,cssFrameworkStyles:s,VueDefineCustomElement:r,h:o,createApp:i,getCurrentInstance:l,elementName:e,disableRemoveStylesOnUnmount:u,disableShadowDOM:f,replaceRootWithHostInCssFramework:c,asyncInitialization:h,loaderAttribute:g,hideSlotContentUntilMounted:p}).then(m=>{customElements.define(e,m)})},Th={install(e){const t=e,n=hh();t.use(n)}};Ch({rootComponent:jc,elementName:"hiramekimini-test",plugins:Th,VueDefineCustomElement:Dc,h:Cs,createApp:xs,getCurrentInstance:sc,disableShadowDOM:!1,replaceRootWithHostInCssFramework:!1,loaderAttribute:"data-web-component-loader",hideSlotContentUntilMounted:!0});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlyYW1la2ltaW5pLmpzIiwic291cmNlcyI6WyIuLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtY29yZS9kaXN0L3J1bnRpbWUtY29yZS5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtZG9tL2Rpc3QvcnVudGltZS1kb20uZXNtLWJ1bmRsZXIuanMiLCIuLi9zcmMvY29tcG9uZW50cy9GbGFzaENhcmQudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvRmxhc2hDYXJkLnZ1ZSIsIi4uL3NyYy9BcHAudnVlIiwiLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtc2hhcmVkL2Rpc3QvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvcGVyZmVjdC1kZWJvdW5jZS9kaXN0L2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9ob29rYWJsZS9kaXN0L2luZGV4Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWtpdC9kaXN0L2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3BpbmlhL2Rpc3QvcGluaWEubWpzIiwiLi4vbm9kZV9tb2R1bGVzL3Z1ZS13ZWItY29tcG9uZW50LXdyYXBwZXIvcGFja2FnZS9kaXN0L3Z1ZS13ZWItY29tcG9uZW50LXdyYXBwZXIuZXMuanMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogQHZ1ZS9zaGFyZWQgdjMuNS4xM1xuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcbiAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIHN0ci5zcGxpdChcIixcIikpIG1hcFtrZXldID0gMTtcbiAgcmV0dXJuICh2YWwpID0+IHZhbCBpbiBtYXA7XG59XG5cbmNvbnN0IEVNUFRZX09CSiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKHt9KSA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4ge1xufTtcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBpc09uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIHVwcGVyY2FzZSBsZXR0ZXJcbihrZXkuY2hhckNvZGVBdCgyKSA+IDEyMiB8fCBrZXkuY2hhckNvZGVBdCgyKSA8IDk3KTtcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKFwib25VcGRhdGU6XCIpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XG4gIGlmIChpID4gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xuICB9XG59O1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE1hcF1cIjtcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBTZXRdXCI7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG5jb25zdCBpc1JlZ0V4cCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgUmVnRXhwXVwiO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIjtcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzeW1ib2xcIjtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCI7XG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XG4gIHJldHVybiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmIGtleSAhPT0gXCJOYU5cIiAmJiBrZXlbMF0gIT09IFwiLVwiICYmIFwiXCIgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuICBcIixrZXkscmVmLHJlZl9mb3IscmVmX2tleSxvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCxvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkXCJcbik7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCxtZW1vXCJcbik7XG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59O1xuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gYyA/IGMudG9VcHBlckNhc2UoKSA6IFwiXCIpO1xuICB9XG4pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICAgIHJldHVybiBzO1xuICB9XG4pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgLi4uYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKC4uLmFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuZnVuY3Rpb24gZ2VuQ2FjaGVLZXkoc291cmNlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzb3VyY2UgKyBKU09OLnN0cmluZ2lmeShcbiAgICBvcHRpb25zLFxuICAgIChfLCB2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbC50b1N0cmluZygpIDogdmFsXG4gICk7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkNBQ0hFRFwiOiAtMSxcbiAgXCItMVwiOiBcIkNBQ0hFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgSE9JU1RFRGAsXG4gIFstMl06IGBCQUlMYFxufTtcblxuY29uc3QgU2hhcGVGbGFncyA9IHtcbiAgXCJFTEVNRU5UXCI6IDEsXG4gIFwiMVwiOiBcIkVMRU1FTlRcIixcbiAgXCJGVU5DVElPTkFMX0NPTVBPTkVOVFwiOiAyLFxuICBcIjJcIjogXCJGVU5DVElPTkFMX0NPTVBPTkVOVFwiLFxuICBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiOiA0LFxuICBcIjRcIjogXCJTVEFURUZVTF9DT01QT05FTlRcIixcbiAgXCJURVhUX0NISUxEUkVOXCI6IDgsXG4gIFwiOFwiOiBcIlRFWFRfQ0hJTERSRU5cIixcbiAgXCJBUlJBWV9DSElMRFJFTlwiOiAxNixcbiAgXCIxNlwiOiBcIkFSUkFZX0NISUxEUkVOXCIsXG4gIFwiU0xPVFNfQ0hJTERSRU5cIjogMzIsXG4gIFwiMzJcIjogXCJTTE9UU19DSElMRFJFTlwiLFxuICBcIlRFTEVQT1JUXCI6IDY0LFxuICBcIjY0XCI6IFwiVEVMRVBPUlRcIixcbiAgXCJTVVNQRU5TRVwiOiAxMjgsXG4gIFwiMTI4XCI6IFwiU1VTUEVOU0VcIixcbiAgXCJDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkVcIjogMjU2LFxuICBcIjI1NlwiOiBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiLFxuICBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCI6IDUxMixcbiAgXCI1MTJcIjogXCJDT01QT05FTlRfS0VQVF9BTElWRVwiLFxuICBcIkNPTVBPTkVOVFwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRcIlxufTtcblxuY29uc3QgU2xvdEZsYWdzID0ge1xuICBcIlNUQUJMRVwiOiAxLFxuICBcIjFcIjogXCJTVEFCTEVcIixcbiAgXCJEWU5BTUlDXCI6IDIsXG4gIFwiMlwiOiBcIkRZTkFNSUNcIixcbiAgXCJGT1JXQVJERURcIjogMyxcbiAgXCIzXCI6IFwiRk9SV0FSREVEXCJcbn07XG5jb25zdCBzbG90RmxhZ3NUZXh0ID0ge1xuICBbMV06IFwiU1RBQkxFXCIsXG4gIFsyXTogXCJEWU5BTUlDXCIsXG4gIFszXTogXCJGT1JXQVJERURcIlxufTtcblxuY29uc3QgR0xPQkFMU19BTExPV0VEID0gXCJJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLGRlY29kZVVSSUNvbXBvbmVudCxlbmNvZGVVUkksZW5jb2RlVVJJQ29tcG9uZW50LE1hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCxCaWdJbnQsY29uc29sZSxFcnJvcixTeW1ib2xcIjtcbmNvbnN0IGlzR2xvYmFsbHlBbGxvd2VkID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoR0xPQkFMU19BTExPV0VEKTtcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IGlzR2xvYmFsbHlBbGxvd2VkO1xuXG5jb25zdCByYW5nZSA9IDI7XG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICBzdGFydCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHN0YXJ0LCBzb3VyY2UubGVuZ3RoKSk7XG4gIGVuZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGVuZCwgc291cmNlLmxlbmd0aCkpO1xuICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBcIlwiO1xuICBsZXQgbGluZXMgPSBzb3VyY2Uuc3BsaXQoLyhcXHI/XFxuKS8pO1xuICBjb25zdCBuZXdsaW5lU2VxdWVuY2VzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDEpO1xuICBsaW5lcyA9IGxpbmVzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggJSAyID09PSAwKTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgY29uc3QgcmVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAobmV3bGluZVNlcXVlbmNlc1tpXSAmJiBuZXdsaW5lU2VxdWVuY2VzW2ldLmxlbmd0aCB8fCAwKTtcbiAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcbiAgICAgIGZvciAobGV0IGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcbiAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xuICAgICAgICByZXMucHVzaChcbiAgICAgICAgICBgJHtsaW5lfSR7XCIgXCIucmVwZWF0KE1hdGgubWF4KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoLCAwKSl9fCAgJHtsaW5lc1tqXX1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5ld0xpbmVTZXFMZW5ndGggPSBuZXdsaW5lU2VxdWVuY2VzW2pdICYmIG5ld2xpbmVTZXF1ZW5jZXNbal0ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGlmIChqID09PSBpKSB7XG4gICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSAobGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGgpKTtcbiAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIiBcIi5yZXBlYXQocGFkKSArIFwiXlwiLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChqID4gaSkge1xuICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGlzU3RyaW5nKGl0ZW0pID8gcGFyc2VTdHJpbmdTdHlsZShpdGVtKSA6IG5vcm1hbGl6ZVN0eWxlKGl0ZW0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xuICAgICAgICAgIHJlc1trZXldID0gbm9ybWFsaXplZFtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuY29uc3QgbGlzdERlbGltaXRlclJFID0gLzsoPyFbXihdKlxcKSkvZztcbmNvbnN0IHByb3BlcnR5RGVsaW1pdGVyUkUgPSAvOihbXl0rKS87XG5jb25zdCBzdHlsZUNvbW1lbnRSRSA9IC9cXC9cXCpbXl0qP1xcKlxcLy9nO1xuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBjc3NUZXh0LnJlcGxhY2Uoc3R5bGVDb21tZW50UkUsIFwiXCIpLnNwbGl0KGxpc3REZWxpbWl0ZXJSRSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyUkUpO1xuICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJldFt0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlTdHlsZShzdHlsZXMpIHtcbiAgaWYgKCFzdHlsZXMpIHJldHVybiBcIlwiO1xuICBpZiAoaXNTdHJpbmcoc3R5bGVzKSkgcmV0dXJuIHN0eWxlcztcbiAgbGV0IHJldCA9IFwiXCI7XG4gIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV07XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xuICBsZXQgcmVzID0gXCJcIjtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJlcyA9IHZhbHVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcbiAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgIHJlcyArPSBub3JtYWxpemVkICsgXCIgXCI7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XG4gICAgICAgIHJlcyArPSBuYW1lICsgXCIgXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMudHJpbSgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xuICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICB9XG4gIGlmIChzdHlsZSkge1xuICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xuICB9XG4gIHJldHVybiBwcm9wcztcbn1cblxuY29uc3QgSFRNTF9UQUdTID0gXCJodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsaDEsaDIsaDMsaDQsaDUsaDYsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdFwiO1xuY29uc3QgU1ZHX1RBR1MgPSBcInN2ZyxhbmltYXRlLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsY2xpcFBhdGgsY29sb3ItcHJvZmlsZSxkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLGZlQ29tcG9zaXRlLGZlQ29udm9sdmVNYXRyaXgsZmVEaWZmdXNlTGlnaHRpbmcsZmVEaXNwbGFjZW1lbnRNYXAsZmVEaXN0YW50TGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUixmZUdhdXNzaWFuQmx1cixmZUltYWdlLGZlTWVyZ2UsZmVNZXJnZU5vZGUsZmVNb3JwaG9sb2d5LGZlT2Zmc2V0LGZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLG1lc2gsbWVzaGdyYWRpZW50LG1lc2hwYXRjaCxtZXNocm93LG1ldGFkYXRhLG1wYXRoLHBhdGgscGF0dGVybixwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlld1wiO1xuY29uc3QgTUFUSF9UQUdTID0gXCJhbm5vdGF0aW9uLGFubm90YXRpb24teG1sLG1hY3Rpb24sbWFsaWduZ3JvdXAsbWFsaWdubWFyayxtYXRoLG1lbmNsb3NlLG1lcnJvcixtZmVuY2VkLG1mcmFjLG1mcmFjdGlvbixtZ2x5cGgsbWksbWxhYmVsZWR0cixtbG9uZ2RpdixtbXVsdGlzY3JpcHRzLG1uLG1vLG1vdmVyLG1wYWRkZWQsbXBoYW50b20sbXByZXNjcmlwdHMsbXJvb3QsbXJvdyxtcyxtc2NhcnJpZXMsbXNjYXJyeSxtc2dyb3VwLG1zbGluZSxtc3BhY2UsbXNxcnQsbXNyb3csbXN0YWNrLG1zdHlsZSxtc3ViLG1zdWJzdXAsbXN1cCxtdGFibGUsbXRkLG10ZXh0LG10cixtdW5kZXIsbXVuZGVyb3Zlcixub25lLHNlbWFudGljc1wiO1xuY29uc3QgVk9JRF9UQUdTID0gXCJhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGhyLGltZyxpbnB1dCxsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdiclwiO1xuY29uc3QgaXNIVE1MVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoSFRNTF9UQUdTKTtcbmNvbnN0IGlzU1ZHVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoU1ZHX1RBR1MpO1xuY29uc3QgaXNNYXRoTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChNQVRIX1RBR1MpO1xuY29uc3QgaXNWb2lkVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoVk9JRF9UQUdTKTtcblxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xuY29uc3QgaXNTcGVjaWFsQm9vbGVhbkF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgc3BlY2lhbEJvb2xlYW5BdHRycyArIGAsYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNvbnRyb2xzLGRlZmF1bHQsZGVmZXIsZGlzYWJsZWQsaGlkZGVuLGluZXJ0LGxvb3Asb3BlbixyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3MsY2hlY2tlZCxtdXRlZCxtdWx0aXBsZSxzZWxlY3RlZGBcbik7XG5mdW5jdGlvbiBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgfHwgdmFsdWUgPT09IFwiXCI7XG59XG5jb25zdCB1bnNhZmVBdHRyQ2hhclJFID0gL1s+Lz1cIidcXHUwMDA5XFx1MDAwYVxcdTAwMGNcXHUwMDIwXS87XG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XG5mdW5jdGlvbiBpc1NTUlNhZmVBdHRyTmFtZShuYW1lKSB7XG4gIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XG4gIH1cbiAgY29uc3QgaXNVbnNhZmUgPSB1bnNhZmVBdHRyQ2hhclJFLnRlc3QobmFtZSk7XG4gIGlmIChpc1Vuc2FmZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xuICB9XG4gIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlO1xufVxuY29uc3QgcHJvcHNUb0F0dHJNYXAgPSB7XG4gIGFjY2VwdENoYXJzZXQ6IFwiYWNjZXB0LWNoYXJzZXRcIixcbiAgY2xhc3NOYW1lOiBcImNsYXNzXCIsXG4gIGh0bWxGb3I6IFwiZm9yXCIsXG4gIGh0dHBFcXVpdjogXCJodHRwLWVxdWl2XCJcbn07XG5jb25zdCBpc0tub3duSHRtbEF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYGFjY2VwdCxhY2NlcHQtY2hhcnNldCxhY2Nlc3NrZXksYWN0aW9uLGFsaWduLGFsbG93LGFsdCxhc3luYyxhdXRvY2FwaXRhbGl6ZSxhdXRvY29tcGxldGUsYXV0b2ZvY3VzLGF1dG9wbGF5LGJhY2tncm91bmQsYmdjb2xvcixib3JkZXIsYnVmZmVyZWQsY2FwdHVyZSxjaGFsbGVuZ2UsY2hhcnNldCxjaGVja2VkLGNpdGUsY2xhc3MsY29kZSxjb2RlYmFzZSxjb2xvcixjb2xzLGNvbHNwYW4sY29udGVudCxjb250ZW50ZWRpdGFibGUsY29udGV4dG1lbnUsY29udHJvbHMsY29vcmRzLGNyb3Nzb3JpZ2luLGNzcCxkYXRhLGRhdGV0aW1lLGRlY29kaW5nLGRlZmF1bHQsZGVmZXIsZGlyLGRpcm5hbWUsZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsZW50ZXJrZXloaW50LGZvcixmb3JtLGZvcm1hY3Rpb24sZm9ybWVuY3R5cGUsZm9ybW1ldGhvZCxmb3Jtbm92YWxpZGF0ZSxmb3JtdGFyZ2V0LGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdixpY29uLGlkLGltcG9ydGFuY2UsaW5lcnQsaW50ZWdyaXR5LGlzbWFwLGl0ZW1wcm9wLGtleXR5cGUsa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvYWRpbmcsbGlzdCxsb29wLGxvdyxtYW5pZmVzdCxtYXgsbWF4bGVuZ3RoLG1pbmxlbmd0aCxtZWRpYSxtaW4sbXVsdGlwbGUsbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLHByZWxvYWQscmFkaW9ncm91cCxyZWFkb25seSxyZWZlcnJlcnBvbGljeSxyZWwscmVxdWlyZWQscmV2ZXJzZWQscm93cyxyb3dzcGFuLHNhbmRib3gsc2NvcGUsc2NvcGVkLHNlbGVjdGVkLHNoYXBlLHNpemUsc2l6ZXMsc2xvdCxzcGFuLHNwZWxsY2hlY2ssc3JjLHNyY2RvYyxzcmNsYW5nLHNyY3NldCxzdGFydCxzdGVwLHN0eWxlLHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCx2YWx1ZSx3aWR0aCx3cmFwYFxuKTtcbmNvbnN0IGlzS25vd25TdmdBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGB4bWxucyxhY2NlbnQtaGVpZ2h0LGFjY3VtdWxhdGUsYWRkaXRpdmUsYWxpZ25tZW50LWJhc2VsaW5lLGFscGhhYmV0aWMsYW1wbGl0dWRlLGFyYWJpYy1mb3JtLGFzY2VudCxhdHRyaWJ1dGVOYW1lLGF0dHJpYnV0ZVR5cGUsYXppbXV0aCxiYXNlRnJlcXVlbmN5LGJhc2VsaW5lLXNoaWZ0LGJhc2VQcm9maWxlLGJib3gsYmVnaW4sYmlhcyxieSxjYWxjTW9kZSxjYXAtaGVpZ2h0LGNsYXNzLGNsaXAsY2xpcFBhdGhVbml0cyxjbGlwLXBhdGgsY2xpcC1ydWxlLGNvbG9yLGNvbG9yLWludGVycG9sYXRpb24sY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzLGNvbG9yLXByb2ZpbGUsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnRTY3JpcHRUeXBlLGNvbnRlbnRTdHlsZVR5cGUsY3Jvc3NvcmlnaW4sY3Vyc29yLGN4LGN5LGQsZGVjZWxlcmF0ZSxkZXNjZW50LGRpZmZ1c2VDb25zdGFudCxkaXJlY3Rpb24sZGlzcGxheSxkaXZpc29yLGRvbWluYW50LWJhc2VsaW5lLGR1cixkeCxkeSxlZGdlTW9kZSxlbGV2YXRpb24sZW5hYmxlLWJhY2tncm91bmQsZW5kLGV4cG9uZW50LGZpbGwsZmlsbC1vcGFjaXR5LGZpbGwtcnVsZSxmaWx0ZXIsZmlsdGVyUmVzLGZpbHRlclVuaXRzLGZsb29kLWNvbG9yLGZsb29kLW9wYWNpdHksZm9udC1mYW1pbHksZm9udC1zaXplLGZvbnQtc2l6ZS1hZGp1c3QsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZvcm1hdCxmcm9tLGZyLGZ4LGZ5LGcxLGcyLGdseXBoLW5hbWUsZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCxnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCxnbHlwaFJlZixncmFkaWVudFRyYW5zZm9ybSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhyZWYsaHJlZmxhbmcsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWQsaWRlb2dyYXBoaWMsaW1hZ2UtcmVuZGVyaW5nLGluLGluMixpbnRlcmNlcHQsayxrMSxrMixrMyxrNCxrZXJuZWxNYXRyaXgsa2VybmVsVW5pdExlbmd0aCxrZXJuaW5nLGtleVBvaW50cyxrZXlTcGxpbmVzLGtleVRpbWVzLGxhbmcsbGVuZ3RoQWRqdXN0LGxldHRlci1zcGFjaW5nLGxpZ2h0aW5nLWNvbG9yLGxpbWl0aW5nQ29uZUFuZ2xlLGxvY2FsLG1hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLG1hcmtlcldpZHRoLG1hc2ssbWFza0NvbnRlbnRVbml0cyxtYXNrVW5pdHMsbWF0aGVtYXRpY2FsLG1heCxtZWRpYSxtZXRob2QsbWluLG1vZGUsbmFtZSxudW1PY3RhdmVzLG9mZnNldCxvcGFjaXR5LG9wZXJhdG9yLG9yZGVyLG9yaWVudCxvcmllbnRhdGlvbixvcmlnaW4sb3ZlcmZsb3csb3ZlcmxpbmUtcG9zaXRpb24sb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLHBhaW50LW9yZGVyLHBhdGgscGF0aExlbmd0aCxwYXR0ZXJuQ29udGVudFVuaXRzLHBhdHRlcm5UcmFuc2Zvcm0scGF0dGVyblVuaXRzLHBpbmcscG9pbnRlci1ldmVudHMscG9pbnRzLHBvaW50c0F0WCxwb2ludHNBdFkscG9pbnRzQXRaLHByZXNlcnZlQWxwaGEscHJlc2VydmVBc3BlY3RSYXRpbyxwcmltaXRpdmVVbml0cyxyLHJhZGl1cyxyZWZlcnJlclBvbGljeSxyZWZYLHJlZlkscmVsLHJlbmRlcmluZy1pbnRlbnQscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscmVzdWx0LHJvdGF0ZSxyeCxyeSxzY2FsZSxzZWVkLHNoYXBlLXJlbmRlcmluZyxzbG9wZSxzcGFjaW5nLHNwZWN1bGFyQ29uc3RhbnQsc3BlY3VsYXJFeHBvbmVudCxzcGVlZCxzcHJlYWRNZXRob2Qsc3RhcnRPZmZzZXQsc3RkRGV2aWF0aW9uLHN0ZW1oLHN0ZW12LHN0aXRjaFRpbGVzLHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3RyaW5nLHN0cm9rZSxzdHJva2UtZGFzaGFycmF5LHN0cm9rZS1kYXNob2Zmc2V0LHN0cm9rZS1saW5lY2FwLHN0cm9rZS1saW5lam9pbixzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGgsc3R5bGUsc3VyZmFjZVNjYWxlLHN5c3RlbUxhbmd1YWdlLHRhYmluZGV4LHRhYmxlVmFsdWVzLHRhcmdldCx0YXJnZXRYLHRhcmdldFksdGV4dC1hbmNob3IsdGV4dC1kZWNvcmF0aW9uLHRleHQtcmVuZGVyaW5nLHRleHRMZW5ndGgsdG8sdHJhbnNmb3JtLHRyYW5zZm9ybS1vcmlnaW4sdHlwZSx1MSx1Mix1bmRlcmxpbmUtcG9zaXRpb24sdW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtYmlkaSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2LWFscGhhYmV0aWMsdi1oYW5naW5nLHYtaWRlb2dyYXBoaWMsdi1tYXRoZW1hdGljYWwsdmFsdWVzLHZlY3Rvci1lZmZlY3QsdmVyc2lvbix2ZXJ0LWFkdi15LHZlcnQtb3JpZ2luLXgsdmVydC1vcmlnaW4teSx2aWV3Qm94LHZpZXdUYXJnZXQsdmlzaWJpbGl0eSx3aWR0aCx3aWR0aHMsd29yZC1zcGFjaW5nLHdyaXRpbmctbW9kZSx4LHgtaGVpZ2h0LHgxLHgyLHhDaGFubmVsU2VsZWN0b3IseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOmhyZWYseGxpbms6cm9sZSx4bGluazpzaG93LHhsaW5rOnRpdGxlLHhsaW5rOnR5cGUseG1sbnM6eGxpbmsseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHkseTEseTIseUNoYW5uZWxTZWxlY3Rvcix6LHpvb21BbmRQYW5gXG4pO1xuY29uc3QgaXNLbm93bk1hdGhNTEF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYGFjY2VudCxhY2NlbnR1bmRlcixhY3Rpb250eXBlLGFsaWduLGFsaWdubWVudHNjb3BlLGFsdGltZyxhbHRpbWctaGVpZ2h0LGFsdGltZy12YWxpZ24sYWx0aW1nLXdpZHRoLGFsdHRleHQsYmV2ZWxsZWQsY2xvc2UsY29sdW1uc2FsaWduLGNvbHVtbmxpbmVzLGNvbHVtbnNwYW4sZGVub21hbGlnbixkZXB0aCxkaXIsZGlzcGxheSxkaXNwbGF5c3R5bGUsZW5jb2RpbmcsZXF1YWxjb2x1bW5zLGVxdWFscm93cyxmZW5jZSxmb250c3R5bGUsZm9udHdlaWdodCxmb3JtLGZyYW1lLGZyYW1lc3BhY2luZyxncm91cGFsaWduLGhlaWdodCxocmVmLGlkLGluZGVudGFsaWduLGluZGVudGFsaWduZmlyc3QsaW5kZW50YWxpZ25sYXN0LGluZGVudHNoaWZ0LGluZGVudHNoaWZ0Zmlyc3QsaW5kZW50c2hpZnRsYXN0LGluZGV4dHlwZSxqdXN0aWZ5LGxhcmdldG9wLGxhcmdlb3AsbHF1b3RlLGxzcGFjZSxtYXRoYmFja2dyb3VuZCxtYXRoY29sb3IsbWF0aHNpemUsbWF0aHZhcmlhbnQsbWF4c2l6ZSxtaW5sYWJlbHNwYWNpbmcsbW9kZSxvdGhlcixvdmVyZmxvdyxwb3NpdGlvbixyb3dhbGlnbixyb3dsaW5lcyxyb3dzcGFuLHJxdW90ZSxyc3BhY2Usc2NyaXB0bGV2ZWwsc2NyaXB0bWluc2l6ZSxzY3JpcHRzaXplbXVsdGlwbGllcixzZWxlY3Rpb24sc2VwYXJhdG9yLHNlcGFyYXRvcnMsc2hpZnQsc2lkZSxzcmMsc3RhY2thbGlnbixzdHJldGNoeSxzdWJzY3JpcHRzaGlmdCxzdXBlcnNjcmlwdHNoaWZ0LHN5bW1ldHJpYyx2b2Zmc2V0LHdpZHRoLHdpZHRocyx4bGluazpocmVmLHhsaW5rOnNob3cseGxpbms6dHlwZSx4bWxuc2Bcbik7XG5mdW5jdGlvbiBpc1JlbmRlcmFibGVBdHRyVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHR5cGUgPT09IFwic3RyaW5nXCIgfHwgdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcImJvb2xlYW5cIjtcbn1cblxuY29uc3QgZXNjYXBlUkUgPSAvW1wiJyY8Pl0vO1xuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcbiAgY29uc3Qgc3RyID0gXCJcIiArIHN0cmluZztcbiAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGxldCBodG1sID0gXCJcIjtcbiAgbGV0IGVzY2FwZWQ7XG4gIGxldCBpbmRleDtcbiAgbGV0IGxhc3RJbmRleCA9IDA7XG4gIGZvciAoaW5kZXggPSBtYXRjaC5pbmRleDsgaW5kZXggPCBzdHIubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgc3dpdGNoIChzdHIuY2hhckNvZGVBdChpbmRleCkpIHtcbiAgICAgIGNhc2UgMzQ6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZxdW90O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZhbXA7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOTpcbiAgICAgICAgZXNjYXBlZCA9IFwiJiMzOTtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYwOlxuICAgICAgICBlc2NhcGVkID0gXCImbHQ7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2MjpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmd0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobGFzdEluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaHRtbCArPSBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCk7XG4gICAgfVxuICAgIGxhc3RJbmRleCA9IGluZGV4ICsgMTtcbiAgICBodG1sICs9IGVzY2FwZWQ7XG4gIH1cbiAgcmV0dXJuIGxhc3RJbmRleCAhPT0gaW5kZXggPyBodG1sICsgc3RyLnNsaWNlKGxhc3RJbmRleCwgaW5kZXgpIDogaHRtbDtcbn1cbmNvbnN0IGNvbW1lbnRTdHJpcFJFID0gL14tPz58PCEtLXwtLT58LS0hPnw8IS0kL2c7XG5mdW5jdGlvbiBlc2NhcGVIdG1sQ29tbWVudChzcmMpIHtcbiAgcmV0dXJuIHNyYy5yZXBsYWNlKGNvbW1lbnRTdHJpcFJFLCBcIlwiKTtcbn1cbmNvbnN0IGNzc1Zhck5hbWVFc2NhcGVTeW1ib2xzUkUgPSAvWyAhXCIjJCUmJygpKissLi86Ozw9Pj9AW1xcXFxcXF1eYHt8fX5dL2c7XG5mdW5jdGlvbiBnZXRFc2NhcGVkQ3NzVmFyTmFtZShrZXksIGRvdWJsZUVzY2FwZSkge1xuICByZXR1cm4ga2V5LnJlcGxhY2UoXG4gICAgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSxcbiAgICAocykgPT4gZG91YmxlRXNjYXBlID8gcyA9PT0gJ1wiJyA/ICdcXFxcXFxcXFxcXFxcIicgOiBgXFxcXFxcXFwke3N9YCA6IGBcXFxcJHtzfWBcbiAgKTtcbn1cblxuZnVuY3Rpb24gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIHtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBsZXQgZXF1YWwgPSB0cnVlO1xuICBmb3IgKGxldCBpID0gMDsgZXF1YWwgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBlcXVhbCA9IGxvb3NlRXF1YWwoYVtpXSwgYltpXSk7XG4gIH1cbiAgcmV0dXJuIGVxdWFsO1xufVxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcbiAgbGV0IGFWYWxpZFR5cGUgPSBpc0RhdGUoYSk7XG4gIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSA6IGZhbHNlO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc1N5bWJvbChhKTtcbiAgYlZhbGlkVHlwZSA9IGlzU3ltYm9sKGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzQXJyYXkoYSk7XG4gIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc09iamVjdChhKTtcbiAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgaWYgKCFhVmFsaWRUeXBlIHx8ICFiVmFsaWRUeXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XG4gICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcbiAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgICBjb25zdCBhSGFzS2V5ID0gYS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGlmIChhSGFzS2V5ICYmICFiSGFzS2V5IHx8ICFhSGFzS2V5ICYmIGJIYXNLZXkgfHwgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xufVxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuZmluZEluZGV4KChpdGVtKSA9PiBsb29zZUVxdWFsKGl0ZW0sIHZhbCkpO1xufVxuXG5jb25zdCBpc1JlZiA9ICh2YWwpID0+IHtcbiAgcmV0dXJuICEhKHZhbCAmJiB2YWxbXCJfX3ZfaXNSZWZcIl0gPT09IHRydWUpO1xufTtcbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbCkgPyB2YWwgOiB2YWwgPT0gbnVsbCA/IFwiXCIgOiBpc0FycmF5KHZhbCkgfHwgaXNPYmplY3QodmFsKSAmJiAodmFsLnRvU3RyaW5nID09PSBvYmplY3RUb1N0cmluZyB8fCAhaXNGdW5jdGlvbih2YWwudG9TdHJpbmcpKSA/IGlzUmVmKHZhbCkgPyB0b0Rpc3BsYXlTdHJpbmcodmFsLnZhbHVlKSA6IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpIDogU3RyaW5nKHZhbCk7XG59O1xuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XG4gIGlmIChpc1JlZih2YWwpKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VyKF9rZXksIHZhbC52YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNNYXAodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYE1hcCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC5lbnRyaWVzKCldLnJlZHVjZShcbiAgICAgICAgKGVudHJpZXMsIFtrZXksIHZhbDJdLCBpKSA9PiB7XG4gICAgICAgICAgZW50cmllc1tzdHJpbmdpZnlTeW1ib2woa2V5LCBpKSArIFwiID0+XCJdID0gdmFsMjtcbiAgICAgICAgICByZXR1cm4gZW50cmllcztcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgIClcbiAgICB9O1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BTZXQoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwudmFsdWVzKCldLm1hcCgodikgPT4gc3RyaW5naWZ5U3ltYm9sKHYpKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTeW1ib2wodmFsKSkge1xuICAgIHJldHVybiBzdHJpbmdpZnlTeW1ib2wodmFsKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcbmNvbnN0IHN0cmluZ2lmeVN5bWJvbCA9ICh2LCBpID0gXCJcIikgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoXG4gICAgLy8gU3ltYm9sLmRlc2NyaXB0aW9uIGluIGVzMjAxOSsgc28gd2UgbmVlZCB0byBjYXN0IGhlcmUgdG8gcGFzc1xuICAgIC8vIHRoZSBsaWI6IGVzMjAxNiBjaGVja1xuICAgIGlzU3ltYm9sKHYpID8gYFN5bWJvbCgkeyhfYSA9IHYuZGVzY3JpcHRpb24pICE9IG51bGwgPyBfYSA6IGl9KWAgOiB2XG4gICk7XG59O1xuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBQYXRjaEZsYWdzLCBTaGFwZUZsYWdzLCBTbG90RmxhZ3MsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbkNhY2hlS2V5LCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNCdWlsdEluRGlyZWN0aXZlLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlBbGxvd2VkLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duSHRtbEF0dHIsIGlzS25vd25NYXRoTUxBdHRyLCBpc0tub3duU3ZnQXR0ciwgaXNNYXAsIGlzTWF0aE1MVGFnLCBpc01vZGVsTGlzdGVuZXIsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbG9vc2VUb051bWJlciwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgb2JqZWN0VG9TdHJpbmcsIHBhcnNlU3RyaW5nU3R5bGUsIHByb3BzVG9BdHRyTWFwLCByZW1vdmUsIHNsb3RGbGFnc1RleHQsIHN0cmluZ2lmeVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIHRvUmF3VHlwZSwgdG9UeXBlU3RyaW5nIH07XG4iLCIvKipcbiogQHZ1ZS9yZWFjdGl2aXR5IHYzLjUuMTNcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IGhhc0NoYW5nZWQsIGV4dGVuZCwgaXNBcnJheSwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgaXNNYXAsIGhhc093biwgaXNPYmplY3QsIG1ha2VNYXAsIHRvUmF3VHlwZSwgY2FwaXRhbGl6ZSwgZGVmLCBpc0Z1bmN0aW9uLCBFTVBUWV9PQkosIGlzU2V0LCBpc1BsYWluT2JqZWN0LCBOT09QLCByZW1vdmUgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XG4gIGNvbnNvbGUud2FybihgW1Z1ZSB3YXJuXSAke21zZ31gLCAuLi5hcmdzKTtcbn1cblxubGV0IGFjdGl2ZUVmZmVjdFNjb3BlO1xuY2xhc3MgRWZmZWN0U2NvcGUge1xuICBjb25zdHJ1Y3RvcihkZXRhY2hlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5kZXRhY2hlZCA9IGRldGFjaGVkO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5lZmZlY3RzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3VtZXMgdGhlIGVmZmVjdCBzY29wZSwgaW5jbHVkaW5nIGFsbCBjaGlsZCBzY29wZXMgYW5kIGVmZmVjdHMuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBpLCBsO1xuICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5yZXN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnBhcmVudDtcbiAgfVxuICBzdG9wKGZyb21QYXJlbnQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYW51cHMubGVuZ3RoID0gMDtcbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjb3Blcy5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmRldGFjaGVkICYmIHRoaXMucGFyZW50ICYmICFmcm9tUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QgIT09IHRoaXMpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF0gPSBsYXN0O1xuICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XG4gIHJldHVybiBuZXcgRWZmZWN0U2NvcGUoZGV0YWNoZWQpO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkge1xuICByZXR1cm4gYWN0aXZlRWZmZWN0U2NvcGU7XG59XG5mdW5jdGlvbiBvblNjb3BlRGlzcG9zZShmbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UpIHtcbiAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZmFpbFNpbGVudGx5KSB7XG4gICAgd2FybihcbiAgICAgIGBvblNjb3BlRGlzcG9zZSgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBlZmZlY3Qgc2NvcGUgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG59XG5cbmxldCBhY3RpdmVTdWI7XG5jb25zdCBFZmZlY3RGbGFncyA9IHtcbiAgXCJBQ1RJVkVcIjogMSxcbiAgXCIxXCI6IFwiQUNUSVZFXCIsXG4gIFwiUlVOTklOR1wiOiAyLFxuICBcIjJcIjogXCJSVU5OSU5HXCIsXG4gIFwiVFJBQ0tJTkdcIjogNCxcbiAgXCI0XCI6IFwiVFJBQ0tJTkdcIixcbiAgXCJOT1RJRklFRFwiOiA4LFxuICBcIjhcIjogXCJOT1RJRklFRFwiLFxuICBcIkRJUlRZXCI6IDE2LFxuICBcIjE2XCI6IFwiRElSVFlcIixcbiAgXCJBTExPV19SRUNVUlNFXCI6IDMyLFxuICBcIjMyXCI6IFwiQUxMT1dfUkVDVVJTRVwiLFxuICBcIlBBVVNFRFwiOiA2NCxcbiAgXCI2NFwiOiBcIlBBVVNFRFwiXG59O1xuY29uc3QgcGF1c2VkUXVldWVFZmZlY3RzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG5jbGFzcyBSZWFjdGl2ZUVmZmVjdCB7XG4gIGNvbnN0cnVjdG9yKGZuKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwcyA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHNUYWlsID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZmxhZ3MgPSAxIHwgNDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwID0gdm9pZCAwO1xuICAgIHRoaXMuc2NoZWR1bGVyID0gdm9pZCAwO1xuICAgIGlmIChhY3RpdmVFZmZlY3RTY29wZSAmJiBhY3RpdmVFZmZlY3RTY29wZS5hY3RpdmUpIHtcbiAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlLmVmZmVjdHMucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5mbGFncyB8PSA2NDtcbiAgfVxuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiA2NCkge1xuICAgICAgdGhpcy5mbGFncyAmPSB+NjQ7XG4gICAgICBpZiAocGF1c2VkUXVldWVFZmZlY3RzLmhhcyh0aGlzKSkge1xuICAgICAgICBwYXVzZWRRdWV1ZUVmZmVjdHMuZGVsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5KCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMiAmJiAhKHRoaXMuZmxhZ3MgJiAzMikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCEodGhpcy5mbGFncyAmIDgpKSB7XG4gICAgICBiYXRjaCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgcnVuKCkge1xuICAgIGlmICghKHRoaXMuZmxhZ3MgJiAxKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9XG4gICAgdGhpcy5mbGFncyB8PSAyO1xuICAgIGNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgcHJlcGFyZURlcHModGhpcyk7XG4gICAgY29uc3QgcHJldkVmZmVjdCA9IGFjdGl2ZVN1YjtcbiAgICBjb25zdCBwcmV2U2hvdWxkVHJhY2sgPSBzaG91bGRUcmFjaztcbiAgICBhY3RpdmVTdWIgPSB0aGlzO1xuICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYWN0aXZlU3ViICE9PSB0aGlzKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgXCJBY3RpdmUgZWZmZWN0IHdhcyBub3QgcmVzdG9yZWQgY29ycmVjdGx5IC0gdGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWwgYnVnLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjbGVhbnVwRGVwcyh0aGlzKTtcbiAgICAgIGFjdGl2ZVN1YiA9IHByZXZFZmZlY3Q7XG4gICAgICBzaG91bGRUcmFjayA9IHByZXZTaG91bGRUcmFjaztcbiAgICAgIHRoaXMuZmxhZ3MgJj0gfjI7XG4gICAgfVxuICB9XG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiAxKSB7XG4gICAgICBmb3IgKGxldCBsaW5rID0gdGhpcy5kZXBzOyBsaW5rOyBsaW5rID0gbGluay5uZXh0RGVwKSB7XG4gICAgICAgIHJlbW92ZVN1YihsaW5rKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVwcyA9IHRoaXMuZGVwc1RhaWwgPSB2b2lkIDA7XG4gICAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgdGhpcy5vblN0b3AgJiYgdGhpcy5vblN0b3AoKTtcbiAgICAgIHRoaXMuZmxhZ3MgJj0gfjE7XG4gICAgfVxuICB9XG4gIHRyaWdnZXIoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiA2NCkge1xuICAgICAgcGF1c2VkUXVldWVFZmZlY3RzLmFkZCh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2NoZWR1bGVyKSB7XG4gICAgICB0aGlzLnNjaGVkdWxlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bklmRGlydHkoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcnVuSWZEaXJ0eSgpIHtcbiAgICBpZiAoaXNEaXJ0eSh0aGlzKSkge1xuICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGRpcnR5KCkge1xuICAgIHJldHVybiBpc0RpcnR5KHRoaXMpO1xuICB9XG59XG5sZXQgYmF0Y2hEZXB0aCA9IDA7XG5sZXQgYmF0Y2hlZFN1YjtcbmxldCBiYXRjaGVkQ29tcHV0ZWQ7XG5mdW5jdGlvbiBiYXRjaChzdWIsIGlzQ29tcHV0ZWQgPSBmYWxzZSkge1xuICBzdWIuZmxhZ3MgfD0gODtcbiAgaWYgKGlzQ29tcHV0ZWQpIHtcbiAgICBzdWIubmV4dCA9IGJhdGNoZWRDb21wdXRlZDtcbiAgICBiYXRjaGVkQ29tcHV0ZWQgPSBzdWI7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN1Yi5uZXh0ID0gYmF0Y2hlZFN1YjtcbiAgYmF0Y2hlZFN1YiA9IHN1Yjtcbn1cbmZ1bmN0aW9uIHN0YXJ0QmF0Y2goKSB7XG4gIGJhdGNoRGVwdGgrKztcbn1cbmZ1bmN0aW9uIGVuZEJhdGNoKCkge1xuICBpZiAoLS1iYXRjaERlcHRoID4gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYmF0Y2hlZENvbXB1dGVkKSB7XG4gICAgbGV0IGUgPSBiYXRjaGVkQ29tcHV0ZWQ7XG4gICAgYmF0Y2hlZENvbXB1dGVkID0gdm9pZCAwO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICBjb25zdCBuZXh0ID0gZS5uZXh0O1xuICAgICAgZS5uZXh0ID0gdm9pZCAwO1xuICAgICAgZS5mbGFncyAmPSB+ODtcbiAgICAgIGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuICBsZXQgZXJyb3I7XG4gIHdoaWxlIChiYXRjaGVkU3ViKSB7XG4gICAgbGV0IGUgPSBiYXRjaGVkU3ViO1xuICAgIGJhdGNoZWRTdWIgPSB2b2lkIDA7XG4gICAgd2hpbGUgKGUpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBlLm5leHQ7XG4gICAgICBlLm5leHQgPSB2b2lkIDA7XG4gICAgICBlLmZsYWdzICY9IH44O1xuICAgICAgaWYgKGUuZmxhZ3MgJiAxKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgO1xuICAgICAgICAgIGUudHJpZ2dlcigpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG59XG5mdW5jdGlvbiBwcmVwYXJlRGVwcyhzdWIpIHtcbiAgZm9yIChsZXQgbGluayA9IHN1Yi5kZXBzOyBsaW5rOyBsaW5rID0gbGluay5uZXh0RGVwKSB7XG4gICAgbGluay52ZXJzaW9uID0gLTE7XG4gICAgbGluay5wcmV2QWN0aXZlTGluayA9IGxpbmsuZGVwLmFjdGl2ZUxpbms7XG4gICAgbGluay5kZXAuYWN0aXZlTGluayA9IGxpbms7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFudXBEZXBzKHN1Yikge1xuICBsZXQgaGVhZDtcbiAgbGV0IHRhaWwgPSBzdWIuZGVwc1RhaWw7XG4gIGxldCBsaW5rID0gdGFpbDtcbiAgd2hpbGUgKGxpbmspIHtcbiAgICBjb25zdCBwcmV2ID0gbGluay5wcmV2RGVwO1xuICAgIGlmIChsaW5rLnZlcnNpb24gPT09IC0xKSB7XG4gICAgICBpZiAobGluayA9PT0gdGFpbCkgdGFpbCA9IHByZXY7XG4gICAgICByZW1vdmVTdWIobGluayk7XG4gICAgICByZW1vdmVEZXAobGluayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWQgPSBsaW5rO1xuICAgIH1cbiAgICBsaW5rLmRlcC5hY3RpdmVMaW5rID0gbGluay5wcmV2QWN0aXZlTGluaztcbiAgICBsaW5rLnByZXZBY3RpdmVMaW5rID0gdm9pZCAwO1xuICAgIGxpbmsgPSBwcmV2O1xuICB9XG4gIHN1Yi5kZXBzID0gaGVhZDtcbiAgc3ViLmRlcHNUYWlsID0gdGFpbDtcbn1cbmZ1bmN0aW9uIGlzRGlydHkoc3ViKSB7XG4gIGZvciAobGV0IGxpbmsgPSBzdWIuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgIGlmIChsaW5rLmRlcC52ZXJzaW9uICE9PSBsaW5rLnZlcnNpb24gfHwgbGluay5kZXAuY29tcHV0ZWQgJiYgKHJlZnJlc2hDb21wdXRlZChsaW5rLmRlcC5jb21wdXRlZCkgfHwgbGluay5kZXAudmVyc2lvbiAhPT0gbGluay52ZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChzdWIuX2RpcnR5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcmVmcmVzaENvbXB1dGVkKGNvbXB1dGVkKSB7XG4gIGlmIChjb21wdXRlZC5mbGFncyAmIDQgJiYgIShjb21wdXRlZC5mbGFncyAmIDE2KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5mbGFncyAmPSB+MTY7XG4gIGlmIChjb21wdXRlZC5nbG9iYWxWZXJzaW9uID09PSBnbG9iYWxWZXJzaW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbXB1dGVkLmdsb2JhbFZlcnNpb24gPSBnbG9iYWxWZXJzaW9uO1xuICBjb25zdCBkZXAgPSBjb21wdXRlZC5kZXA7XG4gIGNvbXB1dGVkLmZsYWdzIHw9IDI7XG4gIGlmIChkZXAudmVyc2lvbiA+IDAgJiYgIWNvbXB1dGVkLmlzU1NSICYmIGNvbXB1dGVkLmRlcHMgJiYgIWlzRGlydHkoY29tcHV0ZWQpKSB7XG4gICAgY29tcHV0ZWQuZmxhZ3MgJj0gfjI7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHByZXZTdWIgPSBhY3RpdmVTdWI7XG4gIGNvbnN0IHByZXZTaG91bGRUcmFjayA9IHNob3VsZFRyYWNrO1xuICBhY3RpdmVTdWIgPSBjb21wdXRlZDtcbiAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICB0cnkge1xuICAgIHByZXBhcmVEZXBzKGNvbXB1dGVkKTtcbiAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkLmZuKGNvbXB1dGVkLl92YWx1ZSk7XG4gICAgaWYgKGRlcC52ZXJzaW9uID09PSAwIHx8IGhhc0NoYW5nZWQodmFsdWUsIGNvbXB1dGVkLl92YWx1ZSkpIHtcbiAgICAgIGNvbXB1dGVkLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgZGVwLnZlcnNpb24rKztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlcC52ZXJzaW9uKys7XG4gICAgdGhyb3cgZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIGFjdGl2ZVN1YiA9IHByZXZTdWI7XG4gICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgY2xlYW51cERlcHMoY29tcHV0ZWQpO1xuICAgIGNvbXB1dGVkLmZsYWdzICY9IH4yO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVTdWIobGluaywgc29mdCA9IGZhbHNlKSB7XG4gIGNvbnN0IHsgZGVwLCBwcmV2U3ViLCBuZXh0U3ViIH0gPSBsaW5rO1xuICBpZiAocHJldlN1Yikge1xuICAgIHByZXZTdWIubmV4dFN1YiA9IG5leHRTdWI7XG4gICAgbGluay5wcmV2U3ViID0gdm9pZCAwO1xuICB9XG4gIGlmIChuZXh0U3ViKSB7XG4gICAgbmV4dFN1Yi5wcmV2U3ViID0gcHJldlN1YjtcbiAgICBsaW5rLm5leHRTdWIgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVwLnN1YnNIZWFkID09PSBsaW5rKSB7XG4gICAgZGVwLnN1YnNIZWFkID0gbmV4dFN1YjtcbiAgfVxuICBpZiAoZGVwLnN1YnMgPT09IGxpbmspIHtcbiAgICBkZXAuc3VicyA9IHByZXZTdWI7XG4gICAgaWYgKCFwcmV2U3ViICYmIGRlcC5jb21wdXRlZCkge1xuICAgICAgZGVwLmNvbXB1dGVkLmZsYWdzICY9IH40O1xuICAgICAgZm9yIChsZXQgbCA9IGRlcC5jb21wdXRlZC5kZXBzOyBsOyBsID0gbC5uZXh0RGVwKSB7XG4gICAgICAgIHJlbW92ZVN1YihsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFzb2Z0ICYmICEtLWRlcC5zYyAmJiBkZXAubWFwKSB7XG4gICAgZGVwLm1hcC5kZWxldGUoZGVwLmtleSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZURlcChsaW5rKSB7XG4gIGNvbnN0IHsgcHJldkRlcCwgbmV4dERlcCB9ID0gbGluaztcbiAgaWYgKHByZXZEZXApIHtcbiAgICBwcmV2RGVwLm5leHREZXAgPSBuZXh0RGVwO1xuICAgIGxpbmsucHJldkRlcCA9IHZvaWQgMDtcbiAgfVxuICBpZiAobmV4dERlcCkge1xuICAgIG5leHREZXAucHJldkRlcCA9IHByZXZEZXA7XG4gICAgbGluay5uZXh0RGVwID0gdm9pZCAwO1xuICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgaWYgKGZuLmVmZmVjdCBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgZm4gPSBmbi5lZmZlY3QuZm47XG4gIH1cbiAgY29uc3QgZSA9IG5ldyBSZWFjdGl2ZUVmZmVjdChmbik7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZXh0ZW5kKGUsIG9wdGlvbnMpO1xuICB9XG4gIHRyeSB7XG4gICAgZS5ydW4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZS5zdG9wKCk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGNvbnN0IHJ1bm5lciA9IGUucnVuLmJpbmQoZSk7XG4gIHJ1bm5lci5lZmZlY3QgPSBlO1xuICByZXR1cm4gcnVubmVyO1xufVxuZnVuY3Rpb24gc3RvcChydW5uZXIpIHtcbiAgcnVubmVyLmVmZmVjdC5zdG9wKCk7XG59XG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG59XG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xuICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcbiAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB2b2lkIDAgPyB0cnVlIDogbGFzdDtcbn1cbmZ1bmN0aW9uIG9uRWZmZWN0Q2xlYW51cChmbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UpIHtcbiAgaWYgKGFjdGl2ZVN1YiBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgYWN0aXZlU3ViLmNsZWFudXAgPSBmbjtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uRWZmZWN0Q2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIGVmZmVjdCB0byBhc3NvY2lhdGUgd2l0aC5gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xlYW51cEVmZmVjdChlKSB7XG4gIGNvbnN0IHsgY2xlYW51cCB9ID0gZTtcbiAgZS5jbGVhbnVwID0gdm9pZCAwO1xuICBpZiAoY2xlYW51cCkge1xuICAgIGNvbnN0IHByZXZTdWIgPSBhY3RpdmVTdWI7XG4gICAgYWN0aXZlU3ViID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFjdGl2ZVN1YiA9IHByZXZTdWI7XG4gICAgfVxuICB9XG59XG5cbmxldCBnbG9iYWxWZXJzaW9uID0gMDtcbmNsYXNzIExpbmsge1xuICBjb25zdHJ1Y3RvcihzdWIsIGRlcCkge1xuICAgIHRoaXMuc3ViID0gc3ViO1xuICAgIHRoaXMuZGVwID0gZGVwO1xuICAgIHRoaXMudmVyc2lvbiA9IGRlcC52ZXJzaW9uO1xuICAgIHRoaXMubmV4dERlcCA9IHRoaXMucHJldkRlcCA9IHRoaXMubmV4dFN1YiA9IHRoaXMucHJldlN1YiA9IHRoaXMucHJldkFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gIH1cbn1cbmNsYXNzIERlcCB7XG4gIGNvbnN0cnVjdG9yKGNvbXB1dGVkKSB7XG4gICAgdGhpcy5jb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgIHRoaXMudmVyc2lvbiA9IDA7XG4gICAgLyoqXG4gICAgICogTGluayBiZXR3ZWVuIHRoaXMgZGVwIGFuZCB0aGUgY3VycmVudCBhY3RpdmUgZWZmZWN0XG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVMaW5rID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIERvdWJseSBsaW5rZWQgbGlzdCByZXByZXNlbnRpbmcgdGhlIHN1YnNjcmliaW5nIGVmZmVjdHMgKHRhaWwpXG4gICAgICovXG4gICAgdGhpcy5zdWJzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEZvciBvYmplY3QgcHJvcGVydHkgZGVwcyBjbGVhbnVwXG4gICAgICovXG4gICAgdGhpcy5tYXAgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlciBjb3VudGVyXG4gICAgICovXG4gICAgdGhpcy5zYyA9IDA7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRoaXMuc3Vic0hlYWQgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHRyYWNrKGRlYnVnSW5mbykge1xuICAgIGlmICghYWN0aXZlU3ViIHx8ICFzaG91bGRUcmFjayB8fCBhY3RpdmVTdWIgPT09IHRoaXMuY29tcHV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxpbmsgPSB0aGlzLmFjdGl2ZUxpbms7XG4gICAgaWYgKGxpbmsgPT09IHZvaWQgMCB8fCBsaW5rLnN1YiAhPT0gYWN0aXZlU3ViKSB7XG4gICAgICBsaW5rID0gdGhpcy5hY3RpdmVMaW5rID0gbmV3IExpbmsoYWN0aXZlU3ViLCB0aGlzKTtcbiAgICAgIGlmICghYWN0aXZlU3ViLmRlcHMpIHtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHMgPSBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluay5wcmV2RGVwID0gYWN0aXZlU3ViLmRlcHNUYWlsO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwubmV4dERlcCA9IGxpbms7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICB9XG4gICAgICBhZGRTdWIobGluayk7XG4gICAgfSBlbHNlIGlmIChsaW5rLnZlcnNpb24gPT09IC0xKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLnZlcnNpb247XG4gICAgICBpZiAobGluay5uZXh0RGVwKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBsaW5rLm5leHREZXA7XG4gICAgICAgIG5leHQucHJldkRlcCA9IGxpbmsucHJldkRlcDtcbiAgICAgICAgaWYgKGxpbmsucHJldkRlcCkge1xuICAgICAgICAgIGxpbmsucHJldkRlcC5uZXh0RGVwID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBsaW5rLnByZXZEZXAgPSBhY3RpdmVTdWIuZGVwc1RhaWw7XG4gICAgICAgIGxpbmsubmV4dERlcCA9IHZvaWQgMDtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsLm5leHREZXAgPSBsaW5rO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgICBpZiAoYWN0aXZlU3ViLmRlcHMgPT09IGxpbmspIHtcbiAgICAgICAgICBhY3RpdmVTdWIuZGVwcyA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYWN0aXZlU3ViLm9uVHJhY2spIHtcbiAgICAgIGFjdGl2ZVN1Yi5vblRyYWNrKFxuICAgICAgICBleHRlbmQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgZWZmZWN0OiBhY3RpdmVTdWJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlYnVnSW5mb1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbGluaztcbiAgfVxuICB0cmlnZ2VyKGRlYnVnSW5mbykge1xuICAgIHRoaXMudmVyc2lvbisrO1xuICAgIGdsb2JhbFZlcnNpb24rKztcbiAgICB0aGlzLm5vdGlmeShkZWJ1Z0luZm8pO1xuICB9XG4gIG5vdGlmeShkZWJ1Z0luZm8pIHtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAobGV0IGhlYWQgPSB0aGlzLnN1YnNIZWFkOyBoZWFkOyBoZWFkID0gaGVhZC5uZXh0U3ViKSB7XG4gICAgICAgICAgaWYgKGhlYWQuc3ViLm9uVHJpZ2dlciAmJiAhKGhlYWQuc3ViLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgIGhlYWQuc3ViLm9uVHJpZ2dlcihcbiAgICAgICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVmZmVjdDogaGVhZC5zdWJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlYnVnSW5mb1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuc3ViczsgbGluazsgbGluayA9IGxpbmsucHJldlN1Yikge1xuICAgICAgICBpZiAobGluay5zdWIubm90aWZ5KCkpIHtcbiAgICAgICAgICA7XG4gICAgICAgICAgbGluay5zdWIuZGVwLm5vdGlmeSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhZGRTdWIobGluaykge1xuICBsaW5rLmRlcC5zYysrO1xuICBpZiAobGluay5zdWIuZmxhZ3MgJiA0KSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBsaW5rLmRlcC5jb21wdXRlZDtcbiAgICBpZiAoY29tcHV0ZWQgJiYgIWxpbmsuZGVwLnN1YnMpIHtcbiAgICAgIGNvbXB1dGVkLmZsYWdzIHw9IDQgfCAxNjtcbiAgICAgIGZvciAobGV0IGwgPSBjb21wdXRlZC5kZXBzOyBsOyBsID0gbC5uZXh0RGVwKSB7XG4gICAgICAgIGFkZFN1YihsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3VycmVudFRhaWwgPSBsaW5rLmRlcC5zdWJzO1xuICAgIGlmIChjdXJyZW50VGFpbCAhPT0gbGluaykge1xuICAgICAgbGluay5wcmV2U3ViID0gY3VycmVudFRhaWw7XG4gICAgICBpZiAoY3VycmVudFRhaWwpIGN1cnJlbnRUYWlsLm5leHRTdWIgPSBsaW5rO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBsaW5rLmRlcC5zdWJzSGVhZCA9PT0gdm9pZCAwKSB7XG4gICAgICBsaW5rLmRlcC5zdWJzSGVhZCA9IGxpbms7XG4gICAgfVxuICAgIGxpbmsuZGVwLnN1YnMgPSBsaW5rO1xuICB9XG59XG5jb25zdCB0YXJnZXRNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IElURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJPYmplY3QgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk1hcCBrZXlzIGl0ZXJhdGVcIiA6IFwiXCJcbik7XG5jb25zdCBBUlJBWV9JVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQXJyYXkgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XG4gIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVTdWIpIHtcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoIWRlcHNNYXApIHtcbiAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCBkZXBzTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgfVxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xuICAgIGlmICghZGVwKSB7XG4gICAgICBkZXBzTWFwLnNldChrZXksIGRlcCA9IG5ldyBEZXAoKSk7XG4gICAgICBkZXAubWFwID0gZGVwc01hcDtcbiAgICAgIGRlcC5rZXkgPSBrZXk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBkZXAudHJhY2soe1xuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlcC50cmFjaygpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKCFkZXBzTWFwKSB7XG4gICAgZ2xvYmFsVmVyc2lvbisrO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBydW4gPSAoZGVwKSA9PiB7XG4gICAgaWYgKGRlcCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICBvbGRUYXJnZXRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc3RhcnRCYXRjaCgpO1xuICBpZiAodHlwZSA9PT0gXCJjbGVhclwiKSB7XG4gICAgZGVwc01hcC5mb3JFYWNoKHJ1bik7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBjb25zdCBpc0FycmF5SW5kZXggPSB0YXJnZXRJc0FycmF5ICYmIGlzSW50ZWdlcktleShrZXkpO1xuICAgIGlmICh0YXJnZXRJc0FycmF5ICYmIGtleSA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgY29uc3QgbmV3TGVuZ3RoID0gTnVtYmVyKG5ld1ZhbHVlKTtcbiAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkyKSA9PiB7XG4gICAgICAgIGlmIChrZXkyID09PSBcImxlbmd0aFwiIHx8IGtleTIgPT09IEFSUkFZX0lURVJBVEVfS0VZIHx8ICFpc1N5bWJvbChrZXkyKSAmJiBrZXkyID49IG5ld0xlbmd0aCkge1xuICAgICAgICAgIHJ1bihkZXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGtleSAhPT0gdm9pZCAwIHx8IGRlcHNNYXAuaGFzKHZvaWQgMCkpIHtcbiAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KGtleSkpO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlJbmRleCkge1xuICAgICAgICBydW4oZGVwc01hcC5nZXQoQVJSQVlfSVRFUkFURV9LRVkpKTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0FycmF5KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5SW5kZXgpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChcImxlbmd0aFwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0FycmF5KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZW5kQmF0Y2goKTtcbn1cbmZ1bmN0aW9uIGdldERlcEZyb21SZWFjdGl2ZShvYmplY3QsIGtleSkge1xuICBjb25zdCBkZXBNYXAgPSB0YXJnZXRNYXAuZ2V0KG9iamVjdCk7XG4gIHJldHVybiBkZXBNYXAgJiYgZGVwTWFwLmdldChrZXkpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZVJlYWRBcnJheShhcnJheSkge1xuICBjb25zdCByYXcgPSB0b1JhdyhhcnJheSk7XG4gIGlmIChyYXcgPT09IGFycmF5KSByZXR1cm4gcmF3O1xuICB0cmFjayhyYXcsIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIHJldHVybiBpc1NoYWxsb3coYXJyYXkpID8gcmF3IDogcmF3Lm1hcCh0b1JlYWN0aXZlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkQXJyYXkoYXJyKSB7XG4gIHRyYWNrKGFyciA9IHRvUmF3KGFyciksIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIHJldHVybiBhcnI7XG59XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSB7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFN5bWJvbC5pdGVyYXRvciwgdG9SZWFjdGl2ZSk7XG4gIH0sXG4gIGNvbmNhdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLmNvbmNhdChcbiAgICAgIC4uLmFyZ3MubWFwKCh4KSA9PiBpc0FycmF5KHgpID8gcmVhY3RpdmVSZWFkQXJyYXkoeCkgOiB4KVxuICAgICk7XG4gIH0sXG4gIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFwiZW50cmllc1wiLCAodmFsdWUpID0+IHtcbiAgICAgIHZhbHVlWzFdID0gdG9SZWFjdGl2ZSh2YWx1ZVsxXSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sXG4gIGV2ZXJ5KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZXZlcnlcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmlsdGVyKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmlsdGVyXCIsIGZuLCB0aGlzQXJnLCAodikgPT4gdi5tYXAodG9SZWFjdGl2ZSksIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmQoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kXCIsIGZuLCB0aGlzQXJnLCB0b1JlYWN0aXZlLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kSW5kZXgoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kSW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3QoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kTGFzdFwiLCBmbiwgdGhpc0FyZywgdG9SZWFjdGl2ZSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3RJbmRleChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRMYXN0SW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgLy8gZmxhdCwgZmxhdE1hcCBjb3VsZCBiZW5lZml0IGZyb20gQVJSQVlfSVRFUkFURSBidXQgYXJlIG5vdCBzdHJhaWdodC1mb3J3YXJkIHRvIGltcGxlbWVudFxuICBmb3JFYWNoKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZm9yRWFjaFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBpbmNsdWRlcyguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwiaW5jbHVkZXNcIiwgYXJncyk7XG4gIH0sXG4gIGluZGV4T2YoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImluZGV4T2ZcIiwgYXJncyk7XG4gIH0sXG4gIGpvaW4oc2VwYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLmpvaW4oc2VwYXJhdG9yKTtcbiAgfSxcbiAgLy8ga2V5cygpIGl0ZXJhdG9yIG9ubHkgcmVhZHMgYGxlbmd0aGAsIG5vIG9wdGltaXNhdGlvbiByZXF1aXJlZFxuICBsYXN0SW5kZXhPZiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwibGFzdEluZGV4T2ZcIiwgYXJncyk7XG4gIH0sXG4gIG1hcChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcIm1hcFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBwb3AoKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJwb3BcIik7XG4gIH0sXG4gIHB1c2goLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwicHVzaFwiLCBhcmdzKTtcbiAgfSxcbiAgcmVkdWNlKGZuLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBcInJlZHVjZVwiLCBmbiwgYXJncyk7XG4gIH0sXG4gIHJlZHVjZVJpZ2h0KGZuLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBcInJlZHVjZVJpZ2h0XCIsIGZuLCBhcmdzKTtcbiAgfSxcbiAgc2hpZnQoKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJzaGlmdFwiKTtcbiAgfSxcbiAgLy8gc2xpY2UgY291bGQgdXNlIEFSUkFZX0lURVJBVEUgYnV0IGFsc28gc2VlbXMgdG8gYmVnIGZvciByYW5nZSB0cmFja2luZ1xuICBzb21lKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwic29tZVwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBzcGxpY2UoLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwic3BsaWNlXCIsIGFyZ3MpO1xuICB9LFxuICB0b1JldmVyc2VkKCkge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1JldmVyc2VkKCk7XG4gIH0sXG4gIHRvU29ydGVkKGNvbXBhcmVyKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvU29ydGVkKGNvbXBhcmVyKTtcbiAgfSxcbiAgdG9TcGxpY2VkKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9TcGxpY2VkKC4uLmFyZ3MpO1xuICB9LFxuICB1bnNoaWZ0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInVuc2hpZnRcIiwgYXJncyk7XG4gIH0sXG4gIHZhbHVlcygpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgXCJ2YWx1ZXNcIiwgdG9SZWFjdGl2ZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBpdGVyYXRvcihzZWxmLCBtZXRob2QsIHdyYXBWYWx1ZSkge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBjb25zdCBpdGVyID0gYXJyW21ldGhvZF0oKTtcbiAgaWYgKGFyciAhPT0gc2VsZiAmJiAhaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgaXRlci5fbmV4dCA9IGl0ZXIubmV4dDtcbiAgICBpdGVyLm5leHQgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBpdGVyLl9uZXh0KCk7XG4gICAgICBpZiAocmVzdWx0LnZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHdyYXBWYWx1ZShyZXN1bHQudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpdGVyO1xufVxuY29uc3QgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGFwcGx5KHNlbGYsIG1ldGhvZCwgZm4sIHRoaXNBcmcsIHdyYXBwZWRSZXRGbiwgYXJncykge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBjb25zdCBuZWVkc1dyYXAgPSBhcnIgIT09IHNlbGYgJiYgIWlzU2hhbGxvdyhzZWxmKTtcbiAgY29uc3QgbWV0aG9kRm4gPSBhcnJbbWV0aG9kXTtcbiAgaWYgKG1ldGhvZEZuICE9PSBhcnJheVByb3RvW21ldGhvZF0pIHtcbiAgICBjb25zdCByZXN1bHQyID0gbWV0aG9kRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgcmV0dXJuIG5lZWRzV3JhcCA/IHRvUmVhY3RpdmUocmVzdWx0MikgOiByZXN1bHQyO1xuICB9XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmIChuZWVkc1dyYXApIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRvUmVhY3RpdmUoaXRlbSksIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChmbi5sZW5ndGggPiAyKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBjb25zdCByZXN1bHQgPSBtZXRob2RGbi5jYWxsKGFyciwgd3JhcHBlZEZuLCB0aGlzQXJnKTtcbiAgcmV0dXJuIG5lZWRzV3JhcCAmJiB3cmFwcGVkUmV0Rm4gPyB3cmFwcGVkUmV0Rm4ocmVzdWx0KSA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJlZHVjZShzZWxmLCBtZXRob2QsIGZuLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmICghaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihhY2MsIGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGFjYywgdG9SZWFjdGl2ZShpdGVtKSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZuLmxlbmd0aCA+IDMpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGFjYywgaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYWNjLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyW21ldGhvZF0od3JhcHBlZEZuLCAuLi5hcmdzKTtcbn1cbmZ1bmN0aW9uIHNlYXJjaFByb3h5KHNlbGYsIG1ldGhvZCwgYXJncykge1xuICBjb25zdCBhcnIgPSB0b1JhdyhzZWxmKTtcbiAgdHJhY2soYXJyLCBcIml0ZXJhdGVcIiwgQVJSQVlfSVRFUkFURV9LRVkpO1xuICBjb25zdCByZXMgPSBhcnJbbWV0aG9kXSguLi5hcmdzKTtcbiAgaWYgKChyZXMgPT09IC0xIHx8IHJlcyA9PT0gZmFsc2UpICYmIGlzUHJveHkoYXJnc1swXSkpIHtcbiAgICBhcmdzWzBdID0gdG9SYXcoYXJnc1swXSk7XG4gICAgcmV0dXJuIGFyclttZXRob2RdKC4uLmFyZ3MpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBub1RyYWNraW5nKHNlbGYsIG1ldGhvZCwgYXJncyA9IFtdKSB7XG4gIHBhdXNlVHJhY2tpbmcoKTtcbiAgc3RhcnRCYXRjaCgpO1xuICBjb25zdCByZXMgPSB0b1JhdyhzZWxmKVttZXRob2RdLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbmRCYXRjaCgpO1xuICByZXNldFRyYWNraW5nKCk7XG4gIHJldHVybiByZXM7XG59XG5cbmNvbnN0IGlzTm9uVHJhY2thYmxlS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKGBfX3Byb3RvX18sX192X2lzUmVmLF9faXNWdWVgKTtcbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChcbiAgLyogQF9fUFVSRV9fICovIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbCkuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gXCJhcmd1bWVudHNcIiAmJiBrZXkgIT09IFwiY2FsbGVyXCIpLm1hcCgoa2V5KSA9PiBTeW1ib2xba2V5XSkuZmlsdGVyKGlzU3ltYm9sKVxuKTtcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KGtleSkge1xuICBpZiAoIWlzU3ltYm9sKGtleSkpIGtleSA9IFN0cmluZyhrZXkpO1xuICBjb25zdCBvYmogPSB0b1Jhdyh0aGlzKTtcbiAgdHJhY2sob2JqLCBcImhhc1wiLCBrZXkpO1xuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KGtleSk7XG59XG5jbGFzcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoX2lzUmVhZG9ubHkgPSBmYWxzZSwgX2lzU2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgdGhpcy5faXNSZWFkb25seSA9IF9pc1JlYWRvbmx5O1xuICAgIHRoaXMuX2lzU2hhbGxvdyA9IF9pc1NoYWxsb3c7XG4gIH1cbiAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikgcmV0dXJuIHRhcmdldFtcIl9fdl9za2lwXCJdO1xuICAgIGNvbnN0IGlzUmVhZG9ubHkyID0gdGhpcy5faXNSZWFkb25seSwgaXNTaGFsbG93MiA9IHRoaXMuX2lzU2hhbGxvdztcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1NoYWxsb3dcIikge1xuICAgICAgcmV0dXJuIGlzU2hhbGxvdzI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICBpZiAocmVjZWl2ZXIgPT09IChpc1JlYWRvbmx5MiA/IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhZG9ubHlNYXAgOiByZWFkb25seU1hcCA6IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhY3RpdmVNYXAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkgfHwgLy8gcmVjZWl2ZXIgaXMgbm90IHRoZSByZWFjdGl2ZSBwcm94eSwgYnV0IGhhcyB0aGUgc2FtZSBwcm90b3R5cGVcbiAgICAgIC8vIHRoaXMgbWVhbnMgdGhlIHJlY2VpdmVyIGlzIGEgdXNlciBwcm94eSBvZiB0aGUgcmVhY3RpdmUgcHJveHlcbiAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVjZWl2ZXIpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgaWYgKCFpc1JlYWRvbmx5Mikge1xuICAgICAgbGV0IGZuO1xuICAgICAgaWYgKHRhcmdldElzQXJyYXkgJiYgKGZuID0gYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwiaGFzT3duUHJvcGVydHlcIikge1xuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgLy8gaWYgdGhpcyBpcyBhIHByb3h5IHdyYXBwaW5nIGEgcmVmLCByZXR1cm4gbWV0aG9kcyB1c2luZyB0aGUgcmF3IHJlZlxuICAgICAgLy8gYXMgcmVjZWl2ZXIgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgYHRvUmF3YCBvbiB0aGUgcmVmIGluIGFsbFxuICAgICAgLy8gaXRzIGNsYXNzIG1ldGhvZHNcbiAgICAgIGlzUmVmKHRhcmdldCkgPyB0YXJnZXQgOiByZWNlaXZlclxuICAgICk7XG4gICAgaWYgKGlzU3ltYm9sKGtleSkgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KSA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1NoYWxsb3cyKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoaXNSZWYocmVzKSkge1xuICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoIXRoaXMuX2lzU2hhbGxvdykge1xuICAgICAgY29uc3QgaXNPbGRWYWx1ZVJlYWRvbmx5ID0gaXNSZWFkb25seShvbGRWYWx1ZSk7XG4gICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIGlmIChpc09sZFZhbHVlUmVhZG9ubHkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGggOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgdmFsdWUsXG4gICAgICBpc1JlZih0YXJnZXQpID8gdGFyZ2V0IDogcmVjZWl2ZXJcbiAgICApO1xuICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKFxuICAgICAgdGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0FycmF5KHRhcmdldCkgPyBcImxlbmd0aFwiIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxufVxuY2xhc3MgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoaXNTaGFsbG93MiA9IGZhbHNlKSB7XG4gICAgc3VwZXIodHJ1ZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seTIsIGlzU2hhbGxvdzIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcbiAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09IFwiZW50cmllc1wiIHx8IG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gXCJrZXlzXCIgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cyID8gdG9TaGFsbG93IDogaXNSZWFkb25seTIgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seTIgJiYgdHJhY2soXG4gICAgICByYXdUYXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXG4gICAgICBuZXh0KCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIGRvbmUgPyB7IHZhbHVlLCBkb25lIH0gOiB7XG4gICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXG4gICAgICAgICAgZG9uZVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXG4gICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FwaXRhbGl6ZSh0eXBlKX0gb3BlcmF0aW9uICR7a2V5fWZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRvUmF3KHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiA/IGZhbHNlIDogdHlwZSA9PT0gXCJjbGVhclwiID8gdm9pZCAwIDogdGhpcztcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMocmVhZG9ubHksIHNoYWxsb3cpIHtcbiAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCByYXdLZXkpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gICAgICBjb25zdCB3cmFwID0gc2hhbGxvdyA/IHRvU2hhbGxvdyA6IHJlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgIXJlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBcInNpemVcIiwgdGFyZ2V0KTtcbiAgICB9LFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIHJhd0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5ID09PSByYXdLZXkgPyB0YXJnZXQuaGFzKGtleSkgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xuICAgIH0sXG4gICAgZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY29uc3Qgb2JzZXJ2ZWQgPSB0aGlzO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHdyYXAgPSBzaGFsbG93ID8gdG9TaGFsbG93IDogcmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICFyZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBleHRlbmQoXG4gICAgaW5zdHJ1bWVudGF0aW9ucyxcbiAgICByZWFkb25seSA/IHtcbiAgICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiksXG4gICAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIpLFxuICAgICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIpXG4gICAgfSA6IHtcbiAgICAgIGFkZCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIHZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFzaGFsbG93ICYmICFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAoaGFkS2V5KSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XG4gICAgICAgIGNvbnN0IG9sZFRhcmdldCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBpc01hcCh0YXJnZXQpID8gbmV3IE1hcCh0YXJnZXQpIDogbmV3IFNldCh0YXJnZXQpIDogdm9pZCAwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcbiAgICAgICAgaWYgKGhhZEl0ZW1zKSB7XG4gICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIFwiY2xlYXJcIixcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcbiAgICBcImtleXNcIixcbiAgICBcInZhbHVlc1wiLFxuICAgIFwiZW50cmllc1wiLFxuICAgIFN5bWJvbC5pdGVyYXRvclxuICBdO1xuICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCByZWFkb25seSwgc2hhbGxvdyk7XG4gIH0pO1xuICByZXR1cm4gaW5zdHJ1bWVudGF0aW9ucztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5Miwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyhpc1JlYWRvbmx5Miwgc2hhbGxvdyk7XG4gIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmdldChcbiAgICAgIGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXQgPyBpbnN0cnVtZW50YXRpb25zIDogdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcbiAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICB3YXJuKFxuICAgICAgYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XG4gICAgY2FzZSBcIk1hcFwiOlxuICAgIGNhc2UgXCJTZXRcIjpcbiAgICBjYXNlIFwiV2Vha01hcFwiOlxuICAgIGNhc2UgXCJXZWFrU2V0XCI6XG4gICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCJdIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSA/IDAgLyogSU5WQUxJRCAqLyA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBtdXRhYmxlSGFuZGxlcnMsXG4gICAgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLFxuICAgIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHJlYWRvbmx5SGFuZGxlcnMsXG4gICAgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seTIsIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYHZhbHVlIGNhbm5vdCBiZSBtYWRlICR7aXNSZWFkb25seTIgPyBcInJlYWRvbmx5XCIgOiBcInJlYWN0aXZlXCJ9OiAke1N0cmluZyhcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCJdICYmICEoaXNSZWFkb25seTIgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIl0pKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcbiAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogSU5WQUxJRCAqLykge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoXG4gICAgdGFyZ2V0LFxuICAgIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVyc1xuICApO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCJdKTtcbiAgfVxuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCJdKTtcbn1cbmZ1bmN0aW9uIGlzU2hhbGxvdyh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCJdKTtcbn1cbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gISF2YWx1ZVtcIl9fdl9yYXdcIl0gOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgaWYgKCFoYXNPd24odmFsdWUsIFwiX192X3NraXBcIikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkpIHtcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcblxuZnVuY3Rpb24gaXNSZWYocikge1xuICByZXR1cm4gciA/IHJbXCJfX3ZfaXNSZWZcIl0gPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcbiAgICByZXR1cm4gcmF3VmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcbn1cbmNsYXNzIFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgaXNTaGFsbG93Mikge1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdID0gZmFsc2U7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgICB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSA9IGlzU2hhbGxvdzI7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLmRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlcC50cmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl9yYXdWYWx1ZTtcbiAgICBjb25zdCB1c2VEaXJlY3RWYWx1ZSA9IHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdIHx8IGlzU2hhbGxvdyhuZXdWYWx1ZSkgfHwgaXNSZWFkb25seShuZXdWYWx1ZSk7XG4gICAgbmV3VmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbHVlIDogdG9SYXcobmV3VmFsdWUpO1xuICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsdWUgOiB0b1JlYWN0aXZlKG5ld1ZhbHVlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRoaXMuZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYyKSB7XG4gIGlmIChyZWYyLmRlcCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICByZWYyLmRlcC50cmlnZ2VyKHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgbmV3VmFsdWU6IHJlZjIuX3ZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmMi5kZXAudHJpZ2dlcigpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdW5yZWYocmVmMikge1xuICByZXR1cm4gaXNSZWYocmVmMikgPyByZWYyLnZhbHVlIDogcmVmMjtcbn1cbmZ1bmN0aW9uIHRvVmFsdWUoc291cmNlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSkgPyBzb3VyY2UoKSA6IHVucmVmKHNvdXJjZSk7XG59XG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XG4gIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ga2V5ID09PSBcIl9fdl9yYXdcIiA/IHRhcmdldCA6IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcykgPyBvYmplY3RXaXRoUmVmcyA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gICAgY29uc3QgZGVwID0gdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeShkZXAudHJhY2suYmluZChkZXApLCBkZXAudHJpZ2dlci5iaW5kKGRlcCkpO1xuICAgIHRoaXMuX2dldCA9IGdldDtcbiAgICB0aGlzLl9zZXQgPSBzZXQ7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldCgpO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgd2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gIH1cbiAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIHJldFtrZXldID0gcHJvcGVydHlUb1JlZihvYmplY3QsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5LCBfZGVmYXVsdFZhbHVlKSB7XG4gICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICB0aGlzLl9rZXkgPSBfa2V5O1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IF9kZWZhdWx0VmFsdWU7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHZhbCA9PT0gdm9pZCAwID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogdmFsO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcbiAgfVxuICBnZXQgZGVwKCkge1xuICAgIHJldHVybiBnZXREZXBGcm9tUmVhY3RpdmUodG9SYXcodGhpcy5fb2JqZWN0KSwgdGhpcy5fa2V5KTtcbiAgfVxufVxuY2xhc3MgR2V0dGVyUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9nZXR0ZXIpIHtcbiAgICB0aGlzLl9nZXR0ZXIgPSBfZ2V0dGVyO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldHRlcigpO1xuICB9XG59XG5mdW5jdGlvbiB0b1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gbmV3IEdldHRlclJlZkltcGwoc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5VG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZihzb3VyY2UpO1xuICB9XG59XG5mdW5jdGlvbiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgY29uc3QgdmFsID0gc291cmNlW2tleV07XG4gIHJldHVybiBpc1JlZih2YWwpID8gdmFsIDogbmV3IE9iamVjdFJlZkltcGwoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG59XG5cbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGZuLCBzZXR0ZXIsIGlzU1NSKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuc2V0dGVyID0gc2V0dGVyO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9pc1JlYWRvbmx5XCJcbiAgICAvLyBBIGNvbXB1dGVkIGlzIGFsc28gYSBzdWJzY3JpYmVyIHRoYXQgdHJhY2tzIG90aGVyIGRlcHNcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMTY7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbiAtIDE7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgdGhpcy5lZmZlY3QgPSB0aGlzO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9ICFzZXR0ZXI7XG4gICAgdGhpcy5pc1NTUiA9IGlzU1NSO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICB0aGlzLmZsYWdzIHw9IDE2O1xuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSAmJiAvLyBhdm9pZCBpbmZpbml0ZSBzZWxmIHJlY3Vyc2lvblxuICAgIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgYmF0Y2godGhpcywgdHJ1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgY29uc3QgbGluayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB0aGlzLmRlcC50cmFjayh7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICB0eXBlOiBcImdldFwiLFxuICAgICAga2V5OiBcInZhbHVlXCJcbiAgICB9KSA6IHRoaXMuZGVwLnRyYWNrKCk7XG4gICAgcmVmcmVzaENvbXB1dGVkKHRoaXMpO1xuICAgIGlmIChsaW5rKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLmRlcC52ZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2V0dGVyKSB7XG4gICAgICB0aGlzLnNldHRlcihuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFwiV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHlcIik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgc2V0dGVyO1xuICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XG4gICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgfVxuICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNTU1IpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgY1JlZi5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgY1JlZi5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIHJldHVybiBjUmVmO1xufVxuXG5jb25zdCBUcmFja09wVHlwZXMgPSB7XG4gIFwiR0VUXCI6IFwiZ2V0XCIsXG4gIFwiSEFTXCI6IFwiaGFzXCIsXG4gIFwiSVRFUkFURVwiOiBcIml0ZXJhdGVcIlxufTtcbmNvbnN0IFRyaWdnZXJPcFR5cGVzID0ge1xuICBcIlNFVFwiOiBcInNldFwiLFxuICBcIkFERFwiOiBcImFkZFwiLFxuICBcIkRFTEVURVwiOiBcImRlbGV0ZVwiLFxuICBcIkNMRUFSXCI6IFwiY2xlYXJcIlxufTtcbmNvbnN0IFJlYWN0aXZlRmxhZ3MgPSB7XG4gIFwiU0tJUFwiOiBcIl9fdl9za2lwXCIsXG4gIFwiSVNfUkVBQ1RJVkVcIjogXCJfX3ZfaXNSZWFjdGl2ZVwiLFxuICBcIklTX1JFQURPTkxZXCI6IFwiX192X2lzUmVhZG9ubHlcIixcbiAgXCJJU19TSEFMTE9XXCI6IFwiX192X2lzU2hhbGxvd1wiLFxuICBcIlJBV1wiOiBcIl9fdl9yYXdcIixcbiAgXCJJU19SRUZcIjogXCJfX3ZfaXNSZWZcIlxufTtcblxuY29uc3QgV2F0Y2hFcnJvckNvZGVzID0ge1xuICBcIldBVENIX0dFVFRFUlwiOiAyLFxuICBcIjJcIjogXCJXQVRDSF9HRVRURVJcIixcbiAgXCJXQVRDSF9DQUxMQkFDS1wiOiAzLFxuICBcIjNcIjogXCJXQVRDSF9DQUxMQkFDS1wiLFxuICBcIldBVENIX0NMRUFOVVBcIjogNCxcbiAgXCI0XCI6IFwiV0FUQ0hfQ0xFQU5VUFwiXG59O1xuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG5jb25zdCBjbGVhbnVwTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5sZXQgYWN0aXZlV2F0Y2hlciA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldEN1cnJlbnRXYXRjaGVyKCkge1xuICByZXR1cm4gYWN0aXZlV2F0Y2hlcjtcbn1cbmZ1bmN0aW9uIG9uV2F0Y2hlckNsZWFudXAoY2xlYW51cEZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSwgb3duZXIgPSBhY3RpdmVXYXRjaGVyKSB7XG4gIGlmIChvd25lcikge1xuICAgIGxldCBjbGVhbnVwcyA9IGNsZWFudXBNYXAuZ2V0KG93bmVyKTtcbiAgICBpZiAoIWNsZWFudXBzKSBjbGVhbnVwTWFwLnNldChvd25lciwgY2xlYW51cHMgPSBbXSk7XG4gICAgY2xlYW51cHMucHVzaChjbGVhbnVwRm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25XYXRjaGVyQ2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIHdhdGNoZXIgdG8gYXNzb2NpYXRlIHdpdGguYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIG9uY2UsIHNjaGVkdWxlciwgYXVnbWVudEpvYiwgY2FsbCB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xuICAgIChvcHRpb25zLm9uV2FybiB8fCB3YXJuKShcbiAgICAgIGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCxcbiAgICAgIHMsXG4gICAgICBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmBcbiAgICApO1xuICB9O1xuICBjb25zdCByZWFjdGl2ZUdldHRlciA9IChzb3VyY2UyKSA9PiB7XG4gICAgaWYgKGRlZXApIHJldHVybiBzb3VyY2UyO1xuICAgIGlmIChpc1NoYWxsb3coc291cmNlMikgfHwgZGVlcCA9PT0gZmFsc2UgfHwgZGVlcCA9PT0gMClcbiAgICAgIHJldHVybiB0cmF2ZXJzZShzb3VyY2UyLCAxKTtcbiAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMik7XG4gIH07XG4gIGxldCBlZmZlY3Q7XG4gIGxldCBnZXR0ZXI7XG4gIGxldCBjbGVhbnVwO1xuICBsZXQgYm91bmRDbGVhbnVwO1xuICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHJlYWN0aXZlR2V0dGVyKHNvdXJjZSk7XG4gICAgZm9yY2VUcmlnZ2VyID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZSgocykgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAoKHMpID0+IHtcbiAgICAgIGlmIChpc1JlZihzKSkge1xuICAgICAgICByZXR1cm4gcy52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xuICAgICAgICByZXR1cm4gcmVhY3RpdmVHZXR0ZXIocyk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHMsIDIpIDogcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGdldHRlciA9IGNhbGwgPyAoKSA9PiBjYWxsKHNvdXJjZSwgMikgOiBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50RWZmZWN0ID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gY2FsbCA/IGNhbGwoc291cmNlLCAzLCBbYm91bmRDbGVhbnVwXSkgOiBzb3VyY2UoYm91bmRDbGVhbnVwKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZ2V0dGVyID0gTk9PUDtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XG4gIH1cbiAgaWYgKGNiICYmIGRlZXApIHtcbiAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgIGNvbnN0IGRlcHRoID0gZGVlcCA9PT0gdHJ1ZSA/IEluZmluaXR5IDogZGVlcDtcbiAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCksIGRlcHRoKTtcbiAgfVxuICBjb25zdCBzY29wZSA9IGdldEN1cnJlbnRTY29wZSgpO1xuICBjb25zdCB3YXRjaEhhbmRsZSA9ICgpID0+IHtcbiAgICBlZmZlY3Quc3RvcCgpO1xuICAgIGlmIChzY29wZSAmJiBzY29wZS5hY3RpdmUpIHtcbiAgICAgIHJlbW92ZShzY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgIH1cbiAgfTtcbiAgaWYgKG9uY2UgJiYgY2IpIHtcbiAgICBjb25zdCBfY2IgPSBjYjtcbiAgICBjYiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBfY2IoLi4uYXJncyk7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH07XG4gIH1cbiAgbGV0IG9sZFZhbHVlID0gaXNNdWx0aVNvdXJjZSA/IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKS5maWxsKElOSVRJQUxfV0FUQ0hFUl9WQUxVRSkgOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XG4gIGNvbnN0IGpvYiA9IChpbW1lZGlhdGVGaXJzdFJ1bikgPT4ge1xuICAgIGlmICghKGVmZmVjdC5mbGFncyAmIDEpIHx8ICFlZmZlY3QuZGlydHkgJiYgIWltbWVkaWF0ZUZpcnN0UnVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgKGlzTXVsdGlTb3VyY2UgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSkgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpKSB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRXYXRjaGVyID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHZvaWQgMCA6IGlzTXVsdGlTb3VyY2UgJiYgb2xkVmFsdWVbMF0gPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IFtdIDogb2xkVmFsdWUsXG4gICAgICAgICAgICBib3VuZENsZWFudXBcbiAgICAgICAgICBdO1xuICAgICAgICAgIGNhbGwgPyBjYWxsKGNiLCAzLCBhcmdzKSA6IChcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGNiKC4uLmFyZ3MpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBjdXJyZW50V2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9O1xuICBpZiAoYXVnbWVudEpvYikge1xuICAgIGF1Z21lbnRKb2Ioam9iKTtcbiAgfVxuICBlZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyKTtcbiAgZWZmZWN0LnNjaGVkdWxlciA9IHNjaGVkdWxlciA/ICgpID0+IHNjaGVkdWxlcihqb2IsIGZhbHNlKSA6IGpvYjtcbiAgYm91bmRDbGVhbnVwID0gKGZuKSA9PiBvbldhdGNoZXJDbGVhbnVwKGZuLCBmYWxzZSwgZWZmZWN0KTtcbiAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChlZmZlY3QpO1xuICAgIGlmIChjbGVhbnVwcykge1xuICAgICAgaWYgKGNhbGwpIHtcbiAgICAgICAgY2FsbChjbGVhbnVwcywgNCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGNsZWFudXAyIG9mIGNsZWFudXBzKSBjbGVhbnVwMigpO1xuICAgICAgfVxuICAgICAgY2xlYW51cE1hcC5kZWxldGUoZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZWZmZWN0Lm9uVHJhY2sgPSBvcHRpb25zLm9uVHJhY2s7XG4gICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIGlmIChjYikge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGpvYih0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNjaGVkdWxlcikge1xuICAgIHNjaGVkdWxlcihqb2IuYmluZChudWxsLCB0cnVlKSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LnJ1bigpO1xuICB9XG4gIHdhdGNoSGFuZGxlLnBhdXNlID0gZWZmZWN0LnBhdXNlLmJpbmQoZWZmZWN0KTtcbiAgd2F0Y2hIYW5kbGUucmVzdW1lID0gZWZmZWN0LnJlc3VtZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnN0b3AgPSB3YXRjaEhhbmRsZTtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlO1xufVxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIGRlcHRoID0gSW5maW5pdHksIHNlZW4pIHtcbiAgaWYgKGRlcHRoIDw9IDAgfHwgIWlzT2JqZWN0KHZhbHVlKSB8fCB2YWx1ZVtcIl9fdl9za2lwXCJdKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgc2Vlbi5hZGQodmFsdWUpO1xuICBkZXB0aC0tO1xuICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIGRlcHRoLCBzZWVuKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBkZXB0aCwgc2Vlbik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBkZXB0aCwgc2Vlbik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgc2Vlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgQVJSQVlfSVRFUkFURV9LRVksIEVmZmVjdEZsYWdzLCBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIE1BUF9LRVlfSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBXYXRjaEVycm9yQ29kZXMsIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGVuYWJsZVRyYWNraW5nLCBnZXRDdXJyZW50U2NvcGUsIGdldEN1cnJlbnRXYXRjaGVyLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvbkVmZmVjdENsZWFudXAsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFjdGl2ZVJlYWRBcnJheSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZEFycmF5LCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlYWN0aXZlLCB0b1JlYWRvbmx5LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmFjaywgdHJhdmVyc2UsIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmLCB3YXRjaCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1jb3JlIHYzLjUuMTNcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1JhdywgdHJhdmVyc2UsIHNoYWxsb3dSZWYsIHJlYWRvbmx5LCBpc1JlYWN0aXZlLCByZWYsIGlzU2hhbGxvdywgc2hhbGxvd1JlYWRBcnJheSwgdG9SZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcmVhY3RpdmUsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgUmVhY3RpdmVFZmZlY3QsIHdhdGNoIGFzIHdhdGNoJDEsIGN1c3RvbVJlZiwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBFZmZlY3RTY29wZSwgUmVhY3RpdmVFZmZlY3QsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudFNjb3BlLCBnZXRDdXJyZW50V2F0Y2hlciwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIG9uV2F0Y2hlckNsZWFudXAsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGlzUHJvbWlzZSwgaXNBcnJheSwgRU1QVFlfT0JKLCBOT09QLCBnZXRHbG9iYWxUaGlzLCBleHRlbmQsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgaGFzT3duLCByZW1vdmUsIGRlZiwgaXNPbiwgaXNSZXNlcnZlZFByb3AsIG5vcm1hbGl6ZUNsYXNzLCBzdHJpbmdpZnlTdHlsZSwgbm9ybWFsaXplU3R5bGUsIGlzS25vd25TdmdBdHRyLCBpc0Jvb2xlYW5BdHRyLCBpc0tub3duSHRtbEF0dHIsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBnZXRFc2NhcGVkQ3NzVmFyTmFtZSwgaXNPYmplY3QsIGlzUmVnRXhwLCBpbnZva2VBcnJheUZucywgdG9IYW5kbGVyS2V5LCBjYXBpdGFsaXplLCBjYW1lbGl6ZSwgaXNTeW1ib2wsIGlzR2xvYmFsbHlBbGxvd2VkLCBOTywgaHlwaGVuYXRlLCBFTVBUWV9BUlIsIHRvUmF3VHlwZSwgbWFrZU1hcCwgaGFzQ2hhbmdlZCwgbG9vc2VUb051bWJlciwgaXNNb2RlbExpc3RlbmVyLCB0b051bWJlciB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplUHJvcHMsIG5vcm1hbGl6ZVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xuICBzdGFjay5wdXNoKHZub2RlKTtcbn1cbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xuICBzdGFjay5wb3AoKTtcbn1cbmxldCBpc1dhcm5pbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIHdhcm4kMShtc2csIC4uLmFyZ3MpIHtcbiAgaWYgKGlzV2FybmluZykgcmV0dXJuO1xuICBpc1dhcm5pbmcgPSB0cnVlO1xuICBwYXVzZVRyYWNraW5nKCk7XG4gIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcbiAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xuICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBhcHBXYXJuSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMTEsXG4gICAgICBbXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBtc2cgKyBhcmdzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IGEudG9TdHJpbmcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGEpKSAhPSBudWxsID8gX2IgOiBKU09OLnN0cmluZ2lmeShhKTtcbiAgICAgICAgfSkuam9pbihcIlwiKSxcbiAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXG4gICAgICAgIHRyYWNlLm1hcChcbiAgICAgICAgICAoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmBcbiAgICAgICAgKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICB0cmFjZVxuICAgICAgXVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xuICAgIGlmICh0cmFjZS5sZW5ndGggJiYgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcbiAgICB0cnVlKSB7XG4gICAgICB3YXJuQXJncy5wdXNoKGBcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XG4gIH1cbiAgcmVzZXRUcmFja2luZygpO1xuICBpc1dhcm5pbmcgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xuICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gIGlmICghY3VycmVudFZOb2RlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xuICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XG4gICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcbiAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgcmVjdXJzZUNvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xuICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xuICBjb25zdCBsb2dzID0gW107XG4gIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XG4gICAgbG9ncy5wdXNoKC4uLmkgPT09IDAgPyBbXSA6IFtgXG5gXSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICB9KTtcbiAgcmV0dXJuIGxvZ3M7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XG4gIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xuICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgIHZub2RlLmNvbXBvbmVudCxcbiAgICB2bm9kZS50eXBlLFxuICAgIGlzUm9vdFxuICApfWA7XG4gIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcbiAgcmV0dXJuIHZub2RlLnByb3BzID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdIDogW29wZW4gKyBjbG9zZV07XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xuICBjb25zdCByZXMgPSBbXTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICB9KTtcbiAgaWYgKGtleXMubGVuZ3RoID4gMykge1xuICAgIHJlcy5wdXNoKGAgLi4uYCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlcih2YWwsIHR5cGUpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSByZXR1cm47XG4gIGlmICh2YWwgPT09IHZvaWQgMCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgTmFOIC0gdGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LmApO1xuICB9XG59XG5cbmNvbnN0IEVycm9yQ29kZXMgPSB7XG4gIFwiU0VUVVBfRlVOQ1RJT05cIjogMCxcbiAgXCIwXCI6IFwiU0VUVVBfRlVOQ1RJT05cIixcbiAgXCJSRU5ERVJfRlVOQ1RJT05cIjogMSxcbiAgXCIxXCI6IFwiUkVOREVSX0ZVTkNUSU9OXCIsXG4gIFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIjogNSxcbiAgXCI1XCI6IFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiLFxuICBcIlZOT0RFX0hPT0tcIjogNyxcbiAgXCI3XCI6IFwiVk5PREVfSE9PS1wiLFxuICBcIkRJUkVDVElWRV9IT09LXCI6IDgsXG4gIFwiOFwiOiBcIkRJUkVDVElWRV9IT09LXCIsXG4gIFwiVFJBTlNJVElPTl9IT09LXCI6IDksXG4gIFwiOVwiOiBcIlRSQU5TSVRJT05fSE9PS1wiLFxuICBcIkFQUF9FUlJPUl9IQU5ETEVSXCI6IDEwLFxuICBcIjEwXCI6IFwiQVBQX0VSUk9SX0hBTkRMRVJcIixcbiAgXCJBUFBfV0FSTl9IQU5ETEVSXCI6IDExLFxuICBcIjExXCI6IFwiQVBQX1dBUk5fSEFORExFUlwiLFxuICBcIkZVTkNUSU9OX1JFRlwiOiAxMixcbiAgXCIxMlwiOiBcIkZVTkNUSU9OX1JFRlwiLFxuICBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIjogMTMsXG4gIFwiMTNcIjogXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCIsXG4gIFwiU0NIRURVTEVSXCI6IDE0LFxuICBcIjE0XCI6IFwiU0NIRURVTEVSXCIsXG4gIFwiQ09NUE9ORU5UX1VQREFURVwiOiAxNSxcbiAgXCIxNVwiOiBcIkNPTVBPTkVOVF9VUERBVEVcIixcbiAgXCJBUFBfVU5NT1VOVF9DTEVBTlVQXCI6IDE2LFxuICBcIjE2XCI6IFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiXG59O1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyQxID0ge1xuICBbXCJzcFwiXTogXCJzZXJ2ZXJQcmVmZXRjaCBob29rXCIsXG4gIFtcImJjXCJdOiBcImJlZm9yZUNyZWF0ZSBob29rXCIsXG4gIFtcImNcIl06IFwiY3JlYXRlZCBob29rXCIsXG4gIFtcImJtXCJdOiBcImJlZm9yZU1vdW50IGhvb2tcIixcbiAgW1wibVwiXTogXCJtb3VudGVkIGhvb2tcIixcbiAgW1wiYnVcIl06IFwiYmVmb3JlVXBkYXRlIGhvb2tcIixcbiAgW1widVwiXTogXCJ1cGRhdGVkXCIsXG4gIFtcImJ1bVwiXTogXCJiZWZvcmVVbm1vdW50IGhvb2tcIixcbiAgW1widW1cIl06IFwidW5tb3VudGVkIGhvb2tcIixcbiAgW1wiYVwiXTogXCJhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJkYVwiXTogXCJkZWFjdGl2YXRlZCBob29rXCIsXG4gIFtcImVjXCJdOiBcImVycm9yQ2FwdHVyZWQgaG9va1wiLFxuICBbXCJydGNcIl06IFwicmVuZGVyVHJhY2tlZCBob29rXCIsXG4gIFtcInJ0Z1wiXTogXCJyZW5kZXJUcmlnZ2VyZWQgaG9va1wiLFxuICBbMF06IFwic2V0dXAgZnVuY3Rpb25cIixcbiAgWzFdOiBcInJlbmRlciBmdW5jdGlvblwiLFxuICBbMl06IFwid2F0Y2hlciBnZXR0ZXJcIixcbiAgWzNdOiBcIndhdGNoZXIgY2FsbGJhY2tcIixcbiAgWzRdOiBcIndhdGNoZXIgY2xlYW51cCBmdW5jdGlvblwiLFxuICBbNV06IFwibmF0aXZlIGV2ZW50IGhhbmRsZXJcIixcbiAgWzZdOiBcImNvbXBvbmVudCBldmVudCBoYW5kbGVyXCIsXG4gIFs3XTogXCJ2bm9kZSBob29rXCIsXG4gIFs4XTogXCJkaXJlY3RpdmUgaG9va1wiLFxuICBbOV06IFwidHJhbnNpdGlvbiBob29rXCIsXG4gIFsxMF06IFwiYXBwIGVycm9ySGFuZGxlclwiLFxuICBbMTFdOiBcImFwcCB3YXJuSGFuZGxlclwiLFxuICBbMTJdOiBcInJlZiBmdW5jdGlvblwiLFxuICBbMTNdOiBcImFzeW5jIGNvbXBvbmVudCBsb2FkZXJcIixcbiAgWzE0XTogXCJzY2hlZHVsZXIgZmx1c2hcIixcbiAgWzE1XTogXCJjb21wb25lbnQgdXBkYXRlXCIsXG4gIFsxNl06IFwiYXBwIHVubW91bnQgY2xlYW51cCBmdW5jdGlvblwiXG59O1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcbiAgICAgIHJlcy5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBJbnZhbGlkIHZhbHVlIHR5cGUgcGFzc2VkIHRvIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKCk6ICR7dHlwZW9mIGZufWBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcbiAgY29uc3QgeyBlcnJvckhhbmRsZXIsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24gfSA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnIHx8IEVNUFRZX09CSjtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcbiAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBlcnJvckluZm8gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdIDogYGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jcnVudGltZS0ke3R5cGV9YDtcbiAgICB3aGlsZSAoY3VyKSB7XG4gICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgfVxuICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhlcnJvckhhbmRsZXIsIG51bGwsIDEwLCBbXG4gICAgICAgIGVycixcbiAgICAgICAgZXhwb3NlZEluc3RhbmNlLFxuICAgICAgICBlcnJvckluZm9cbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiwgdGhyb3dVbmhhbmRsZWRFcnJvckluUHJvZHVjdGlvbik7XG59XG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUsIHRocm93SW5Qcm9kID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xuICAgIH1cbiAgICB3YXJuJDEoYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgfVxuICAgIGlmICh0aHJvd0luRGV2KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhyb3dJblByb2QpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlID0gW107XG5sZXQgZmx1c2hJbmRleCA9IC0xO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xufVxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGlkKSB7XG4gIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICBjb25zdCBtaWRkbGUgPSBzdGFydCArIGVuZCA+Pj4gMTtcbiAgICBjb25zdCBtaWRkbGVKb2IgPSBxdWV1ZVttaWRkbGVdO1xuICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQobWlkZGxlSm9iKTtcbiAgICBpZiAobWlkZGxlSm9iSWQgPCBpZCB8fCBtaWRkbGVKb2JJZCA9PT0gaWQgJiYgbWlkZGxlSm9iLmZsYWdzICYgMikge1xuICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQgPSBtaWRkbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xuICBpZiAoIShqb2IuZmxhZ3MgJiAxKSkge1xuICAgIGNvbnN0IGpvYklkID0gZ2V0SWQoam9iKTtcbiAgICBjb25zdCBsYXN0Sm9iID0gcXVldWVbcXVldWUubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFsYXN0Sm9iIHx8IC8vIGZhc3QgcGF0aCB3aGVuIHRoZSBqb2IgaWQgaXMgbGFyZ2VyIHRoYW4gdGhlIHRhaWxcbiAgICAhKGpvYi5mbGFncyAmIDIpICYmIGpvYklkID49IGdldElkKGxhc3RKb2IpKSB7XG4gICAgICBxdWV1ZS5wdXNoKGpvYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iSWQpLCAwLCBqb2IpO1xuICAgIH1cbiAgICBqb2IuZmxhZ3MgfD0gMTtcbiAgICBxdWV1ZUZsdXNoKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlRmx1c2goKSB7XG4gIGlmICghY3VycmVudEZsdXNoUHJvbWlzZSkge1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gIGlmICghaXNBcnJheShjYikpIHtcbiAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzICYmIGNiLmlkID09PSAtMSkge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNwbGljZShwb3N0Rmx1c2hJbmRleCArIDEsIDAsIGNiKTtcbiAgICB9IGVsc2UgaWYgKCEoY2IuZmxhZ3MgJiAxKSkge1xuICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICAgIGNiLmZsYWdzIHw9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gIH1cbiAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSwgc2VlbiwgaSA9IGZsdXNoSW5kZXggKyAxKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2IgPSBxdWV1ZVtpXTtcbiAgICBpZiAoY2IgJiYgY2IuZmxhZ3MgJiAyKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgY2IuaWQgIT09IGluc3RhbmNlLnVpZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICBpLS07XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgICAgY2IoKTtcbiAgICAgIGlmICghKGNiLmZsYWdzICYgNCkpIHtcbiAgICAgICAgY2IuZmxhZ3MgJj0gfjE7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpXG4gICAgKTtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGNiID0gYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgICAgaWYgKCEoY2IuZmxhZ3MgJiA4KSkgY2IoKTtcbiAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcbiAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IGpvYi5mbGFncyAmIDIgPyAtMSA6IEluZmluaXR5IDogam9iLmlkO1xuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGNvbnN0IGNoZWNrID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IChqb2IpID0+IGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpIDogTk9PUDtcbiAgdHJ5IHtcbiAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgaWYgKGpvYiAmJiAhKGpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoam9iLmZsYWdzICYgNCkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICAgICAgam9iLFxuICAgICAgICAgIGpvYi5pLFxuICAgICAgICAgIGpvYi5pID8gMTUgOiAxNFxuICAgICAgICApO1xuICAgICAgICBpZiAoIShqb2IuZmxhZ3MgJiA0KSkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBmb3IgKDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IpIHtcbiAgICAgICAgam9iLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgIH1cbiAgICBmbHVzaEluZGV4ID0gLTE7XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICBmbHVzaEpvYnMoc2Vlbik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcbiAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbikgfHwgMDtcbiAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBmbi5pO1xuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgIGhhbmRsZUVycm9yKFxuICAgICAgYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQke2NvbXBvbmVudE5hbWUgPyBgIGluIGNvbXBvbmVudCA8JHtjb21wb25lbnROYW1lfT5gIDogYGB9LiBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmAsXG4gICAgICBudWxsLFxuICAgICAgMTBcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0hNUl9SVU5USU1FX18gPSB7XG4gICAgY3JlYXRlUmVjb3JkOiB0cnlXcmFwKGNyZWF0ZVJlY29yZCksXG4gICAgcmVyZW5kZXI6IHRyeVdyYXAocmVyZW5kZXIpLFxuICAgIHJlbG9hZDogdHJ5V3JhcChyZWxvYWQpXG4gIH07XG59XG5jb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XG4gIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICBjcmVhdGVSZWNvcmQoaWQsIGluc3RhbmNlLnR5cGUpO1xuICAgIHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICB9XG4gIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBpbml0aWFsRGVmKSB7XG4gIGlmIChtYXAuaGFzKGlkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBtYXAuc2V0KGlkLCB7XG4gICAgaW5pdGlhbERlZjogbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5pdGlhbERlZiksXG4gICAgaW5zdGFuY2VzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gIH0pO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlY29yZC5pbml0aWFsRGVmLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goKGluc3RhbmNlKSA9PiB7XG4gICAgaWYgKG5ld1JlbmRlcikge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xuICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBsZXQgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG9sZENvbXApO1xuICAgIGlmICghZGlydHlJbnN0YW5jZXMpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuc2V0KG9sZENvbXAsIGRpcnR5SW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBxdWV1ZUpvYigoKSA9PiB7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgZGlydHlJbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uucm9vdC5jZSAmJiBpbnN0YW5jZSAhPT0gaW5zdGFuY2Uucm9vdCkge1xuICAgICAgaW5zdGFuY2Uucm9vdC5jZS5fcmVtb3ZlQ2hpbGRTdHlsZShvbGRDb21wKTtcbiAgICB9XG4gIH1cbiAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XG4gICAgaG1yRGlydHlDb21wb25lbnRzLmNsZWFyKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgZXh0ZW5kKG9sZENvbXAsIG5ld0NvbXApO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgaWYgKGtleSAhPT0gXCJfX2ZpbGVcIiAmJiAhKGtleSBpbiBuZXdDb21wKSkge1xuICAgICAgZGVsZXRlIG9sZENvbXBba2V5XTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcbiAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5cbmxldCBkZXZ0b29scyQxO1xubGV0IGJ1ZmZlciA9IFtdO1xubGV0IGRldnRvb2xzTm90SW5zdGFsbGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbWl0JDEoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgIGJ1ZmZlci5wdXNoKHsgZXZlbnQsIGFyZ3MgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayQxKGhvb2ssIHRhcmdldCkge1xuICB2YXIgX2EsIF9iO1xuICBkZXZ0b29scyQxID0gaG9vaztcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVuYWJsZWQgPSB0cnVlO1xuICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzJDEuZW1pdChldmVudCwgLi4uYXJncykpO1xuICAgIGJ1ZmZlciA9IFtdO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvLyBzb21lIGVudnMgbW9jayB3aW5kb3cgYnV0IG5vdCBmdWxseVxuICAgIHdpbmRvdy5IVE1MRWxlbWVudCAmJiAvLyBhbHNvIGV4Y2x1ZGUganNkb21cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImpzZG9tXCIpKVxuICApIHtcbiAgICBjb25zdCByZXBsYXkgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdO1xuICAgIHJlcGxheS5wdXNoKChuZXdIb29rKSA9PiB7XG4gICAgICBzZXREZXZ0b29sc0hvb2skMShuZXdIb29rLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFkZXZ0b29scyQxKSB7XG4gICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gbnVsbDtcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgIH1cbiAgICB9LCAzZTMpO1xuICB9IGVsc2Uge1xuICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xuICBlbWl0JDEoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcbiAgICBGcmFnbWVudCxcbiAgICBUZXh0LFxuICAgIENvbW1lbnQsXG4gICAgU3RhdGljXG4gIH0pO1xufVxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xuICBlbWl0JDEoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xuY29uc3QgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXG4gIFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IChjb21wb25lbnQpID0+IHtcbiAgaWYgKGRldnRvb2xzJDEgJiYgdHlwZW9mIGRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIC8vIHJlbW92ZSB0aGUgY29tcG9uZW50IGlmIGl0IHdhc24ndCBidWZmZXJlZFxuICAhZGV2dG9vbHMkMS5jbGVhbnVwQnVmZmVyKGNvbXBvbmVudCkpIHtcbiAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gIH1cbn07XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xuICAgIGVtaXQkMShcbiAgICAgIGhvb2ssXG4gICAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgICBjb21wb25lbnQudWlkLFxuICAgICAgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdm9pZCAwLFxuICAgICAgY29tcG9uZW50XG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IGRldnRvb2xzUGVyZlN0YXJ0ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovKTtcbmNvbnN0IGRldnRvb2xzUGVyZkVuZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovKTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcbiAgICBlbWl0JDEoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQsIHR5cGUsIHRpbWUpO1xuICB9O1xufVxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xuICBlbWl0JDEoXG4gICAgXCJjb21wb25lbnQ6ZW1pdFwiIC8qIENPTVBPTkVOVF9FTUlUICovLFxuICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICBjb21wb25lbnQsXG4gICAgZXZlbnQsXG4gICAgcGFyYW1zXG4gICk7XG59XG5cbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xubGV0IGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgY3VycmVudFNjb3BlSWQgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCB8fCBudWxsO1xuICByZXR1cm4gcHJldjtcbn1cbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gaWQ7XG59XG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xuICBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG59XG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XG5mdW5jdGlvbiB3aXRoQ3R4KGZuLCBjdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIGlzTm9uU2NvcGVkU2xvdCkge1xuICBpZiAoIWN0eCkgcmV0dXJuIGZuO1xuICBpZiAoZm4uX24pIHtcbiAgICByZXR1cm4gZm47XG4gIH1cbiAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgIHNldEJsb2NrVHJhY2tpbmcoLTEpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBmbiguLi5hcmdzKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XG4gICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICBzZXRCbG9ja1RyYWNraW5nKDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChjdHgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9uID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2QgPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xuICAgIHdhcm4kMShcIkRvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiBcIiArIG5hbWUpO1xuICB9XG59XG5mdW5jdGlvbiB3aXRoRGlyZWN0aXZlcyh2bm9kZSwgZGlyZWN0aXZlcykge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID09PSBudWxsKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYHdpdGhEaXJlY3RpdmVzIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHJlbmRlciBmdW5jdGlvbnMuYCk7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKTtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzIHx8ICh2bm9kZS5kaXJzID0gW10pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgaWYgKGRpcikge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xuICAgICAgICBkaXIgPSB7XG4gICAgICAgICAgbW91bnRlZDogZGlyLFxuICAgICAgICAgIHVwZGF0ZWQ6IGRpclxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGRpci5kZWVwKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGJpbmRpbmdzLnB1c2goe1xuICAgICAgICBkaXIsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb2xkVmFsdWU6IHZvaWQgMCxcbiAgICAgICAgYXJnLFxuICAgICAgICBtb2RpZmllcnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBwcmV2Vk5vZGUsIGluc3RhbmNlLCBuYW1lKSB7XG4gIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcbiAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgaWYgKG9sZEJpbmRpbmdzKSB7XG4gICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XG4gICAgfVxuICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XG4gICAgaWYgKGhvb2spIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA4LCBbXG4gICAgICAgIHZub2RlLmVsLFxuICAgICAgICBiaW5kaW5nLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgcHJldlZOb2RlXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgVGVsZXBvcnRFbmRLZXkgPSBTeW1ib2woXCJfdnRlXCIpO1xuY29uc3QgaXNUZWxlcG9ydCA9ICh0eXBlKSA9PiB0eXBlLl9faXNUZWxlcG9ydDtcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSBcIlwiKTtcbmNvbnN0IGlzVGVsZXBvcnREZWZlcnJlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRlZmVyIHx8IHByb3BzLmRlZmVyID09PSBcIlwiKTtcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbmNvbnN0IGlzVGFyZ2V0TWF0aE1MID0gKHRhcmdldCkgPT4gdHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50O1xuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChwcm9wcywgc2VsZWN0KSA9PiB7XG4gIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XG4gIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcbiAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHNlbGVjdCh0YXJnZXRTZWxlY3Rvcik7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdGFyZ2V0ICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXRTZWxlY3RvciAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIFRlbGVwb3J0IHRhcmdldDogJHt0YXJnZXRTZWxlY3Rvcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xuICB9XG59O1xuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xuICBuYW1lOiBcIlRlbGVwb3J0XCIsXG4gIF9faXNUZWxlcG9ydDogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgICBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9XG4gICAgfSA9IGludGVybmFscztcbiAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XG4gICAgbGV0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuIH0gPSBuMjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlciA9IG4yLmVsID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBzdGFydFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBlbmRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBpbnNlcnQobWFpbkFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgY29uc3QgbW91bnQgPSAoY29udGFpbmVyMiwgYW5jaG9yMikgPT4ge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5pc0NFKSB7XG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY2UuX3RlbGVwb3J0VGFyZ2V0ID0gY29udGFpbmVyMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBtb3VudFRvVGFyZ2V0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gcHJlcGFyZUFuY2hvcih0YXJnZXQsIG4yLCBjcmVhdGVUZXh0LCBpbnNlcnQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSAhPT0gXCJzdmdcIiAmJiBpc1RhcmdldFNWRyh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlICE9PSBcIm1hdGhtbFwiICYmIGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBcIkludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OlwiLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XG4gICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVGVsZXBvcnREZWZlcnJlZChuMi5wcm9wcykpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBtb3VudFRvVGFyZ2V0KCk7XG4gICAgICAgICAgbjIuZWwuX19pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3VudFRvVGFyZ2V0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpICYmICFuMS5lbC5fX2lzTW91bnRlZCkge1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIFRlbGVwb3J0SW1wbC5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkZWxldGUgbjEuZWwuX19pc01vdW50ZWQ7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLnRhcmdldFN0YXJ0ID0gbjEudGFyZ2V0U3RhcnQ7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gbjEudGFyZ2V0O1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yO1xuICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgfVxuICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGN1cnJlbnRDb250YWluZXIsXG4gICAgICAgICAgY3VycmVudEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG1haW5BbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobjIucHJvcHMgJiYgbjEucHJvcHMgJiYgbjIucHJvcHMudG8gIT09IG4xLnByb3BzLnRvKSB7XG4gICAgICAgICAgICBuMi5wcm9wcy50byA9IG4xLnByb3BzLnRvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICAgICAgICAgIG4yLnByb3BzLFxuICAgICAgICAgICAgcXVlcnlTZWxlY3RvclxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcbiAgICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICAgIG5leHRUYXJnZXQsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6XCIsXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICB0YXJnZXRBbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlQ3NzVmFycyhuMiwgZGlzYWJsZWQpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2hhcGVGbGFnLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBhbmNob3IsXG4gICAgICB0YXJnZXRTdGFydCxcbiAgICAgIHRhcmdldEFuY2hvcixcbiAgICAgIHRhcmdldCxcbiAgICAgIHByb3BzXG4gICAgfSA9IHZub2RlO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0U3RhcnQpO1xuICAgICAgaG9zdFJlbW92ZSh0YXJnZXRBbmNob3IpO1xuICAgIH1cbiAgICBkb1JlbW92ZSAmJiBob3N0UmVtb3ZlKGFuY2hvcik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBjb25zdCBzaG91bGRSZW1vdmUgPSBkb1JlbW92ZSB8fCAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2hvdWxkUmVtb3ZlLFxuICAgICAgICAgICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXG4gIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxufTtcbmZ1bmN0aW9uIG1vdmVUZWxlcG9ydCh2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHsgbzogeyBpbnNlcnQgfSwgbTogbW92ZSB9LCBtb3ZlVHlwZSA9IDIpIHtcbiAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xuICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMjtcbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChlbCwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGlmICghaXNSZW9yZGVyIHx8IGlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShcbiAgICAgICAgICBjaGlsZHJlbltpXSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50QW5jaG9yLFxuICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwge1xuICBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yLCBpbnNlcnQsIGNyZWF0ZVRleHQgfVxufSwgaHlkcmF0ZUNoaWxkcmVuKSB7XG4gIGNvbnN0IHRhcmdldCA9IHZub2RlLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgdm5vZGUucHJvcHMsXG4gICAgcXVlcnlTZWxlY3RvclxuICApO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpO1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Tm9kZShub2RlKSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldE5vZGU7XG4gICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGUgJiYgbmV4dFNpYmxpbmcodGFyZ2V0Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgbGV0IHRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgIHdoaWxlICh0YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0QW5jaG9yICYmIHRhcmdldEFuY2hvci5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldEFuY2hvci5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0IGFuY2hvclwiKSB7XG4gICAgICAgICAgICAgIHZub2RlLnRhcmdldFN0YXJ0ID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICAgIHRhcmdldC5fbHBhID0gdm5vZGUudGFyZ2V0QW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXRBbmNob3IgPSBuZXh0U2libGluZyh0YXJnZXRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdm5vZGUudGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgcHJlcGFyZUFuY2hvcih0YXJnZXQsIHZub2RlLCBjcmVhdGVUZXh0LCBpbnNlcnQpO1xuICAgICAgICB9XG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgICAgICB0YXJnZXROb2RlICYmIG5leHRTaWJsaW5nKHRhcmdldE5vZGUpLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVDc3NWYXJzKHZub2RlLCBkaXNhYmxlZCk7XG4gIH1cbiAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xufVxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5mdW5jdGlvbiB1cGRhdGVDc3NWYXJzKHZub2RlLCBpc0Rpc2FibGVkKSB7XG4gIGNvbnN0IGN0eCA9IHZub2RlLmN0eDtcbiAgaWYgKGN0eCAmJiBjdHgudXQpIHtcbiAgICBsZXQgbm9kZSwgYW5jaG9yO1xuICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICBub2RlID0gdm5vZGUuZWw7XG4gICAgICBhbmNob3IgPSB2bm9kZS5hbmNob3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUgPSB2bm9kZS50YXJnZXRTdGFydDtcbiAgICAgIGFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvcjtcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gYW5jaG9yKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXYtb3duZXJcIiwgY3R4LnVpZCk7XG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgY3R4LnV0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KSB7XG4gIGNvbnN0IHRhcmdldFN0YXJ0ID0gdm5vZGUudGFyZ2V0U3RhcnQgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICBjb25zdCB0YXJnZXRBbmNob3IgPSB2bm9kZS50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICB0YXJnZXRTdGFydFtUZWxlcG9ydEVuZEtleV0gPSB0YXJnZXRBbmNob3I7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBpbnNlcnQodGFyZ2V0U3RhcnQsIHRhcmdldCk7XG4gICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0QW5jaG9yO1xufVxuXG5jb25zdCBsZWF2ZUNiS2V5ID0gU3ltYm9sKFwiX2xlYXZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNMZWF2aW5nOiBmYWxzZSxcbiAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxuICAgIGxlYXZpbmdWTm9kZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xuICB9KTtcbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBtb2RlOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAvLyBlbnRlclxuICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBsZWF2ZVxuICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBhcHBlYXJcbiAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3Jcbn07XG5jb25zdCByZWN1cnNpdmVHZXRTdWJ0cmVlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICByZXR1cm4gc3ViVHJlZS5jb21wb25lbnQgPyByZWN1cnNpdmVHZXRTdWJ0cmVlKHN1YlRyZWUuY29tcG9uZW50KSA6IHN1YlRyZWU7XG59O1xuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xuICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxuICBwcm9wczogQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcbiAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZCA9IGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pO1xuICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbW9kZSAmJiBtb2RlICE9PSBcImluLW91dFwiICYmIG1vZGUgIT09IFwib3V0LWluXCIgJiYgbW9kZSAhPT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgd2FybiQxKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRJbm5lckNoaWxkJDEoY2hpbGQpO1xuICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGxldCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgaW5uZXJDaGlsZCxcbiAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgLy8gIzExMDYxLCBlbnN1cmUgZW50ZXJIb29rcyBpcyBmcmVzaCBhZnRlciBjbG9uZVxuICAgICAgICAoaG9va3MpID0+IGVudGVySG9va3MgPSBob29rc1xuICAgICAgKTtcbiAgICAgIGlmIChpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xuICAgICAgfVxuICAgICAgbGV0IG9sZElubmVyQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlICYmIGdldElubmVyQ2hpbGQkMShpbnN0YW5jZS5zdWJUcmVlKTtcbiAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJiAhaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpICYmIHJlY3Vyc2l2ZUdldFN1YnRyZWUoaW5zdGFuY2UpLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgbGV0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCxcbiAgICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcbiAgICAgICAgaWYgKG1vZGUgPT09IFwib3V0LWluXCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCEoaW5zdGFuY2Uuam9iLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmU7XG4gICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiaW4tb3V0XCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcbiAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gKCkgPT4ge1xuICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICBkZWxheWVkTGVhdmUoKTtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2xkSW5uZXJDaGlsZCkge1xuICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBmaW5kTm9uQ29tbWVudENoaWxkKGNoaWxkcmVuKSB7XG4gIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgaWYgKGMudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBoYXNGb3VuZCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIFwiPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudCBvciBjb21wb25lbnQuIFVzZSA8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjaGlsZCA9IGM7XG4gICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoaWxkO1xufVxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xuICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XG4gIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcbiAgfVxuICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSwgcG9zdENsb25lKSB7XG4gIGNvbnN0IHtcbiAgICBhcHBlYXIsXG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQgPSBmYWxzZSxcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25BZnRlckVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVMZWF2ZSxcbiAgICBvbkxlYXZlLFxuICAgIG9uQWZ0ZXJMZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyLFxuICAgIG9uQXBwZWFyLFxuICAgIG9uQWZ0ZXJBcHBlYXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xuICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgaG9vayAmJiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhvb2ssXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDksXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgY2FsbEFzeW5jSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgY29uc3QgZG9uZSA9IGFyZ3NbMV07XG4gICAgY2FsbEhvb2soaG9vaywgYXJncyk7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGlmIChob29rLmV2ZXJ5KChob29rMikgPT4gaG9vazIubGVuZ3RoIDw9IDEpKSBkb25lKCk7XG4gICAgfSBlbHNlIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBob29rcyA9IHtcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCxcbiAgICBiZWZvcmVFbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xuICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJiBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiYgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2soaG9vaywgW2VsXSk7XG4gICAgfSxcbiAgICBlbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xuICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcbiAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcbiAgICAgICAgICBhZnRlckhvb2sgPSBvbkFmdGVyQXBwZWFyIHx8IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICBjYW5jZWxIb29rID0gb25BcHBlYXJDYW5jZWxsZWQgfHwgb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtlbnRlckNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XG4gICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbZW50ZXJDYktleV0gPSB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhob29rLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgIGNvbnN0IGtleTIgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICAgIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgICAgICBlbFtlbnRlckNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XG4gICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2xlYXZlQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJlbW92ZSgpO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9PT0gdm5vZGUpIHtcbiAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID0gdm5vZGU7XG4gICAgICBpZiAob25MZWF2ZSkge1xuICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvbmUodm5vZGUyKSB7XG4gICAgICBjb25zdCBob29rczIgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICB2bm9kZTIsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHBvc3RDbG9uZVxuICAgICAgKTtcbiAgICAgIGlmIChwb3N0Q2xvbmUpIHBvc3RDbG9uZShob29rczIpO1xuICAgICAgcmV0dXJuIGhvb2tzMjtcbiAgICB9XG4gIH07XG4gIHJldHVybiBob29rcztcbn1cbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcbiAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xuICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCQxKHZub2RlKSB7XG4gIGlmICghaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgaWYgKGlzVGVsZXBvcnQodm5vZGUudHlwZSkgJiYgdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBmaW5kTm9uQ29tbWVudENoaWxkKHZub2RlLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyICYmIGlzRnVuY3Rpb24oY2hpbGRyZW4uZGVmYXVsdCkpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbi5kZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2ICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICBsZXQgcmV0ID0gW107XG4gIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGwgPyBjaGlsZC5rZXkgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCkga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8gKFxuICAgIC8vICM4MjM2OiBleHRlbmQgY2FsbCBhbmQgb3B0aW9ucy5uYW1lIGFjY2VzcyBhcmUgY29uc2lkZXJlZCBzaWRlLWVmZmVjdHNcbiAgICAvLyBieSBSb2xsdXAsIHNvIHdlIGhhdmUgdG8gd3JhcCBpdCBpbiBhIHB1cmUtYW5ub3RhdGVkIElJRkUuXG4gICAgLyogQF9fUFVSRV9fICovICgoKSA9PiBleHRlbmQoeyBuYW1lOiBvcHRpb25zLm5hbWUgfSwgZXh0cmFPcHRpb25zLCB7IHNldHVwOiBvcHRpb25zIH0pKSgpXG4gICkgOiBvcHRpb25zO1xufVxuXG5mdW5jdGlvbiB1c2VJZCgpIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaSkge1xuICAgIHJldHVybiAoaS5hcHBDb250ZXh0LmNvbmZpZy5pZFByZWZpeCB8fCBcInZcIikgKyBcIi1cIiArIGkuaWRzWzBdICsgaS5pZHNbMV0rKztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZUlkKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5pZHMgPSBbaW5zdGFuY2UuaWRzWzBdICsgaW5zdGFuY2UuaWRzWzJdKysgKyBcIi1cIiwgMCwgMF07XG59XG5cbmNvbnN0IGtub3duVGVtcGxhdGVSZWZzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG5mdW5jdGlvbiB1c2VUZW1wbGF0ZVJlZihrZXkpIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCByID0gc2hhbGxvd1JlZihudWxsKTtcbiAgaWYgKGkpIHtcbiAgICBjb25zdCByZWZzID0gaS5yZWZzID09PSBFTVBUWV9PQkogPyBpLnJlZnMgPSB7fSA6IGkucmVmcztcbiAgICBsZXQgZGVzYztcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAoZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVmcywga2V5KSkgJiYgIWRlc2MuY29uZmlndXJhYmxlKSB7XG4gICAgICB3YXJuJDEoYHVzZVRlbXBsYXRlUmVmKCcke2tleX0nKSBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlZnMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHIudmFsdWUsXG4gICAgICAgIHNldDogKHZhbCkgPT4gci52YWx1ZSA9IHZhbFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgdXNlVGVtcGxhdGVSZWYoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gXG4gICAgKTtcbiAgfVxuICBjb25zdCByZXQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gcmVhZG9ubHkocikgOiByO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGtub3duVGVtcGxhdGVSZWZzLmFkZChyZXQpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkge1xuICBpZiAoaXNBcnJheShyYXdSZWYpKSB7XG4gICAgcmF3UmVmLmZvckVhY2goXG4gICAgICAociwgaSkgPT4gc2V0UmVmKFxuICAgICAgICByLFxuICAgICAgICBvbGRSYXdSZWYgJiYgKGlzQXJyYXkob2xkUmF3UmVmKSA/IG9sZFJhd1JlZltpXSA6IG9sZFJhd1JlZiksXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgaXNVbm1vdW50XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSAmJiAhaXNVbm1vdW50KSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDUxMiAmJiB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCAmJiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZS5jb21wb25lbnQpIHtcbiAgICAgIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlZlZhbHVlID0gdm5vZGUuc2hhcGVGbGFnICYgNCA/IGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKHZub2RlLmNvbXBvbmVudCkgOiB2bm9kZS5lbDtcbiAgY29uc3QgdmFsdWUgPSBpc1VubW91bnQgPyBudWxsIDogcmVmVmFsdWU7XG4gIGNvbnN0IHsgaTogb3duZXIsIHI6IHJlZiB9ID0gcmF3UmVmO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhb3duZXIpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgTWlzc2luZyByZWYgb3duZXIgY29udGV4dC4gcmVmIGNhbm5vdCBiZSB1c2VkIG9uIGhvaXN0ZWQgdm5vZGVzLiBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgb2xkUmVmID0gb2xkUmF3UmVmICYmIG9sZFJhd1JlZi5yO1xuICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gb3duZXIucmVmcyA9IHt9IDogb3duZXIucmVmcztcbiAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XG4gIGNvbnN0IHJhd1NldHVwU3RhdGUgPSB0b1JhdyhzZXR1cFN0YXRlKTtcbiAgY29uc3QgY2FuU2V0U2V0dXBSZWYgPSBzZXR1cFN0YXRlID09PSBFTVBUWV9PQkogPyAoKSA9PiBmYWxzZSA6IChrZXkpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKGhhc093bihyYXdTZXR1cFN0YXRlLCBrZXkpICYmICFpc1JlZihyYXdTZXR1cFN0YXRlW2tleV0pKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgVGVtcGxhdGUgcmVmIFwiJHtrZXl9XCIgdXNlZCBvbiBhIG5vbi1yZWYgdmFsdWUuIEl0IHdpbGwgbm90IHdvcmsgaW4gdGhlIHByb2R1Y3Rpb24gYnVpbGQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGtub3duVGVtcGxhdGVSZWZzLmhhcyhyYXdTZXR1cFN0YXRlW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc093bihyYXdTZXR1cFN0YXRlLCBrZXkpO1xuICB9O1xuICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcbiAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihvbGRSZWYpKSB7XG4gICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XG4gICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgb3duZXIsIDEyLCBbdmFsdWUsIHJlZnNdKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBfaXNTdHJpbmcgPSBpc1N0cmluZyhyZWYpO1xuICAgIGNvbnN0IF9pc1JlZiA9IGlzUmVmKHJlZik7XG4gICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICBpZiAocmF3UmVmLmYpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZyA/IGNhblNldFNldHVwUmVmKHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiByZWYudmFsdWU7XG4gICAgICAgICAgaWYgKGlzVW5tb3VudCkge1xuICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlKGV4aXN0aW5nLCByZWZWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKGNhblNldFNldHVwUmVmKHJlZikpIHtcbiAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHJlZnNbcmVmXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspIHJlZnNbcmF3UmVmLmtdID0gcmVmLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkb1NldC5pZCA9IC0xO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvU2V0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICB9XG4gIH1cbn1cblxubGV0IGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSBmYWxzZTtcbmNvbnN0IGxvZ01pc21hdGNoRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChoYXNMb2dnZWRNaXNtYXRjaEVycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoXCJIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLlwiKTtcbiAgaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciA9IHRydWU7XG59O1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwic3ZnXCIpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSBcImZvcmVpZ25PYmplY3RcIjtcbmNvbnN0IGlzTWF0aE1MQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcIk1hdGhNTFwiKTtcbmNvbnN0IGdldENvbnRhaW5lclR5cGUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgIT09IDEpIHJldHVybiB2b2lkIDA7XG4gIGlmIChpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJzdmdcIjtcbiAgaWYgKGlzTWF0aE1MQ29udGFpbmVyKGNvbnRhaW5lcikpIHJldHVybiBcIm1hdGhtbFwiO1xuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4O1xuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgcDogcGF0Y2gsXG4gICAgbzoge1xuICAgICAgcGF0Y2hQcm9wLFxuICAgICAgY3JlYXRlVGV4dCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIHJlbW92ZSxcbiAgICAgIGluc2VydCxcbiAgICAgIGNyZWF0ZUNvbW1lbnRcbiAgICB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCI7XG4gICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKFxuICAgICAgbm9kZSxcbiAgICAgIHZub2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBpc0ZyYWdtZW50U3RhcnRcbiAgICApO1xuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgbGV0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgIHZub2RlLmVsID0gbm9kZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihub2RlLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwgcGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IG5leHROb2RlID0gbnVsbDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMpIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgfHwgZG9tVHlwZSA9PT0gMykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgPyBuZXh0Tm9kZS5vdXRlckhUTUwgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgaWYgKChkb21UeXBlICE9PSAxIHx8IHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmICFpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwidGVsZXBvcnQgc3RhcnRcIikge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUsIG5vZGUuZGF0YSwgXCJ0ZWxlcG9ydCBlbmRcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIXZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDgpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShwYXJlbnROb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgaHlkcmF0ZU5vZGVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycywgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgZm9yY2VQYXRjaCA9IHR5cGUgPT09IFwiaW5wdXRcIiB8fCB0eXBlID09PSBcIm9wdGlvblwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgcGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgICB9XG4gICAgICBsZXQgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBmYWxzZTtcbiAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShlbCkpIHtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIG5vIG5lZWQgY2hlY2sgcGFyZW50U3VzcGVuc2UgaW4gaHlkcmF0aW9uXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudm5vZGUucHJvcHMgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzLmFwcGVhcjtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTm9kZShjb250ZW50LCBlbCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgdm5vZGUuZWwgPSBlbCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTYgJiYgLy8gc2tpcCBpZiBlbGVtZW50IGhhcyBpbm5lckhUTUwgLyB0ZXh0Q29udGVudFxuICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgZWwuZmlyc3RDaGlsZCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XG4gICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgcmVtb3ZlKGN1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgICBsZXQgY2xpZW50VGV4dCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY2xpZW50VGV4dFswXSA9PT0gXCJcXG5cIiAmJiAoZWwudGFnTmFtZSA9PT0gXCJQUkVcIiB8fCBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpKSB7XG4gICAgICAgICAgY2xpZW50VGV4dCA9IGNsaWVudFRleHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSBjbGllbnRUZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMCAvKiBURVhUICovKSkge1xuICAgICAgICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7ZWwudGV4dENvbnRlbnR9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke3Zub2RlLmNoaWxkcmVufWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gfHwgZm9yY2VQYXRjaCB8fCAhb3B0aW1pemVkIHx8IHBhdGNoRmxhZyAmICgxNiB8IDMyKSkge1xuICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGVsLnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpO1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAvLyAjMTExODkgc2tpcCBpZiB0aGlzIG5vZGUgaGFzIGRpcmVjdGl2ZXMgdGhhdCBoYXZlIGNyZWF0ZWQgaG9va3NcbiAgICAgICAgICAgIC8vIGFzIGl0IGNvdWxkIGhhdmUgbXV0YXRlZCB0aGUgRE9NIGluIGFueSBwb3NzaWJsZSB3YXlcbiAgICAgICAgICAgICEoZGlycyAmJiBkaXJzLnNvbWUoKGQpID0+IGQuZGlyLmNyZWF0ZWQpKSAmJiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgcHJvcHNba2V5XSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcmNlUGF0Y2ggJiYgKGtleS5lbmRzV2l0aChcInZhbHVlXCIpIHx8IGtleSA9PT0gXCJpbmRldGVybWluYXRlXCIpIHx8IGlzT24oa2V5KSAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSB8fCAvLyBmb3JjZSBoeWRyYXRlIHYtYmluZCB3aXRoIC5wcm9wIG1vZGlmaWVyc1xuICAgICAgICAgICAga2V5WzBdID09PSBcIi5cIiB8fCBpc0N1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIHZvaWQgMCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICAgIHBhdGNoUHJvcChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgXCJvbkNsaWNrXCIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHMub25DbGljayxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgNCAmJiBpc1JlYWN0aXZlKHByb3BzLnN0eWxlKSkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzLnN0eWxlKSBwcm9wcy5zdHlsZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGVIb29rcztcbiAgICAgIGlmICh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcbiAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbC5uZXh0U2libGluZztcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkID8gY2hpbGRyZW5baV0gOiBjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIGNvbnN0IGlzVGV4dCA9IHZub2RlLnR5cGUgPT09IFRleHQ7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBpZiAoaXNUZXh0ICYmICFvcHRpbWl6ZWQpIHtcbiAgICAgICAgICBpZiAoaSArIDEgPCBsICYmIG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2kgKyAxXSkudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICAgICAgaW5zZXJ0KFxuICAgICAgICAgICAgICBjcmVhdGVUZXh0KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YS5zbGljZSh2bm9kZS5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChjb250YWluZXIsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICBuZXh0U2libGluZyhub2RlKSxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIGlmIChuZXh0ICYmIGlzQ29tbWVudChuZXh0KSAmJiBuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICByZXR1cm4gbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yID0gbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgIGluc2VydCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCksIGNvbnRhaW5lciwgbmV4dCk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1pc21hdGNoID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnQpID0+IHtcbiAgICBpZiAoIWlzTWlzbWF0Y2hBbGxvd2VkKG5vZGUucGFyZW50RWxlbWVudCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICBgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XG4tIHJlbmRlcmVkIG9uIHNlcnZlcjpgLFxuICAgICAgICBub2RlLFxuICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzID8gYCh0ZXh0KWAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcIltcIiA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYCA6IGBgLFxuICAgICAgICBgXG4tIGV4cGVjdGVkIG9uIGNsaWVudDpgLFxuICAgICAgICB2bm9kZS50eXBlXG4gICAgICApO1xuICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgIH1cbiAgICB2bm9kZS5lbCA9IG51bGw7XG4gICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBuZXh0MiA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBpZiAobmV4dDIgJiYgbmV4dDIgIT09IGVuZCkge1xuICAgICAgICAgIHJlbW92ZShuZXh0Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgcmVtb3ZlKG5vZGUpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmV4dCxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSB2bm9kZS5lbDtcbiAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIHZub2RlLmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH07XG4gIGNvbnN0IGxvY2F0ZUNsb3NpbmdBbmNob3IgPSAobm9kZSwgb3BlbiA9IFwiW1wiLCBjbG9zZSA9IFwiXVwiKSA9PiB7XG4gICAgbGV0IG1hdGNoID0gMDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgaWYgKG5vZGUgJiYgaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IG9wZW4pIG1hdGNoKys7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IGNsb3NlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCByZXBsYWNlTm9kZSA9IChuZXdOb2RlLCBvbGROb2RlLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBwYXJlbnROb2RlMiA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZTIpIHtcbiAgICAgIHBhcmVudE5vZGUyLnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IHBhcmVudENvbXBvbmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LnZub2RlLmVsID09PSBvbGROb2RlKSB7XG4gICAgICAgIHBhcmVudC52bm9kZS5lbCA9IHBhcmVudC5zdWJUcmVlLmVsID0gbmV3Tm9kZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc1RlbXBsYXRlTm9kZSA9IChub2RlKSA9PiB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS50YWdOYW1lID09PSBcIlRFTVBMQVRFXCI7XG4gIH07XG4gIHJldHVybiBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdO1xufVxuZnVuY3Rpb24gcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIGNsaWVudFZhbHVlLCB2bm9kZSwgaW5zdGFuY2UpIHtcbiAgbGV0IG1pc21hdGNoVHlwZTtcbiAgbGV0IG1pc21hdGNoS2V5O1xuICBsZXQgYWN0dWFsO1xuICBsZXQgZXhwZWN0ZWQ7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGV4cGVjdGVkID0gbm9ybWFsaXplQ2xhc3MoY2xpZW50VmFsdWUpO1xuICAgIGlmICghaXNTZXRFcXVhbCh0b0NsYXNzU2V0KGFjdHVhbCB8fCBcIlwiKSwgdG9DbGFzc1NldChleHBlY3RlZCkpKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSAyIC8qIENMQVNTICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBgY2xhc3NgO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpIHx8IFwiXCI7XG4gICAgZXhwZWN0ZWQgPSBpc1N0cmluZyhjbGllbnRWYWx1ZSkgPyBjbGllbnRWYWx1ZSA6IHN0cmluZ2lmeVN0eWxlKG5vcm1hbGl6ZVN0eWxlKGNsaWVudFZhbHVlKSk7XG4gICAgY29uc3QgYWN0dWFsTWFwID0gdG9TdHlsZU1hcChhY3R1YWwpO1xuICAgIGNvbnN0IGV4cGVjdGVkTWFwID0gdG9TdHlsZU1hcChleHBlY3RlZCk7XG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgIGZvciAoY29uc3QgeyBkaXIsIHZhbHVlIH0gb2Ygdm5vZGUuZGlycykge1xuICAgICAgICBpZiAoZGlyLm5hbWUgPT09IFwic2hvd1wiICYmICF2YWx1ZSkge1xuICAgICAgICAgIGV4cGVjdGVkTWFwLnNldChcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCk7XG4gICAgfVxuICAgIGlmICghaXNNYXBFcXVhbChhY3R1YWxNYXAsIGV4cGVjdGVkTWFwKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gMyAvKiBTVFlMRSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0gXCJzdHlsZVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgaXNLbm93blN2Z0F0dHIoa2V5KSB8fCBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIChpc0Jvb2xlYW5BdHRyKGtleSkgfHwgaXNLbm93bkh0bWxBdHRyKGtleSkpKSB7XG4gICAgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGluY2x1ZGVCb29sZWFuQXR0cihjbGllbnRWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChjbGllbnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoa2V5KSkge1xuICAgICAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBleHBlY3RlZCA9IGlzUmVuZGVyYWJsZUF0dHJWYWx1ZShjbGllbnRWYWx1ZSkgPyBTdHJpbmcoY2xpZW50VmFsdWUpIDogZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSA0IC8qIEFUVFJJQlVURSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuICBpZiAobWlzbWF0Y2hUeXBlICE9IG51bGwgJiYgIWlzTWlzbWF0Y2hBbGxvd2VkKGVsLCBtaXNtYXRjaFR5cGUpKSB7XG4gICAgY29uc3QgZm9ybWF0ID0gKHYpID0+IHYgPT09IGZhbHNlID8gYChub3QgcmVuZGVyZWQpYCA6IGAke21pc21hdGNoS2V5fT1cIiR7dn1cImA7XG4gICAgY29uc3QgcHJlU2VnbWVudCA9IGBIeWRyYXRpb24gJHtNaXNtYXRjaFR5cGVTdHJpbmdbbWlzbWF0Y2hUeXBlXX0gbWlzbWF0Y2ggb25gO1xuICAgIGNvbnN0IHBvc3RTZWdtZW50ID0gYFxuICAtIHJlbmRlcmVkIG9uIHNlcnZlcjogJHtmb3JtYXQoYWN0dWFsKX1cbiAgLSBleHBlY3RlZCBvbiBjbGllbnQ6ICR7Zm9ybWF0KGV4cGVjdGVkKX1cbiAgTm90ZTogdGhpcyBtaXNtYXRjaCBpcyBjaGVjay1vbmx5LiBUaGUgRE9NIHdpbGwgbm90IGJlIHJlY3RpZmllZCBpbiBwcm9kdWN0aW9uIGR1ZSB0byBwZXJmb3JtYW5jZSBvdmVyaGVhZC5cbiAgWW91IHNob3VsZCBmaXggdGhlIHNvdXJjZSBvZiB0aGUgbWlzbWF0Y2guYDtcbiAgICB7XG4gICAgICB3YXJuJDEocHJlU2VnbWVudCwgZWwsIHBvc3RTZWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdG9DbGFzc1NldChzdHIpIHtcbiAgcmV0dXJuIG5ldyBTZXQoc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy8pKTtcbn1cbmZ1bmN0aW9uIGlzU2V0RXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBzIG9mIGEpIHtcbiAgICBpZiAoIWIuaGFzKHMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdG9TdHlsZU1hcChzdHIpIHtcbiAgY29uc3Qgc3R5bGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RyLnNwbGl0KFwiO1wiKSkge1xuICAgIGxldCBba2V5LCB2YWx1ZV0gPSBpdGVtLnNwbGl0KFwiOlwiKTtcbiAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgIHZhbHVlID0gdmFsdWUgJiYgdmFsdWUudHJpbSgpO1xuICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgIHN0eWxlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlTWFwO1xufVxuZnVuY3Rpb24gaXNNYXBFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBhKSB7XG4gICAgaWYgKHZhbHVlICE9PSBiLmdldChrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCkge1xuICBjb25zdCByb290ID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgaWYgKGluc3RhbmNlLmdldENzc1ZhcnMgJiYgKHZub2RlID09PSByb290IHx8IHJvb3QgJiYgcm9vdC50eXBlID09PSBGcmFnbWVudCAmJiByb290LmNoaWxkcmVuLmluY2x1ZGVzKHZub2RlKSkpIHtcbiAgICBjb25zdCBjc3NWYXJzID0gaW5zdGFuY2UuZ2V0Q3NzVmFycygpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNzc1ZhcnMpIHtcbiAgICAgIGV4cGVjdGVkTWFwLnNldChcbiAgICAgICAgYC0tJHtnZXRFc2NhcGVkQ3NzVmFyTmFtZShrZXksIGZhbHNlKX1gLFxuICAgICAgICBTdHJpbmcoY3NzVmFyc1trZXldKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlID09PSByb290ICYmIGluc3RhbmNlLnBhcmVudCkge1xuICAgIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLnBhcmVudCwgaW5zdGFuY2Uudm5vZGUsIGV4cGVjdGVkTWFwKTtcbiAgfVxufVxuY29uc3QgYWxsb3dNaXNtYXRjaEF0dHIgPSBcImRhdGEtYWxsb3ctbWlzbWF0Y2hcIjtcbmNvbnN0IE1pc21hdGNoVHlwZVN0cmluZyA9IHtcbiAgWzAgLyogVEVYVCAqL106IFwidGV4dFwiLFxuICBbMSAvKiBDSElMRFJFTiAqL106IFwiY2hpbGRyZW5cIixcbiAgWzIgLyogQ0xBU1MgKi9dOiBcImNsYXNzXCIsXG4gIFszIC8qIFNUWUxFICovXTogXCJzdHlsZVwiLFxuICBbNCAvKiBBVFRSSUJVVEUgKi9dOiBcImF0dHJpYnV0ZVwiXG59O1xuZnVuY3Rpb24gaXNNaXNtYXRjaEFsbG93ZWQoZWwsIGFsbG93ZWRUeXBlKSB7XG4gIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovIHx8IGFsbG93ZWRUeXBlID09PSAxIC8qIENISUxEUkVOICovKSB7XG4gICAgd2hpbGUgKGVsICYmICFlbC5oYXNBdHRyaWJ1dGUoYWxsb3dNaXNtYXRjaEF0dHIpKSB7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IGFsbG93ZWRBdHRyID0gZWwgJiYgZWwuZ2V0QXR0cmlidXRlKGFsbG93TWlzbWF0Y2hBdHRyKTtcbiAgaWYgKGFsbG93ZWRBdHRyID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoYWxsb3dlZEF0dHIgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsaXN0ID0gYWxsb3dlZEF0dHIuc3BsaXQoXCIsXCIpO1xuICAgIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovICYmIGxpc3QuaW5jbHVkZXMoXCJjaGlsZHJlblwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBhbGxvd2VkQXR0ci5zcGxpdChcIixcIikuaW5jbHVkZXMoTWlzbWF0Y2hUeXBlU3RyaW5nW2FsbG93ZWRUeXBlXSk7XG4gIH1cbn1cblxuY29uc3QgcmVxdWVzdElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICgoY2IpID0+IHNldFRpbWVvdXQoY2IsIDEpKTtcbmNvbnN0IGNhbmNlbElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5jYW5jZWxJZGxlQ2FsbGJhY2sgfHwgKChpZCkgPT4gY2xlYXJUaW1lb3V0KGlkKSk7XG5jb25zdCBoeWRyYXRlT25JZGxlID0gKHRpbWVvdXQgPSAxZTQpID0+IChoeWRyYXRlKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxdWVzdElkbGVDYWxsYmFjayhoeWRyYXRlLCB7IHRpbWVvdXQgfSk7XG4gIHJldHVybiAoKSA9PiBjYW5jZWxJZGxlQ2FsbGJhY2soaWQpO1xufTtcbmZ1bmN0aW9uIGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeyBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCB9ID0gd2luZG93O1xuICByZXR1cm4gKHRvcCA+IDAgJiYgdG9wIDwgaW5uZXJIZWlnaHQgfHwgYm90dG9tID4gMCAmJiBib3R0b20gPCBpbm5lckhlaWdodCkgJiYgKGxlZnQgPiAwICYmIGxlZnQgPCBpbm5lcldpZHRoIHx8IHJpZ2h0ID4gMCAmJiByaWdodCA8IGlubmVyV2lkdGgpO1xufVxuY29uc3QgaHlkcmF0ZU9uVmlzaWJsZSA9IChvcHRzKSA9PiAoaHlkcmF0ZSwgZm9yRWFjaCkgPT4ge1xuICBjb25zdCBvYiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgIGZvciAoY29uc3QgZSBvZiBlbnRyaWVzKSB7XG4gICAgICBpZiAoIWUuaXNJbnRlcnNlY3RpbmcpIGNvbnRpbnVlO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBvcHRzKTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm47XG4gICAgaWYgKGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSkge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYi5vYnNlcnZlKGVsKTtcbiAgfSk7XG4gIHJldHVybiAoKSA9PiBvYi5kaXNjb25uZWN0KCk7XG59O1xuY29uc3QgaHlkcmF0ZU9uTWVkaWFRdWVyeSA9IChxdWVyeSkgPT4gKGh5ZHJhdGUpID0+IHtcbiAgaWYgKHF1ZXJ5KSB7XG4gICAgY29uc3QgbXFsID0gbWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGh5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBoeWRyYXRlT25JbnRlcmFjdGlvbiA9IChpbnRlcmFjdGlvbnMgPSBbXSkgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgaWYgKGlzU3RyaW5nKGludGVyYWN0aW9ucykpIGludGVyYWN0aW9ucyA9IFtpbnRlcmFjdGlvbnNdO1xuICBsZXQgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgY29uc3QgZG9IeWRyYXRlID0gKGUpID0+IHtcbiAgICBpZiAoIWhhc0h5ZHJhdGVkKSB7XG4gICAgICBoYXNIeWRyYXRlZCA9IHRydWU7XG4gICAgICB0ZWFyZG93bigpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xuICAgIGZvckVhY2goKGVsKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSwgZG9IeWRyYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0ZWFyZG93bjtcbn07XG5mdW5jdGlvbiBmb3JFYWNoRWxlbWVudChub2RlLCBjYikge1xuICBpZiAoaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICBsZXQgZGVwdGggPSAxO1xuICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2IobmV4dCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDb21tZW50KG5leHQpKSB7XG4gICAgICAgIGlmIChuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICAgICAgaWYgKC0tZGVwdGggPT09IDApIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKG5leHQuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2Iobm9kZSk7XG4gIH1cbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsb2FkZXIsXG4gICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICBlcnJvckNvbXBvbmVudCxcbiAgICBkZWxheSA9IDIwMCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3RyYXRlZ3ksXG4gICAgdGltZW91dCxcbiAgICAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsXG4gICAgb25FcnJvcjogdXNlck9uRXJyb3JcbiAgfSA9IHNvdXJjZTtcbiAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgbGV0IHJlc29sdmVkQ29tcDtcbiAgbGV0IHJldHJpZXMgPSAwO1xuICBjb25zdCByZXRyeSA9ICgpID0+IHtcbiAgICByZXRyaWVzKys7XG4gICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgIHJldHVybiBsb2FkKCk7XG4gIH07XG4gIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgbGV0IHRoaXNSZXF1ZXN0O1xuICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdCB8fCAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcbiAgICAgIGlmICh1c2VyT25FcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XG4gICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcbiAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSkudGhlbigoY29tcCkgPT4ge1xuICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY29tcCkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcCAmJiAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJNb2R1bGVcIikpIHtcbiAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XG4gICAgICByZXR1cm4gY29tcDtcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6IFwiQXN5bmNDb21wb25lbnRXcmFwcGVyXCIsXG4gICAgX19hc3luY0xvYWRlcjogbG9hZCxcbiAgICBfX2FzeW5jSHlkcmF0ZShlbCwgaW5zdGFuY2UsIGh5ZHJhdGUpIHtcbiAgICAgIGNvbnN0IGRvSHlkcmF0ZSA9IGh5ZHJhdGVTdHJhdGVneSA/ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGVhcmRvd24gPSBoeWRyYXRlU3RyYXRlZ3koXG4gICAgICAgICAgaHlkcmF0ZSxcbiAgICAgICAgICAoY2IpID0+IGZvckVhY2hFbGVtZW50KGVsLCBjYilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRlYXJkb3duKSB7XG4gICAgICAgICAgKGluc3RhbmNlLmJ1bSB8fCAoaW5zdGFuY2UuYnVtID0gW10pKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgfVxuICAgICAgfSA6IGh5ZHJhdGU7XG4gICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XG4gICAgICAgIGRvSHlkcmF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZCgpLnRoZW4oKCkgPT4gIWluc3RhbmNlLmlzVW5tb3VudGVkICYmIGRvSHlkcmF0ZSgpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgIH0sXG4gICAgc2V0dXAoKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaGFuZGxlRXJyb3IoXG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIDEzLFxuICAgICAgICAgICFlcnJvckNvbXBvbmVudFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGlmIChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSB8fCBpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgcmV0dXJuIGxvYWQoKS50aGVuKChjb21wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50ID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgbG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnZhbHVlICYmIGVycm9yQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbm5lckNvbXAoY29tcCwgcGFyZW50KSB7XG4gIGNvbnN0IHsgcmVmOiByZWYyLCBwcm9wcywgY2hpbGRyZW4sIGNlIH0gPSBwYXJlbnQudm5vZGU7XG4gIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoY29tcCwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgdm5vZGUucmVmID0gcmVmMjtcbiAgdm5vZGUuY2UgPSBjZTtcbiAgZGVsZXRlIHBhcmVudC52bm9kZS5jZTtcbiAgcmV0dXJuIHZub2RlO1xufVxuXG5jb25zdCBpc0tlZXBBbGl2ZSA9ICh2bm9kZSkgPT4gdm5vZGUudHlwZS5fX2lzS2VlcEFsaXZlO1xuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcbiAgbmFtZTogYEtlZXBBbGl2ZWAsXG4gIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XG4gIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XG4gIC8vIHdvdWxkIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0cmVlLXNoYWtlbi5cbiAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcbiAgcHJvcHM6IHtcbiAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cbiAgfSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcbiAgICBpZiAoIXNoYXJlZENvbnRleHQucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDEgPyBjaGlsZHJlblswXSA6IGNoaWxkcmVuO1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGluc3RhbmNlLl9fdl9jYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlbmRlcmVyOiB7XG4gICAgICAgIHA6IHBhdGNoLFxuICAgICAgICBtOiBtb3ZlLFxuICAgICAgICB1bTogX3VubW91bnQsXG4gICAgICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gICAgICB9XG4gICAgfSA9IHNoYXJlZENvbnRleHQ7XG4gICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGluc3RhbmNlMi52bm9kZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBpbnN0YW5jZTIsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlMi5hKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVNb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZTIpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICBpbnZhbGlkYXRlTW91bnQoaW5zdGFuY2UyLm0pO1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5hKTtcbiAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuZGEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuZGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcbiAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xuICAgICAgY2FjaGUuZm9yRWFjaCgodm5vZGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcbiAgICAgICAgaWYgKG5hbWUgJiYgIWZpbHRlcihuYW1lKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xuICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAoY2FjaGVkICYmICghY3VycmVudCB8fCAhaXNTYW1lVk5vZGVUeXBlKGNhY2hlZCwgY3VycmVudCkpKSB7XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sXG4gICAgICAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XG4gICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xuICAgICAgfSxcbiAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB7IGZsdXNoOiBcInBvc3RcIiwgZGVlcDogdHJ1ZSB9XG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzU3VzcGVuc2UoaW5zdGFuY2Uuc3ViVHJlZS50eXBlKSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgICB9LCBpbnN0YW5jZS5zdWJUcmVlLnN1c3BlbnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGNhY2hlLmZvckVhY2goKGNhY2hlZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xuICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUgJiYgY2FjaGVkLmtleSA9PT0gdm5vZGUua2V5KSB7XG4gICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xuICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmICghaXNWTm9kZShyYXdWTm9kZSkgfHwgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiA0KSAmJiAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCkpIHtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgIH1cbiAgICAgIGxldCB2bm9kZSA9IGdldElubmVyQ2hpbGQocmF3Vk5vZGUpO1xuICAgICAgaWYgKHZub2RlLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xuICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoXG4gICAgICAgIGlzQXN5bmNXcmFwcGVyKHZub2RlKSA/IHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkIHx8IHt9IDogY29tcFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcbiAgICAgIGlmIChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkgfHwgZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpIHtcbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnICY9IH4yNTY7XG4gICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmICh2bm9kZS5lbCkge1xuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcbiAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xuICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyO1xuICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTY7XG4gICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KFwiLFwiKS5pbmNsdWRlcyhuYW1lKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJkYVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIHR5cGUsIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZGMgfHwgKGhvb2suX193ZGMgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQ7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgIGlmIChjdXJyZW50LmlzRGVhY3RpdmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gaG9vaygpO1xuICB9KTtcbiAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudCkge1xuICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xuICAgICAgICBpbmplY3RUb0tlZXBBbGl2ZVJvb3Qod3JhcHBlZEhvb2ssIHR5cGUsIHRhcmdldCwgY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbmplY3RUb0tlZXBBbGl2ZVJvb3QoaG9vaywgdHlwZSwgdGFyZ2V0LCBrZWVwQWxpdmVSb290KSB7XG4gIGNvbnN0IGluamVjdGVkID0gaW5qZWN0SG9vayhcbiAgICB0eXBlLFxuICAgIGhvb2ssXG4gICAga2VlcEFsaXZlUm9vdCxcbiAgICB0cnVlXG4gICAgLyogcHJlcGVuZCAqL1xuICApO1xuICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcbiAgfSwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSB+MjU2O1xuICB2bm9kZS5zaGFwZUZsYWcgJj0gfjUxMjtcbn1cbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dlaCB8fCAoaG9vay5fX3dlaCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVkSG9vaztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgYXBpTmFtZSA9IHRvSGFuZGxlcktleShFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgXCJcIikpO1xuICAgIHdhcm4kMShcbiAgICAgIGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLiBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBob29rcyBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0IHN0YXRlbWVudC5gIClcbiAgICApO1xuICB9XG59XG5jb25zdCBjcmVhdGVIb29rID0gKGxpZmVjeWNsZSkgPT4gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4ge1xuICBpZiAoIWlzSW5TU1JDb21wb25lbnRTZXR1cCB8fCBsaWZlY3ljbGUgPT09IFwic3BcIikge1xuICAgIGluamVjdEhvb2sobGlmZWN5Y2xlLCAoLi4uYXJncykgPT4gaG9vayguLi5hcmdzKSwgdGFyZ2V0KTtcbiAgfVxufTtcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIik7XG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiKTtcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcbiAgXCJidVwiXG4pO1xuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIik7XG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFxuICBcImJ1bVwiXG4pO1xuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIik7XG5jb25zdCBvblNlcnZlclByZWZldGNoID0gY3JlYXRlSG9vayhcbiAgXCJzcFwiXG4pO1xuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIpO1xuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiKTtcbmZ1bmN0aW9uIG9uRXJyb3JDYXB0dXJlZChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgaW5qZWN0SG9vayhcImVjXCIsIGhvb2ssIHRhcmdldCk7XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSBcImNvbXBvbmVudHNcIjtcbmNvbnN0IERJUkVDVElWRVMgPSBcImRpcmVjdGl2ZXNcIjtcbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xufVxuY29uc3QgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbC5mb3IoXCJ2LW5kY1wiKTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICBpZiAoaXNTdHJpbmcoY29tcG9uZW50KSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wb25lbnQgfHwgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVDtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoRElSRUNUSVZFUywgbmFtZSk7XG59XG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IENPTVBPTkVOVFMpIHtcbiAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGlmIChzZWxmTmFtZSAmJiAoc2VsZk5hbWUgPT09IG5hbWUgfHwgc2VsZk5hbWUgPT09IGNhbWVsaXplKG5hbWUpIHx8IHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gKFxuICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXG4gICAgICAvLyBjaGVjayBpbnN0YW5jZVt0eXBlXSBmaXJzdCB3aGljaCBpcyByZXNvbHZlZCBmb3Igb3B0aW9ucyBBUElcbiAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fCAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXG4gICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpXG4gICAgKTtcbiAgICBpZiAoIXJlcyAmJiBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICAgIGNvbnN0IGV4dHJhID0gdHlwZSA9PT0gQ09NUE9ORU5UUyA/IGBcbklmIHRoaXMgaXMgYSBuYXRpdmUgY3VzdG9tIGVsZW1lbnQsIG1ha2Ugc3VyZSB0byBleGNsdWRlIGl0IGZyb20gY29tcG9uZW50IHJlc29sdXRpb24gdmlhIGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQuYCA6IGBgO1xuICAgICAgd2FybiQxKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfSR7ZXh0cmF9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGByZXNvbHZlJHtjYXBpdGFsaXplKHR5cGUuc2xpY2UoMCwgLTEpKX0gY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XG4gIHJldHVybiByZWdpc3RyeSAmJiAocmVnaXN0cnlbbmFtZV0gfHwgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8IHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckxpc3Qoc291cmNlLCByZW5kZXJJdGVtLCBjYWNoZSwgaW5kZXgpIHtcbiAgbGV0IHJldDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUgJiYgY2FjaGVbaW5kZXhdO1xuICBjb25zdCBzb3VyY2VJc0FycmF5ID0gaXNBcnJheShzb3VyY2UpO1xuICBpZiAoc291cmNlSXNBcnJheSB8fCBpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgY29uc3Qgc291cmNlSXNSZWFjdGl2ZUFycmF5ID0gc291cmNlSXNBcnJheSAmJiBpc1JlYWN0aXZlKHNvdXJjZSk7XG4gICAgbGV0IG5lZWRzV3JhcCA9IGZhbHNlO1xuICAgIGlmIChzb3VyY2VJc1JlYWN0aXZlQXJyYXkpIHtcbiAgICAgIG5lZWRzV3JhcCA9ICFpc1NoYWxsb3coc291cmNlKTtcbiAgICAgIHNvdXJjZSA9IHNoYWxsb3dSZWFkQXJyYXkoc291cmNlKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc291cmNlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShcbiAgICAgICAgbmVlZHNXcmFwID8gdG9SZWFjdGl2ZShzb3VyY2VbaV0pIDogc291cmNlW2ldLFxuICAgICAgICBpLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGNhY2hlZCAmJiBjYWNoZWRbaV1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSA6IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzbG90cztcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5jZSkge1xuICAgIGlmIChuYW1lICE9PSBcImRlZmF1bHRcIikgcHJvcHMubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhcbiAgICAgIEZyYWdtZW50LFxuICAgICAgbnVsbCxcbiAgICAgIFtjcmVhdGVWTm9kZShcInNsb3RcIiwgcHJvcHMsIGZhbGxiYWNrICYmIGZhbGxiYWNrKCkpXSxcbiAgICAgIDY0XG4gICAgKTtcbiAgfVxuICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgcGFyZW50IHRlbXBsYXRlLmBcbiAgICApO1xuICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IGZhbHNlO1xuICB9XG4gIG9wZW5CbG9jaygpO1xuICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgY29uc3Qgc2xvdEtleSA9IHByb3BzLmtleSB8fCAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gIHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXk7XG4gIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soXG4gICAgRnJhZ21lbnQsXG4gICAge1xuICAgICAga2V5OiAoc2xvdEtleSAmJiAhaXNTeW1ib2woc2xvdEtleSkgPyBzbG90S2V5IDogYF8ke25hbWV9YCkgKyAvLyAjNzI1NiBmb3JjZSBkaWZmZXJlbnRpYXRlIGZhbGxiYWNrIGNvbnRlbnQgZnJvbSBhY3R1YWwgY29udGVudFxuICAgICAgKCF2YWxpZFNsb3RDb250ZW50ICYmIGZhbGxiYWNrID8gXCJfZmJcIiA6IFwiXCIpXG4gICAgfSxcbiAgICB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksXG4gICAgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxID8gNjQgOiAtMlxuICApO1xuICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyBcIi1zXCJdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICByZXR1cm4gdm5vZGVzLnNvbWUoKGNoaWxkKSA9PiB7XG4gICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSkgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGkpO1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGhvc3Q6IChpKSA9PiBpLmNlLFxuICAgICRlbWl0OiAoaSkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlLFxuICAgICRmb3JjZVVwZGF0ZTogKGkpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4ge1xuICAgICAgcXVldWVKb2IoaS51cGRhdGUpO1xuICAgIH0pLFxuICAgICRuZXh0VGljazogKGkpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1BcbiAgfSlcbik7XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJFwiO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCJfX2lzVnVlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIGlmIChrZXlbMF0gIT09IFwiJFwiKSB7XG4gICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChuICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgY2FzZSAxIC8qIFNFVFVQICovOlxuICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICBjYXNlIDIgLyogREFUQSAqLzpcbiAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgY2FzZSA0IC8qIENPTlRFWFQgKi86XG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgY2FzZSAzIC8qIFBST1BTICovOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogU0VUVVAgKi87XG4gICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBEQVRBICovO1xuICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcbiAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KVxuICAgICAgKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIFBST1BTICovO1xuICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICB9IGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8IHNob3VsZENhY2hlQWNjZXNzKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAwIC8qIE9USEVSICovO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwdWJsaWNHZXR0ZXIgPSBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV07XG4gICAgbGV0IGNzc01vZHVsZSwgZ2xvYmFsUHJvcGVydGllcztcbiAgICBpZiAocHVibGljR2V0dGVyKSB7XG4gICAgICBpZiAoa2V5ID09PSBcIiRhdHRyc1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLmF0dHJzLCBcImdldFwiLCBcIlwiKTtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCIkc2xvdHNcIikge1xuICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxuICAgICAgKGNzc01vZHVsZSA9IHR5cGUuX19jc3NNb2R1bGVzKSAmJiAoY3NzTW9kdWxlID0gY3NzTW9kdWxlW2tleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gY3NzTW9kdWxlO1xuICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQ09OVEVYVCAqLztcbiAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gZ2xvYmFsIHByb3BlcnRpZXNcbiAgICAgIGdsb2JhbFByb3BlcnRpZXMgPSBhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KVxuICAgICkge1xuICAgICAge1xuICAgICAgICByZXR1cm4gZ2xvYmFsUHJvcGVydGllc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgJiYgKCFpc1N0cmluZyhrZXkpIHx8IC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXG4gICAgLy8gdG8gaW5maW5pdGUgd2FybmluZyBsb29wXG4gICAga2V5LmluZGV4T2YoXCJfX3ZcIikgIT09IDApKSB7XG4gICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgY2hhcmFjdGVyIChcIiRcIiBvciBcIl9cIikgYW5kIGlzIG5vdCBwcm94aWVkIG9uIHRoZSByZW5kZXIgY29udGV4dC5gXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGluc3RhbmNlID09PSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHdhcyBhY2Nlc3NlZCBkdXJpbmcgcmVuZGVyIGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xuICAgIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgIHdhcm4kMShgQ2Fubm90IG11dGF0ZSA8c2NyaXB0IHNldHVwPiBiaW5kaW5nIFwiJHtrZXl9XCIgZnJvbSBPcHRpb25zIEFQSS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGhhc093bihpbnN0YW5jZS5wcm9wcywga2V5KSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHByb3AgXCIke2tleX1cIi4gUHJvcHMgYXJlIHJlYWRvbmx5LmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoa2V5WzBdID09PSBcIiRcIiAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHVibGljIHByb3BlcnR5IFwiJHtrZXl9XCIuIFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgaGFzKHtcbiAgICBfOiB7IGRhdGEsIHNldHVwU3RhdGUsIGFjY2Vzc0NhY2hlLCBjdHgsIGFwcENvbnRleHQsIHByb3BzT3B0aW9ucyB9XG4gIH0sIGtleSkge1xuICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgcmV0dXJuICEhYWNjZXNzQ2FjaGVba2V5XSB8fCBkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkgfHwgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHwgKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSB8fCBoYXNPd24oY3R4LCBrZXkpIHx8IGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8IGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpO1xuICB9LFxuICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgIGlmIChkZXNjcmlwdG9yLmdldCAhPSBudWxsKSB7XG4gICAgICB0YXJnZXQuXy5hY2Nlc3NDYWNoZVtrZXldID0gMDtcbiAgICB9IGVsc2UgaWYgKGhhc093bihkZXNjcmlwdG9yLCBcInZhbHVlXCIpKSB7XG4gICAgICB0aGlzLnNldCh0YXJnZXQsIGtleSwgZGVzY3JpcHRvci52YWx1ZSwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUpIHtcbiAgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLm93bktleXMgPSAodGFyZ2V0KSA9PiB7XG4gICAgd2FybiQxKFxuICAgICAgYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gXG4gICAgKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gIH07XG59XG5jb25zdCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuZ2V0KHRhcmdldCwga2V5LCB0YXJnZXQpO1xuICB9LFxuICBoYXMoXywga2V5KSB7XG4gICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSBcIl9cIiAmJiAhaXNHbG9iYWxseUFsbG93ZWQoa2V5KTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBrZXlcbiAgICAgICAgKX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIF8gd2hpY2ggaXMgYSByZXNlcnZlZCBwcmVmaXggZm9yIFZ1ZSBpbnRlcm5hbHMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcztcbiAgfVxufSk7XG5mdW5jdGlvbiBjcmVhdGVEZXZSZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHRhcmdldCA9IHt9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgX2AsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiAoKSA9PiBpbnN0YW5jZVxuICB9KTtcbiAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllc01hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcbiAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcbiAgICAgIC8vIGJ1dCBuZWVkZWQgdG8gcHJldmVudCBzZXQgZXJyb3JzXG4gICAgICBzZXQ6IE5PT1BcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgY3R4LFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgfSA9IGluc3RhbmNlO1xuICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcbiAgICAgICAgc2V0OiBOT09QXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XG4gIE9iamVjdC5rZXlzKHRvUmF3KHNldHVwU3RhdGUpKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoIXNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwKSB7XG4gICAgICBpZiAoaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgc2V0dXAoKSByZXR1cm4gcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHNldHVwU3RhdGVba2V5XSxcbiAgICAgICAgc2V0OiBOT09QXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB3YXJuUnVudGltZVVzYWdlID0gKG1ldGhvZCkgPT4gd2FybiQxKFxuICBgJHttZXRob2R9KCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgY29tcGlsZWQgYXdheSBhbmQgcGFzc2luZyBpdCBhdCBydW50aW1lIGhhcyBubyBlZmZlY3QuYFxuKTtcbmZ1bmN0aW9uIGRlZmluZVByb3BzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVByb3BzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVFbWl0cygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVFbWl0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRXhwb3NlKGV4cG9zZWQpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVFeHBvc2VgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lT3B0aW9uc2ApO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVTbG90cygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVTbG90c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lTW9kZWwoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShcImRlZmluZU1vZGVsXCIpO1xuICB9XG59XG5mdW5jdGlvbiB3aXRoRGVmYXVsdHMocHJvcHMsIGRlZmF1bHRzKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgd2l0aERlZmF1bHRzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VTbG90cygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoKS5zbG90cztcbn1cbmZ1bmN0aW9uIHVzZUF0dHJzKCkge1xuICByZXR1cm4gZ2V0Q29udGV4dCgpLmF0dHJzO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcbiAgfVxuICByZXR1cm4gaS5zZXR1cENvbnRleHQgfHwgKGkuc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KGkpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhwcm9wcykge1xuICByZXR1cm4gaXNBcnJheShwcm9wcykgPyBwcm9wcy5yZWR1Y2UoXG4gICAgKG5vcm1hbGl6ZWQsIHApID0+IChub3JtYWxpemVkW3BdID0gbnVsbCwgbm9ybWFsaXplZCksXG4gICAge31cbiAgKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XG4gIGNvbnN0IHByb3BzID0gbm9ybWFsaXplUHJvcHNPckVtaXRzKHJhdyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKFwiX19za2lwXCIpKSBjb250aW51ZTtcbiAgICBsZXQgb3B0ID0gcHJvcHNba2V5XTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xuICAgICAgICBvcHQgPSBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdCA9PT0gbnVsbCkge1xuICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm9wcyBkZWZhdWx0IGtleSBcIiR7a2V5fVwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLmApO1xuICAgIH1cbiAgICBpZiAob3B0ICYmIGRlZmF1bHRzW2BfX3NraXBfJHtrZXl9YF0pIHtcbiAgICAgIG9wdC5za2lwRmFjdG9yeSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlTW9kZWxzKGEsIGIpIHtcbiAgaWYgKCFhIHx8ICFiKSByZXR1cm4gYSB8fCBiO1xuICBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSByZXR1cm4gYS5jb25jYXQoYik7XG4gIHJldHVybiBleHRlbmQoe30sIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhhKSwgbm9ybWFsaXplUHJvcHNPckVtaXRzKGIpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzUmVzdFByb3h5KHByb3BzLCBleGNsdWRlZEtleXMpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgaWYgKCFleGNsdWRlZEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gcHJvcHNba2V5XVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICBjb25zdCBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWN0eCkge1xuICAgIHdhcm4kMShcbiAgICAgIGB3aXRoQXN5bmNDb250ZXh0IGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBjdXJyZW50IGluc3RhbmNlLiBUaGlzIGlzIGxpa2VseSBhIGJ1Zy5gXG4gICAgKTtcbiAgfVxuICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmIChpc1Byb21pc2UoYXdhaXRhYmxlKSkge1xuICAgIGF3YWl0YWJsZSA9IGF3YWl0YWJsZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbYXdhaXRhYmxlLCAoKSA9PiBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAodHlwZSwga2V5KSA9PiB7XG4gICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgIHdhcm4kMShgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICB9XG4gIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcbiAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xuICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIik7XG4gIH1cbiAgY29uc3Qge1xuICAgIC8vIHN0YXRlXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsXG4gICAgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucyxcbiAgICBtZXRob2RzLFxuICAgIHdhdGNoOiB3YXRjaE9wdGlvbnMsXG4gICAgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsXG4gICAgaW5qZWN0OiBpbmplY3RPcHRpb25zLFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGNyZWF0ZWQsXG4gICAgYmVmb3JlTW91bnQsXG4gICAgbW91bnRlZCxcbiAgICBiZWZvcmVVcGRhdGUsXG4gICAgdXBkYXRlZCxcbiAgICBhY3RpdmF0ZWQsXG4gICAgZGVhY3RpdmF0ZWQsXG4gICAgYmVmb3JlRGVzdHJveSxcbiAgICBiZWZvcmVVbm1vdW50LFxuICAgIGRlc3Ryb3llZCxcbiAgICB1bm1vdW50ZWQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlclRyYWNrZWQsXG4gICAgcmVuZGVyVHJpZ2dlcmVkLFxuICAgIGVycm9yQ2FwdHVyZWQsXG4gICAgc2VydmVyUHJlZmV0Y2gsXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSxcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50cyxcbiAgICBkaXJlY3RpdmVzLFxuICAgIGZpbHRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKTtcbiAgfVxuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XG4gICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGF0YU9wdGlvbnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihkYXRhT3B0aW9ucykpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBkYXRhT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzUHJvbWlzZShkYXRhKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcbiAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KSA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpIDogaXNGdW5jdGlvbihvcHQuZ2V0KSA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IE5PT1A7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBnZXQgPT09IE5PT1ApIHtcbiAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldCkgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcykgOiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYFxuICAgICAgICApO1xuICAgICAgfSA6IE5PT1A7XG4gICAgICBjb25zdCBjID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQsXG4gICAgICAgIHNldFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGMudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh3YXRjaE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcbiAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKSA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcykgOiBwcm92aWRlT3B0aW9ucztcbiAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgIH0pO1xuICB9XG4gIGlmIChjcmVhdGVkKSB7XG4gICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaG9vay5mb3JFYWNoKChfaG9vaykgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xuICAgIH0gZWxzZSBpZiAoaG9vaykge1xuICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcbiAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xuICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSB7fSk7XG4gICAgICBleHBvc2UuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvc2VkLCBrZXksIHtcbiAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICBzZXQ6ICh2YWwpID0+IHB1YmxpY1RoaXNba2V5XSA9IHZhbFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSB7fTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XG4gIH1cbiAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XG4gICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICB9XG4gIGlmIChjb21wb25lbnRzKSBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgaWYgKGRpcmVjdGl2ZXMpIGluc3RhbmNlLmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICBpZiAoc2VydmVyUHJlZmV0Y2gpIHtcbiAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCkge1xuICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICBsZXQgaW5qZWN0ZWQ7XG4gICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcbiAgICAgIGlmIChcImRlZmF1bHRcIiBpbiBvcHQpIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3QoXG4gICAgICAgICAgb3B0LmZyb20gfHwga2V5LFxuICAgICAgICAgIG9wdC5kZWZhdWx0LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZihpbmplY3RlZCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5qZWN0ZWQudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGluamVjdGVkLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICBpc0FycmF5KGhvb2spID8gaG9vay5tYXAoKGgpID0+IGguYmluZChpbnN0YW5jZS5wcm94eSkpIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSxcbiAgICBpbnN0YW5jZSxcbiAgICB0eXBlXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgbGV0IGdldHRlciA9IGtleS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSkgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAge1xuICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICByYXcuZm9yRWFjaCgocikgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcikgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gIGNvbnN0IHtcbiAgICBtaXhpbnM6IGdsb2JhbE1peGlucyxcbiAgICBvcHRpb25zQ2FjaGU6IGNhY2hlLFxuICAgIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfVxuICB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICBsZXQgcmVzb2x2ZWQ7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgfSBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgIHtcbiAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZWQgPSB7fTtcbiAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2goXG4gICAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSlcbiAgICAgICk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgfVxuICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICB9XG4gIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICB9XG4gIGlmIChtaXhpbnMpIHtcbiAgICBtaXhpbnMuZm9yRWFjaChcbiAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSlcbiAgICApO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09IFwiZXhwb3NlXCIpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IHN0cmF0cyAmJiBzdHJhdHNba2V5XTtcbiAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gIGRhdGE6IG1lcmdlRGF0YUZuLFxuICBwcm9wczogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICBlbWl0czogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICAvLyBvYmplY3RzXG4gIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gbGlmZWN5Y2xlXG4gIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgLy8gYXNzZXRzXG4gIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyB3YXRjaFxuICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG87XG4gIH1cbiAgaWYgKCF0bykge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgcmV0dXJuIChleHRlbmQpKFxuICAgICAgaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sXG4gICAgICBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbVxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8sIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAodG8pIHtcbiAgICBpZiAoaXNBcnJheSh0bykgJiYgaXNBcnJheShmcm9tKSkge1xuICAgICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udG8sIC4uLmZyb21dKV07XG4gICAgfVxuICAgIHJldHVybiBleHRlbmQoXG4gICAgICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyh0byksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHMoZnJvbSAhPSBudWxsID8gZnJvbSA6IHt9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICghdG8pIHJldHVybiBmcm9tO1xuICBpZiAoIWZyb20pIHJldHVybiB0bztcbiAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gIHJldHVybiB7XG4gICAgYXBwOiBudWxsLFxuICAgIGNvbmZpZzoge1xuICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgZXJyb3JIYW5kbGVyOiB2b2lkIDAsXG4gICAgICB3YXJuSGFuZGxlcjogdm9pZCAwLFxuICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgbWl4aW5zOiBbXSxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICBwcm92aWRlczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgb3B0aW9uc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBwcm9wc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBlbWl0c0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICB9O1xufVxubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICByb290Q29tcG9uZW50ID0gZXh0ZW5kKHt9LCByb290Q29tcG9uZW50KTtcbiAgICB9XG4gICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICByb290UHJvcHMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdCBwbHVnaW5DbGVhbnVwRm5zID0gW107XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFwcCA9IGNvbnRleHQuYXBwID0ge1xuICAgICAgX3VpZDogdWlkJDErKyxcbiAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcbiAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9pbnN0YW5jZTogbnVsbCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICB9LFxuICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgZnVuY3Rpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtaXhpbihtaXhpbikge1xuICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcFwiICsgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6IFwiXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXykge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgVGhlcmUgaXMgYWxyZWFkeSBhbiBhcHAgaW5zdGFuY2UgbW91bnRlZCBvbiB0aGUgaG9zdCBjb250YWluZXIuXG4gSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsIHlvdSBuZWVkIHRvIHVubW91bnQgdGhlIHByZXZpb3VzIGFwcCBieSBjYWxsaW5nIFxcYGFwcC51bm1vdW50KClcXGAgZmlyc3QuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgdm5vZGUgPSBhcHAuX2NlVk5vZGUgfHwgY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcbiAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlbmRlcihcbiAgICAgICAgICAgICAgICBjbG9uZVZOb2RlKHZub2RlKSxcbiAgICAgICAgICAgICAgICByb290Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcbiAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Uodm5vZGUuY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXG5JZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudChjbGVhbnVwRm4pIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHlwZW9mIGNsZWFudXBGbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50IHRvIGFwcC5vblVubW91bnQoKSwgYnV0IGdvdCAke3R5cGVvZiBjbGVhbnVwRm59YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luQ2xlYW51cEZucy5wdXNoKGNsZWFudXBGbik7XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgICAgICAgcGx1Z2luQ2xlYW51cEZucyxcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UsXG4gICAgICAgICAgICAxNlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIHJ1bldpdGhDb250ZXh0KGZuKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcHAgPSBjdXJyZW50QXBwO1xuICAgICAgICBjdXJyZW50QXBwID0gYXBwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnRBcHAgPSBsYXN0QXBwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xuICB9O1xufVxubGV0IGN1cnJlbnRBcHAgPSBudWxsO1xuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xuICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcbiAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XG4gICAgfVxuICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSB8fCBjdXJyZW50QXBwKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBjdXJyZW50QXBwID8gY3VycmVudEFwcC5fY29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlID8gaW5zdGFuY2UucGFyZW50ID09IG51bGwgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXMgOiB2b2lkIDA7XG4gICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzSW5qZWN0aW9uQ29udGV4dCgpIHtcbiAgcmV0dXJuICEhKGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEFwcCk7XG59XG5cbmNvbnN0IGludGVybmFsT2JqZWN0UHJvdG8gPSB7fTtcbmNvbnN0IGNyZWF0ZUludGVybmFsT2JqZWN0ID0gKCkgPT4gT2JqZWN0LmNyZWF0ZShpbnRlcm5hbE9iamVjdFByb3RvKTtcbmNvbnN0IGlzSW50ZXJuYWxPYmplY3QgPSAob2JqKSA9PiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gaW50ZXJuYWxPYmplY3RQcm90bztcblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IgPSBmYWxzZSkge1xuICBjb25zdCBwcm9wcyA9IHt9O1xuICBjb25zdCBhdHRycyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgcHJvcHNba2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG4gIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XG59XG5mdW5jdGlvbiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkge1xuICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX2htcklkKSByZXR1cm4gdHJ1ZTtcbiAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xuICBjb25zdCB7XG4gICAgcHJvcHMsXG4gICAgYXR0cnMsXG4gICAgdm5vZGU6IHsgcGF0Y2hGbGFnIH1cbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBpZiAoXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XG4gICAgISghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSkgJiYgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJiAhKHBhdGNoRmxhZyAmIDE2KVxuICApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgaWYgKGlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoaGFzT3duKGF0dHJzLCBrZXkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAgY2FtZWxpemVkS2V5LFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XG4gICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQga2ViYWJLZXk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBpZiAoIXJhd1Byb3BzIHx8IC8vIGZvciBjYW1lbENhc2VcbiAgICAgICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXG4gICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcbiAgICAgICgoa2ViYWJLZXkgPSBoeXBoZW5hdGUoa2V5KSkgPT09IGtleSB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZWJhYktleSkpKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJiAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgKHJhd1ByZXZQcm9wc1trZXldICE9PSB2b2lkIDAgfHwgLy8gZm9yIGtlYmFiLWNhc2VcbiAgICAgICAgICByYXdQcmV2UHJvcHNba2ViYWJLZXldICE9PSB2b2lkIDApKSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoIXJhd1Byb3BzIHx8ICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgdHJ1ZSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGhhc0F0dHJzQ2hhbmdlZCkge1xuICAgIHRyaWdnZXIoaW5zdGFuY2UuYXR0cnMsIFwic2V0XCIsIFwiXCIpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XG4gIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGxldCByYXdDYXN0VmFsdWVzO1xuICBpZiAocmF3UHJvcHMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgbGV0IGNhbWVsS2V5O1xuICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpIHtcbiAgICAgICAgaWYgKCFuZWVkQ2FzdEtleXMgfHwgIW5lZWRDYXN0S2V5cy5pbmNsdWRlcyhjYW1lbEtleSkpIHtcbiAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gYXR0cnMpIHx8IHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG5lZWRDYXN0S2V5cykge1xuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICBjb25zdCBjYXN0VmFsdWVzID0gcmF3Q2FzdFZhbHVlcyB8fCBFTVBUWV9PQko7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IG5lZWRDYXN0S2V5c1tpXTtcbiAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgIGtleSxcbiAgICAgICAgY2FzdFZhbHVlc1trZXldLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgIWhhc093bihjYXN0VmFsdWVzLCBrZXkpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGFzQXR0cnNDaGFuZ2VkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XG4gIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgaWYgKG9wdCAhPSBudWxsKSB7XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc093bihvcHQsIFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoaGFzRGVmYXVsdCAmJiB2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcbiAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgIW9wdC5za2lwRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wc0RlZmF1bHRzIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHNcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICAgIGluc3RhbmNlLmNlLl9zZXRQcm9wKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0WzAgLyogc2hvdWxkQ2FzdCAqL10pIHtcbiAgICAgIGlmIChpc0Fic2VudCAmJiAhaGFzRGVmYXVsdCkge1xuICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChvcHRbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gJiYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCBtaXhpblByb3BzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIGFzTWl4aW4gPyBtaXhpblByb3BzQ2FjaGUgOiBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcyKSA9PiB7XG4gICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgaWYgKGtleXMpIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICB9XG4gICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgY29uc3QgcHJvcCA9IG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IGV4dGVuZCh7fSwgb3B0KTtcbiAgICAgICAgY29uc3QgcHJvcFR5cGUgPSBwcm9wLnR5cGU7XG4gICAgICAgIGxldCBzaG91bGRDYXN0ID0gZmFsc2U7XG4gICAgICAgIGxldCBzaG91bGRDYXN0VHJ1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpc0FycmF5KHByb3BUeXBlKSkge1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9wVHlwZS5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcm9wVHlwZVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGlzRnVuY3Rpb24odHlwZSkgJiYgdHlwZS5uYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVOYW1lID09PSBcIkJvb2xlYW5cIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVOYW1lID09PSBcIlN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHNob3VsZENhc3RUcnVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3VsZENhc3QgPSBpc0Z1bmN0aW9uKHByb3BUeXBlKSAmJiBwcm9wVHlwZS5uYW1lID09PSBcIkJvb2xlYW5cIjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBzaG91bGRDYXN0O1xuICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID0gc2hvdWxkQ2FzdFRydWU7XG4gICAgICAgIGlmIChzaG91bGRDYXN0IHx8IGhhc093bihwcm9wLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XG4gIGlmIChrZXlbMF0gIT09IFwiJFwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcbiAgaWYgKGN0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY3Rvci5uYW1lIHx8IFwiXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGN0b3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBuYW1lID0gY3Rvci5jb25zdHJ1Y3RvciAmJiBjdG9yLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgfHwgXCJcIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcbiAgY29uc3QgY2FtZWxpemVQcm9wc0tleSA9IE9iamVjdC5rZXlzKHJhd1Byb3BzKS5tYXAoKGtleSkgPT4gY2FtZWxpemUoa2V5KSk7XG4gIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgPT0gbnVsbCkgY29udGludWU7XG4gICAgdmFsaWRhdGVQcm9wKFxuICAgICAga2V5LFxuICAgICAgcmVzb2x2ZWRWYWx1ZXNba2V5XSxcbiAgICAgIG9wdCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocmVzb2x2ZWRWYWx1ZXMpIDogcmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAhY2FtZWxpemVQcm9wc0tleS5pbmNsdWRlcyhrZXkpXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKG5hbWUsIHZhbHVlLCBwcm9wLCBwcm9wcywgaXNBYnNlbnQpIHtcbiAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yLCBza2lwQ2hlY2sgfSA9IHByb3A7XG4gIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xuICAgIHdhcm4kMSgnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsICYmICFyZXF1aXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZSAhPSBudWxsICYmIHR5cGUgIT09IHRydWUgJiYgIXNraXBDaGVjaykge1xuICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XG4gICAgICBleHBlY3RlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlIHx8IFwiXCIpO1xuICAgICAgaXNWYWxpZCA9IHZhbGlkO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHdhcm4kMShnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlLCBwcm9wcykpIHtcbiAgICB3YXJuJDEoJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcbiAgfVxufVxuY29uc3QgaXNTaW1wbGVUeXBlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnRcIlxuKTtcbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcbiAgbGV0IHZhbGlkO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIm51bGxcIikge1xuICAgIHZhbGlkID0gdmFsdWUgPT09IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xuICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF2YWxpZCAmJiB0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIk9iamVjdFwiKSB7XG4gICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIkFycmF5XCIpIHtcbiAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsaWQsXG4gICAgZXhwZWN0ZWRUeXBlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGBQcm9wIHR5cGUgW10gZm9yIHByb3AgXCIke25hbWV9XCIgd29uJ3QgbWF0Y2ggYW55dGhpbmcuIERpZCB5b3UgbWVhbiB0byB1c2UgdHlwZSBBcnJheSBpbnN0ZWFkP2A7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi4gRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKFwiIHwgXCIpfWA7XG4gIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XG4gIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XG4gIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XG4gIH1cbiAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XG4gIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xuICB9XG4gIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gXCJTdHJpbmdcIikge1xuICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcIk51bWJlclwiKSB7XG4gICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgfVxufVxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcbiAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImJvb2xlYW5cIl07XG4gIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoKGVsZW0pID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XG59XG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xuICByZXR1cm4gYXJncy5zb21lKChlbGVtKSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09IFwiYm9vbGVhblwiKTtcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gXCJfXCIgfHwga2V5ID09PSBcIiRzdGFibGVcIjtcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gIGlmIChyYXdTbG90Ll9uKSB7XG4gICAgcmV0dXJuIHJhd1Nsb3Q7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHdpdGhDdHgoKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50SW5zdGFuY2UgJiYgKCFjdHggfHwgY3R4LnJvb3QgPT09IGN1cnJlbnRJbnN0YW5jZS5yb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgU2xvdCBcIiR7a2V5fVwiIGludm9rZWQgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uOiB0aGlzIHdpbGwgbm90IHRyYWNrIGRlcGVuZGVuY2llcyB1c2VkIGluIHRoZSBzbG90LiBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplU2xvdFZhbHVlKHJhd1Nsb3QoLi4uYXJncykpO1xuICB9LCBjdHgpO1xuICBub3JtYWxpemVkLl9jID0gZmFsc2U7XG4gIHJldHVybiBub3JtYWxpemVkO1xufTtcbmNvbnN0IG5vcm1hbGl6ZU9iamVjdFNsb3RzID0gKHJhd1Nsb3RzLCBzbG90cywgaW5zdGFuY2UpID0+IHtcbiAgY29uc3QgY3R4ID0gcmF3U2xvdHMuX2N0eDtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcbiAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKSBjb250aW51ZTtcbiAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICBzbG90c1trZXldID0gbm9ybWFsaXplU2xvdChrZXksIHZhbHVlLCBjdHgpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKHZhbHVlKTtcbiAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBub3JtYWxpemVkO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkgJiYgdHJ1ZSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XG4gIGluc3RhbmNlLnNsb3RzLmRlZmF1bHQgPSAoKSA9PiBub3JtYWxpemVkO1xufTtcbmNvbnN0IGFzc2lnblNsb3RzID0gKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIGNoaWxkcmVuKSB7XG4gICAgaWYgKG9wdGltaXplZCB8fCBrZXkgIT09IFwiX1wiKSB7XG4gICAgICBzbG90c1trZXldID0gY2hpbGRyZW5ba2V5XTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3Qgc2xvdHMgPSBpbnN0YW5jZS5zbG90cyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMikge1xuICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICBpZiAob3B0aW1pemVkKSB7XG4gICAgICAgIGRlZihzbG90cywgXCJfXCIsIHR5cGUsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgfVxufTtcbmNvbnN0IHVwZGF0ZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcbiAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcbiAgbGV0IGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IEVNUFRZX09CSjtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEpIHtcbiAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xuICB9XG4gIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxubGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZnVuY3Rpb24gc3RhcnRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gZW5kTWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XG4gICAgY29uc3QgZW5kVGFnID0gc3RhcnRUYWcgKyBgOmVuZGA7XG4gICAgcGVyZi5tYXJrKGVuZFRhZyk7XG4gICAgcGVyZi5tZWFzdXJlKFxuICAgICAgYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsXG4gICAgICBzdGFydFRhZyxcbiAgICAgIGVuZFRhZ1xuICAgICk7XG4gICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc1BlcmZFbmQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICBpZiAoc3VwcG9ydGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gc3VwcG9ydGVkO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbiAgfSBlbHNlIHtcbiAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiBpbml0RmVhdHVyZUZsYWdzKCkge1xuICBjb25zdCBuZWVkV2FybiA9IFtdO1xuICBpZiAodHlwZW9mIF9fVlVFX09QVElPTlNfQVBJX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9PUFRJT05TX0FQSV9fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX09QVElPTlNfQVBJX18gPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9ERVZUT09MU19fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyA9IGZhbHNlO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLmxlbmd0aCkge1xuICAgIGNvbnN0IG11bHRpID0gbmVlZFdhcm4ubGVuZ3RoID4gMTtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgRmVhdHVyZSBmbGFnJHttdWx0aSA/IGBzYCA6IGBgfSAke25lZWRXYXJuLmpvaW4oXCIsIFwiKX0gJHttdWx0aSA/IGBhcmVgIDogYGlzYH0gbm90IGV4cGxpY2l0bHkgZGVmaW5lZC4gWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUsIHdoaWNoIGV4cGVjdHMgdGhlc2UgY29tcGlsZS10aW1lIGZlYXR1cmUgZmxhZ3MgdG8gYmUgZ2xvYmFsbHkgaW5qZWN0ZWQgdmlhIHRoZSBidW5kbGVyIGNvbmZpZyBpbiBvcmRlciB0byBnZXQgYmV0dGVyIHRyZWUtc2hha2luZyBpbiB0aGUgcHJvZHVjdGlvbiBidW5kbGUuXG5cbkZvciBtb3JlIGRldGFpbHMsIHNlZSBodHRwczovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MuYFxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UgO1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xuICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xuICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyk7XG59XG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gIHtcbiAgICBpbml0RmVhdHVyZUZsYWdzKCk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xuICB0YXJnZXQuX19WVUVfXyA9IHRydWU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIHNldERldnRvb2xzSG9vayQxKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLCB0YXJnZXQpO1xuICB9XG4gIGNvbnN0IHtcbiAgICBpbnNlcnQ6IGhvc3RJbnNlcnQsXG4gICAgcmVtb3ZlOiBob3N0UmVtb3ZlLFxuICAgIHBhdGNoUHJvcDogaG9zdFBhdGNoUHJvcCxcbiAgICBjcmVhdGVFbGVtZW50OiBob3N0Q3JlYXRlRWxlbWVudCxcbiAgICBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCxcbiAgICBjcmVhdGVDb21tZW50OiBob3N0Q3JlYXRlQ29tbWVudCxcbiAgICBzZXRUZXh0OiBob3N0U2V0VGV4dCxcbiAgICBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LFxuICAgIHBhcmVudE5vZGU6IGhvc3RQYXJlbnROb2RlLFxuICAgIG5leHRTaWJsaW5nOiBob3N0TmV4dFNpYmxpbmcsXG4gICAgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLFxuICAgIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwYXRjaCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yID0gbnVsbCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCwgcGFyZW50U3VzcGVuc2UgPSBudWxsLCBuYW1lc3BhY2UgPSB2b2lkIDAsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZyA/IGZhbHNlIDogISFuMi5keW5hbWljQ2hpbGRyZW4pID0+IHtcbiAgICBpZiAobjEgPT09IG4yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuMSAmJiAhaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XG4gICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgIG4xID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4yLnBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIHByb2Nlc3NUZXh0KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29tbWVudDpcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgIG1vdW50U3RhdGljTm9kZShuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBhdGNoU3RhdGljTm9kZShuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHByb2Nlc3NGcmFnbWVudChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgcHJvY2Vzc0VsZW1lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBWTm9kZSB0eXBlOlwiLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yIHx8IG4xLCAhbjIpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVUZXh0KG4yLmNoaWxkcmVuKSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVsID0gbjIuZWwgPSBuMS5lbDtcbiAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgICAgaG9zdFNldFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21tZW50Tm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoXG4gICAgICAgIG4yLmVsID0gaG9zdENyZWF0ZUNvbW1lbnQobjIuY2hpbGRyZW4gfHwgXCJcIiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRTdGF0aWNOb2RlID0gKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQoXG4gICAgICBuMi5jaGlsZHJlbixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGFuY2hvcixcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIG4yLmVsLFxuICAgICAgbjIuYW5jaG9yXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBhbmNob3IgPSBob3N0TmV4dFNpYmxpbmcobjEuYW5jaG9yKTtcbiAgICAgIHJlbW92ZVN0YXRpY05vZGUobjEpO1xuICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQoXG4gICAgICAgIG4yLmNoaWxkcmVuLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0sIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdEluc2VydChhbmNob3IsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICB9O1xuICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0VsZW1lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGlmIChuMi50eXBlID09PSBcInN2Z1wiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgIH0gZWxzZSBpZiAobjIudHlwZSA9PT0gXCJtYXRoXCIpIHtcbiAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBtb3VudEVsZW1lbnQoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0Y2hFbGVtZW50KFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGVsO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgY29uc3QgeyBwcm9wcywgc2hhcGVGbGFnLCB0cmFuc2l0aW9uLCBkaXJzIH0gPSB2bm9kZTtcbiAgICBlbCA9IHZub2RlLmVsID0gaG9zdENyZWF0ZUVsZW1lbnQoXG4gICAgICB2bm9kZS50eXBlLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgcHJvcHMgJiYgcHJvcHMuaXMsXG4gICAgICBwcm9wc1xuICAgICk7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHZub2RlLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgIH1cbiAgICBzZXRTY29wZUlkKGVsLCB2bm9kZSwgdm5vZGUuc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gXCJ2YWx1ZVwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBudWxsLCBwcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGVmKGVsLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKGVsLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pO1xuICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcbiAgICB9XG4gICAgaWYgKHNsb3RTY29wZUlkcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90U2NvcGVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiYgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgIHN1YlRyZWUgPSBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUgfHwgaXNTdXNwZW5zZShzdWJUcmVlLnR5cGUpICYmIChzdWJUcmVlLnNzQ29udGVudCA9PT0gdm5vZGUgfHwgc3ViVHJlZS5zc0ZhbGxiYWNrID09PSB2bm9kZSkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XG4gICAgICAgIHNldFNjb3BlSWQoXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Vk5vZGUsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2NvcGVJZCxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LnBhcmVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBlbC5fX3Zub2RlID0gbjI7XG4gICAgfVxuICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcbiAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTY7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIGZhbHNlKTtcbiAgICBpZiAodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVcGRhdGVcIik7XG4gICAgfVxuICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9sZFByb3BzLmlubmVySFRNTCAmJiBuZXdQcm9wcy5pbm5lckhUTUwgPT0gbnVsbCB8fCBvbGRQcm9wcy50ZXh0Q29udGVudCAmJiBuZXdQcm9wcy50ZXh0Q29udGVudCA9PSBudWxsKSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIFwiXCIpO1xuICAgIH1cbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMikge1xuICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwiY2xhc3NcIiwgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA0KSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJzdHlsZVwiLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09IFwidmFsdWVcIikge1xuICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxKSB7XG4gICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJ1cGRhdGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hCbG9ja0NoaWxkcmVuID0gKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgZmFsbGJhY2tDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IG5ld1ZOb2RlID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICBjb25zdCBjb250YWluZXIgPSAoXG4gICAgICAgIC8vIG9sZFZOb2RlIG1heSBiZSBhbiBlcnJvcmVkIGFzeW5jIHNldHVwKCkgY29tcG9uZW50IGluc2lkZSBTdXNwZW5zZVxuICAgICAgICAvLyB3aGljaCB3aWxsIG5vdCBoYXZlIGEgbW91bnRlZCBlbGVtZW50XG4gICAgICAgIG9sZFZOb2RlLmVsICYmIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XG4gICAgICAgIC8vIG9mIHRoZSBGcmFnbWVudCBpdHNlbGYgc28gaXQgY2FuIG1vdmUgaXRzIGNoaWxkcmVuLlxuICAgICAgICAob2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBkaWZmZXJlbnQgbm9kZXMsIHRoZXJlIGlzIGdvaW5nIHRvIGJlIGEgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fCAvLyAtIEluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50LCBpdCBjb3VsZCBjb250YWluIGFueXRoaW5nLlxuICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiAoNiB8IDY0KSkgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbCkgOiAoXG4gICAgICAgICAgLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXG4gICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxuICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBwYXRjaChcbiAgICAgICAgb2xkVk5vZGUsXG4gICAgICAgIG5ld1ZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hQcm9wcyA9IChlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkUHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xuICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkgY29udGludWU7XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG5leHQgIT09IHByZXYgJiYga2V5ICE9PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBuZXdQcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gbjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDgpKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIC8vICMxMDAwN1xuICAgICAgICAvLyBzdWNoIGZyYWdtZW50IGxpa2UgYDw+PC8+YCB3aWxsIGJlIGNvbXBpbGVkIGludG9cbiAgICAgICAgLy8gYSBmcmFnbWVudCB3aGljaCBkb2Vzbid0IGhhdmUgYSBjaGlsZHJlbi5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGZhbGxiYWNrIHRvIGFuIGVtcHR5IGFycmF5XG4gICAgICAgIG4yLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAmJiBkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgbjIua2V5ICE9IG51bGwgfHwgcGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8qIHNoYWxsb3cgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoXG4gICAgICBpbml0aWFsVk5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgZmFsc2UsIG9wdGltaXplZCk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIGluaXRpYWxWTm9kZS5lbCA9IG51bGw7XG4gICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZCk7XG4gICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuMi5jb21wb25lbnQgPSBuMS5jb21wb25lbnQ7XG4gICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuMiwgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBpbnN0YW5jZS52bm9kZSA9IG4yO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudFVwZGF0ZUZuID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgY29uc3QgeyBlbCwgcHJvcHMgfSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50LCByb290LCB0eXBlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3QgaXNBc3luY1dyYXBwZXJWTm9kZSA9IGlzQXN5bmNXcmFwcGVyKGluaXRpYWxWTm9kZSk7XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKGJtKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XG4gICAgICAgICAgY29uc3QgaHlkcmF0ZVN1YlRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh5ZHJhdGVOb2RlKFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlclZOb2RlICYmIHR5cGUuX19hc3luY0h5ZHJhdGUpIHtcbiAgICAgICAgICAgIHR5cGUuX19hc3luY0h5ZHJhdGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyb290LmNlKSB7XG4gICAgICAgICAgICByb290LmNlLl9pbmplY3RDaGlsZFN0eWxlKHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHN1YlRyZWUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QobSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpKSB7XG4gICAgICAgICAgY29uc3Qgc2NvcGVkSW5pdGlhbFZOb2RlID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbFZOb2RlLnNoYXBlRmxhZyAmIDI1NiB8fCBwYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIocGFyZW50LnZub2RlKSAmJiBwYXJlbnQudm5vZGUuc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYWxWTm9kZSA9IGNvbnRhaW5lciA9IGFuY2hvciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBub25IeWRyYXRlZEFzeW5jUm9vdCA9IGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAobm9uSHlkcmF0ZWRBc3luY1Jvb3QpIHtcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9uSHlkcmF0ZWRBc3luY1Jvb3QuYXN5bmNEZXAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRVcGRhdGVGbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1KSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IG5leHRUcmVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgcHJldlRyZWUsXG4gICAgICAgICAgbmV4dFRyZWUsXG4gICAgICAgICAgLy8gcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIHRlbGVwb3J0XG4gICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxuICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xuICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVVcGRhdGVkKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGluc3RhbmNlLnNjb3BlLm9uKCk7XG4gICAgY29uc3QgZWZmZWN0ID0gaW5zdGFuY2UuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGNvbXBvbmVudFVwZGF0ZUZuKTtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBjb25zdCB1cGRhdGUgPSBpbnN0YW5jZS51cGRhdGUgPSBlZmZlY3QucnVuLmJpbmQoZWZmZWN0KTtcbiAgICBjb25zdCBqb2IgPSBpbnN0YW5jZS5qb2IgPSBlZmZlY3QucnVuSWZEaXJ0eS5iaW5kKGVmZmVjdCk7XG4gICAgam9iLmkgPSBpbnN0YW5jZTtcbiAgICBqb2IuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgZWZmZWN0LnNjaGVkdWxlciA9ICgpID0+IHF1ZXVlSm9iKGpvYik7XG4gICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGVmZmVjdC5vblRyYWNrID0gaW5zdGFuY2UucnRjID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDA7XG4gICAgICBlZmZlY3Qub25UcmlnZ2VyID0gaW5zdGFuY2UucnRnID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHVwZGF0ZSgpO1xuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xuICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xuICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xuICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcbiAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBmbHVzaFByZUZsdXNoQ2JzKGluc3RhbmNlKTtcbiAgICByZXNldFRyYWNraW5nKCk7XG4gIH07XG4gIGNvbnN0IHBhdGNoQ2hpbGRyZW4gPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcbiAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xuICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XG4gICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjgpIHtcbiAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgIGMxLFxuICAgICAgICAgIGMyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2KSB7XG4gICAgICAgIHBhdGNoVW5rZXllZENoaWxkcmVuKFxuICAgICAgICAgIGMxLFxuICAgICAgICAgIGMyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMiAhPT0gYzEpIHtcbiAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICAgIGMxLFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4KSB7XG4gICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaFVua2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgYzEgPSBjMSB8fCBFTVBUWV9BUlI7XG4gICAgYzIgPSBjMiB8fCBFTVBUWV9BUlI7XG4gICAgY29uc3Qgb2xkTGVuZ3RoID0gYzEubGVuZ3RoO1xuICAgIGNvbnN0IG5ld0xlbmd0aCA9IGMyLmxlbmd0aDtcbiAgICBjb25zdCBjb21tb25MZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGgsIG5ld0xlbmd0aCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjMVtpXSxcbiAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgIHVubW91bnRDaGlsZHJlbihcbiAgICAgICAgYzEsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMyLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XG4gICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTtcbiAgICBsZXQgZTIgPSBsMiAtIDE7XG4gICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgY29uc3QgbjEgPSBjMVtpXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgY29uc3QgbjEgPSBjMVtlMV07XG4gICAgICBjb25zdCBuMiA9IGMyW2UyXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSkgOiBub3JtYWxpemVWTm9kZShjMltlMl0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlMS0tO1xuICAgICAgZTItLTtcbiAgICB9XG4gICAgaWYgKGkgPiBlMSkge1xuICAgICAgaWYgKGkgPD0gZTIpIHtcbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IGUyICsgMTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSksXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpID4gZTIpIHtcbiAgICAgIHdoaWxlIChpIDw9IGUxKSB7XG4gICAgICAgIHVubW91bnQoYzFbaV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHMxID0gaTtcbiAgICAgIGNvbnN0IHMyID0gaTtcbiAgICAgIGNvbnN0IGtleVRvTmV3SW5kZXhNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgICAgaWYgKG5leHRDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLFxuICAgICAgICAgICAgICBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGo7XG4gICAgICBsZXQgcGF0Y2hlZCA9IDA7XG4gICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xuICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XG4gICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XG4gICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRvQmVQYXRjaGVkOyBpKyspIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XG4gICAgICBmb3IgKGkgPSBzMTsgaSA8PSBlMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xuICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3SW5kZXg7XG4gICAgICAgIGlmIChwcmV2Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGtleVRvTmV3SW5kZXhNYXAuZ2V0KHByZXZDaGlsZC5rZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoaiA9IHMyOyBqIDw9IGUyOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJiBpc1NhbWVWTm9kZVR5cGUocHJldkNoaWxkLCBjMltqXSkpIHtcbiAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcbiAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIHByZXZDaGlsZCxcbiAgICAgICAgICAgIGMyW25ld0luZGV4XSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGF0Y2hlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSA9IG1vdmVkID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKSA6IEVNUFRZX0FSUjtcbiAgICAgIGogPSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZS5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzMiArIGk7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID09PSAwKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKG1vdmVkKSB7XG4gICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XG4gICAgICAgICAgICBtb3ZlKG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIDIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB2bm9kZS5zdXNwZW5zZS5tb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZS5tb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW50ZXJuYWxzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICB9XG4gICAgICBob3N0SW5zZXJ0KHZub2RlLmFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICBtb3ZlU3RhdGljTm9kZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZWVkVHJhbnNpdGlvbjIgPSBtb3ZlVHlwZSAhPT0gMiAmJiBzaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb247XG4gICAgaWYgKG5lZWRUcmFuc2l0aW9uMikge1xuICAgICAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB0cmFuc2l0aW9uLmVudGVyKGVsKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSwgYWZ0ZXJMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcmVtb3ZlMiA9ICgpID0+IGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmUyKCk7XG4gICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgICBkZWxheUxlYXZlKGVsLCByZW1vdmUyLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICBzaGFwZUZsYWcsXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkaXJzLFxuICAgICAgY2FjaGVJbmRleFxuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAocGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGNhY2hlSW5kZXggIT0gbnVsbCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnJlbmRlckNhY2hlW2NhY2hlSW5kZXhdID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmRlYWN0aXZhdGUodm5vZGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAmJiBkaXJzO1xuICAgIGNvbnN0IHNob3VsZEludm9rZVZub2RlSG9vayA9ICFpc0FzeW5jV3JhcHBlcih2bm9kZSk7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgdW5tb3VudENvbXBvbmVudCh2bm9kZS5jb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVW5tb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICB2bm9kZS50eXBlLnJlbW92ZShcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjNTE1NFxuICAgICAgLy8gd2hlbiB2LW9uY2UgaXMgdXNlZCBpbnNpZGUgYSBibG9jaywgc2V0QmxvY2tUcmFja2luZygtMSkgbWFya3MgdGhlXG4gICAgICAvLyBwYXJlbnQgYmxvY2sgd2l0aCBoYXNPbmNlOiB0cnVlXG4gICAgICAvLyBzbyB0aGF0IGl0IGRvZXNuJ3QgdGFrZSB0aGUgZmFzdCBwYXRoIGR1cmluZyB1bm1vdW50IC0gb3RoZXJ3aXNlXG4gICAgICAvLyBjb21wb25lbnRzIG5lc3RlZCBpbiB2LW9uY2UgYXJlIG5ldmVyIHVubW91bnRlZC5cbiAgICAgICFkeW5hbWljQ2hpbGRyZW4uaGFzT25jZSAmJiAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcbiAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fCBwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0KSkge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEZyYWdtZW50ICYmIHBhdGNoRmxhZyAmICgxMjggfCAyNTYpIHx8ICFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkb1JlbW92ZSkge1xuICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIHNob3VsZEludm9rZURpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcInVubW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZSA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5wYXRjaEZsYWcgPiAwICYmIHZub2RlLnBhdGNoRmxhZyAmIDIwNDggJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjaGlsZC5lbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xuICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZXJmb3JtUmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgY3VyID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShlbmQpO1xuICB9O1xuICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIGpvYiwgc3ViVHJlZSwgdW0sIG0sIGEgfSA9IGluc3RhbmNlO1xuICAgIGludmFsaWRhdGVNb3VudChtKTtcbiAgICBpbnZhbGlkYXRlTW91bnQoYSk7XG4gICAgaWYgKGJ1bSkge1xuICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICB9XG4gICAgc2NvcGUuc3RvcCgpO1xuICAgIGlmIChqb2IpIHtcbiAgICAgIGpvYi5mbGFncyB8PSA4O1xuICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9XG4gICAgaWYgKHVtKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodW0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXBhcmVudFN1c3BlbnNlLmlzVW5tb3VudGVkICYmIGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkICYmIGluc3RhbmNlLnN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUsIG9wdGltaXplZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSAodm5vZGUpID0+IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNikge1xuICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IGVsID0gaG9zdE5leHRTaWJsaW5nKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCk7XG4gICAgY29uc3QgdGVsZXBvcnRFbmQgPSBlbCAmJiBlbFtUZWxlcG9ydEVuZEtleV07XG4gICAgcmV0dXJuIHRlbGVwb3J0RW5kID8gaG9zdE5leHRTaWJsaW5nKHRlbGVwb3J0RW5kKSA6IGVsO1xuICB9O1xuICBsZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xuICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKHZub2RlID09IG51bGwpIHtcbiAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XG4gICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjb250YWluZXIuX3Zub2RlIHx8IG51bGwsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9XG4gICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgIGlmICghaXNGbHVzaGluZykge1xuICAgICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaW50ZXJuYWxzID0ge1xuICAgIHA6IHBhdGNoLFxuICAgIHVtOiB1bm1vdW50LFxuICAgIG06IG1vdmUsXG4gICAgcjogcmVtb3ZlLFxuICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICBuOiBnZXROZXh0SG9zdE5vZGUsXG4gICAgbzogb3B0aW9uc1xuICB9O1xuICBsZXQgaHlkcmF0ZTtcbiAgbGV0IGh5ZHJhdGVOb2RlO1xuICBpZiAoY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gICAgW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXSA9IGNyZWF0ZUh5ZHJhdGlvbkZucyhcbiAgICAgIGludGVybmFsc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZW5kZXIsXG4gICAgaHlkcmF0ZSxcbiAgICBjcmVhdGVBcHA6IGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UoeyB0eXBlLCBwcm9wcyB9LCBjdXJyZW50TmFtZXNwYWNlKSB7XG4gIHJldHVybiBjdXJyZW50TmFtZXNwYWNlID09PSBcInN2Z1wiICYmIHR5cGUgPT09IFwiZm9yZWlnbk9iamVjdFwiIHx8IGN1cnJlbnROYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgJiYgdHlwZSA9PT0gXCJhbm5vdGF0aW9uLXhtbFwiICYmIHByb3BzICYmIHByb3BzLmVuY29kaW5nICYmIHByb3BzLmVuY29kaW5nLmluY2x1ZGVzKFwiaHRtbFwiKSA/IHZvaWQgMCA6IGN1cnJlbnROYW1lc3BhY2U7XG59XG5mdW5jdGlvbiB0b2dnbGVSZWN1cnNlKHsgZWZmZWN0LCBqb2IgfSwgYWxsb3dlZCkge1xuICBpZiAoYWxsb3dlZCkge1xuICAgIGVmZmVjdC5mbGFncyB8PSAzMjtcbiAgICBqb2IuZmxhZ3MgfD0gNDtcbiAgfSBlbHNlIHtcbiAgICBlZmZlY3QuZmxhZ3MgJj0gfjMyO1xuICAgIGpvYi5mbGFncyAmPSB+NDtcbiAgfVxufVxuZnVuY3Rpb24gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pIHtcbiAgcmV0dXJuICghcGFyZW50U3VzcGVuc2UgfHwgcGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xufVxuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xuICBjb25zdCBjaDEgPSBuMS5jaGlsZHJlbjtcbiAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XG4gIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaDEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMxID0gY2gxW2ldO1xuICAgICAgbGV0IGMyID0gY2gyW2ldO1xuICAgICAgaWYgKGMyLnNoYXBlRmxhZyAmIDEgJiYgIWMyLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBpZiAoYzIucGF0Y2hGbGFnIDw9IDAgfHwgYzIucGF0Y2hGbGFnID09PSAzMikge1xuICAgICAgICAgIGMyID0gY2gyW2ldID0gY2xvbmVJZk1vdW50ZWQoY2gyW2ldKTtcbiAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhbGxvdyAmJiBjMi5wYXRjaEZsYWcgIT09IC0yKVxuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oYzEsIGMyKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMi50eXBlID09PSBUZXh0KSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjMi50eXBlID09PSBDb21tZW50ICYmICFjMi5lbCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XG4gIGNvbnN0IHAgPSBhcnIuc2xpY2UoKTtcbiAgY29uc3QgcmVzdWx0ID0gWzBdO1xuICBsZXQgaSwgaiwgdSwgdiwgYztcbiAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgYXJySSA9IGFycltpXTtcbiAgICBpZiAoYXJySSAhPT0gMCkge1xuICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xuICAgICAgICBwW2ldID0gajtcbiAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdSA9IDA7XG4gICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAodSA8IHYpIHtcbiAgICAgICAgYyA9IHUgKyB2ID4+IDE7XG4gICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcbiAgICAgICAgICB1ID0gYyArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdiA9IGM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcbiAgICAgICAgaWYgKHUgPiAwKSB7XG4gICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3VdID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdSA9IHJlc3VsdC5sZW5ndGg7XG4gIHYgPSByZXN1bHRbdSAtIDFdO1xuICB3aGlsZSAodS0tID4gMCkge1xuICAgIHJlc3VsdFt1XSA9IHY7XG4gICAgdiA9IHBbdl07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHN1YkNvbXBvbmVudCA9IGluc3RhbmNlLnN1YlRyZWUuY29tcG9uZW50O1xuICBpZiAoc3ViQ29tcG9uZW50KSB7XG4gICAgaWYgKHN1YkNvbXBvbmVudC5hc3luY0RlcCAmJiAhc3ViQ29tcG9uZW50LmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiBzdWJDb21wb25lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChzdWJDb21wb25lbnQpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZU1vdW50KGhvb2tzKSB7XG4gIGlmIChob29rcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspXG4gICAgICBob29rc1tpXS5mbGFncyB8PSA4O1xuICB9XG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2wuZm9yKFwidi1zY3hcIik7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgIGlmICghY3R4KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFNlcnZlciByZW5kZXJpbmcgY29udGV4dCBub3QgcHJvdmlkZWQuIE1ha2Ugc3VyZSB0byBvbmx5IGNhbGwgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3R4O1xuICB9XG59O1xuXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJwb3N0XCIgfSkgOiB7IGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwic3luY1wiIH0pIDogeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvbmNlIH0gPSBvcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGVlcCAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbmNlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJvbmNlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYmFzZVdhdGNoT3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBiYXNlV2F0Y2hPcHRpb25zLm9uV2FybiA9IHdhcm4kMTtcbiAgY29uc3QgcnVuc0ltbWVkaWF0ZWx5ID0gY2IgJiYgaW1tZWRpYXRlIHx8ICFjYiAmJiBmbHVzaCAhPT0gXCJwb3N0XCI7XG4gIGxldCBzc3JDbGVhbnVwO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgICAgY29uc3QgY3R4ID0gdXNlU1NSQ29udGV4dCgpO1xuICAgICAgc3NyQ2xlYW51cCA9IGN0eC5fX3dhdGNoZXJIYW5kbGVzIHx8IChjdHguX193YXRjaGVySGFuZGxlcyA9IFtdKTtcbiAgICB9IGVsc2UgaWYgKCFydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIGNvbnN0IHdhdGNoU3RvcEhhbmRsZSA9ICgpID0+IHtcbiAgICAgIH07XG4gICAgICB3YXRjaFN0b3BIYW5kbGUuc3RvcCA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucmVzdW1lID0gTk9PUDtcbiAgICAgIHdhdGNoU3RvcEhhbmRsZS5wYXVzZSA9IE5PT1A7XG4gICAgICByZXR1cm4gd2F0Y2hTdG9wSGFuZGxlO1xuICAgIH1cbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgYmFzZVdhdGNoT3B0aW9ucy5jYWxsID0gKGZuLCB0eXBlLCBhcmdzKSA9PiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICBsZXQgaXNQcmUgPSBmYWxzZTtcbiAgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYikgPT4ge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoZmx1c2ggIT09IFwic3luY1wiKSB7XG4gICAgaXNQcmUgPSB0cnVlO1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYiwgaXNGaXJzdFJ1bikgPT4ge1xuICAgICAgaWYgKGlzRmlyc3RSdW4pIHtcbiAgICAgICAgam9iKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUpvYihqb2IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYmFzZVdhdGNoT3B0aW9ucy5hdWdtZW50Sm9iID0gKGpvYikgPT4ge1xuICAgIGlmIChjYikge1xuICAgICAgam9iLmZsYWdzIHw9IDQ7XG4gICAgfVxuICAgIGlmIChpc1ByZSkge1xuICAgICAgam9iLmZsYWdzIHw9IDI7XG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSB3YXRjaCQxKHNvdXJjZSwgY2IsIGJhc2VXYXRjaE9wdGlvbnMpO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKHNzckNsZWFudXApIHtcbiAgICAgIHNzckNsZWFudXAucHVzaCh3YXRjaEhhbmRsZSk7XG4gICAgfSBlbHNlIGlmIChydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIHdhdGNoSGFuZGxlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCB2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcbiAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKSA/IHNvdXJjZS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSkgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV0gOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgbGV0IGNiO1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBjYiA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcbiAgICBvcHRpb25zID0gdmFsdWU7XG4gIH1cbiAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGhpcyk7XG4gIGNvbnN0IHJlcyA9IGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zKTtcbiAgcmVzZXQoKTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGN1ciA9IGN0eDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xuICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW9kZWwocHJvcHMsIG5hbWUsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkucHJvcHNPcHRpb25zWzBdW2NhbWVsaXplZE5hbWVdKSB7XG4gICAgd2FybiQxKGB1c2VNb2RlbCgpIGNhbGxlZCB3aXRoIHByb3AgXCIke25hbWV9XCIgd2hpY2ggaXMgbm90IGRlY2xhcmVkLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBoeXBoZW5hdGVkTmFtZSA9IGh5cGhlbmF0ZShuYW1lKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGNhbWVsaXplZE5hbWUpO1xuICBjb25zdCByZXMgPSBjdXN0b21SZWYoKHRyYWNrLCB0cmlnZ2VyKSA9PiB7XG4gICAgbGV0IGxvY2FsVmFsdWU7XG4gICAgbGV0IHByZXZTZXRWYWx1ZSA9IEVNUFRZX09CSjtcbiAgICBsZXQgcHJldkVtaXR0ZWRWYWx1ZTtcbiAgICB3YXRjaFN5bmNFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbY2FtZWxpemVkTmFtZV07XG4gICAgICBpZiAoaGFzQ2hhbmdlZChsb2NhbFZhbHVlLCBwcm9wVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsVmFsdWUgPSBwcm9wVmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQgPyBvcHRpb25zLmdldChsb2NhbFZhbHVlKSA6IGxvY2FsVmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVtaXR0ZWRWYWx1ZSA9IG9wdGlvbnMuc2V0ID8gb3B0aW9ucy5zZXQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmICghaGFzQ2hhbmdlZChlbWl0dGVkVmFsdWUsIGxvY2FsVmFsdWUpICYmICEocHJldlNldFZhbHVlICE9PSBFTVBUWV9PQkogJiYgaGFzQ2hhbmdlZCh2YWx1ZSwgcHJldlNldFZhbHVlKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3UHJvcHMgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICBpZiAoIShyYXdQcm9wcyAmJiAvLyBjaGVjayBpZiBwYXJlbnQgaGFzIHBhc3NlZCB2LW1vZGVsXG4gICAgICAgIChuYW1lIGluIHJhd1Byb3BzIHx8IGNhbWVsaXplZE5hbWUgaW4gcmF3UHJvcHMgfHwgaHlwaGVuYXRlZE5hbWUgaW4gcmF3UHJvcHMpICYmIChgb25VcGRhdGU6JHtuYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7Y2FtZWxpemVkTmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2h5cGhlbmF0ZWROYW1lfWAgaW4gcmF3UHJvcHMpKSkge1xuICAgICAgICAgIGxvY2FsVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaS5lbWl0KGB1cGRhdGU6JHtuYW1lfWAsIGVtaXR0ZWRWYWx1ZSk7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBlbWl0dGVkVmFsdWUpICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkgJiYgIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBwcmV2RW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2U2V0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJldkVtaXR0ZWRWYWx1ZSA9IGVtaXR0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmVzW1N5bWJvbC5pdGVyYXRvcl0gPSAoKSA9PiB7XG4gICAgbGV0IGkyID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKGkyIDwgMikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBpMisrID8gbW9kaWZpZXJzIHx8IEVNUFRZX09CSiA6IHJlcywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gcmVzO1xufVxuY29uc3QgZ2V0TW9kZWxNb2RpZmllcnMgPSAocHJvcHMsIG1vZGVsTmFtZSkgPT4ge1xuICByZXR1cm4gbW9kZWxOYW1lID09PSBcIm1vZGVsVmFsdWVcIiB8fCBtb2RlbE5hbWUgPT09IFwibW9kZWwtdmFsdWVcIiA/IHByb3BzLm1vZGVsTW9kaWZpZXJzIDogcHJvcHNbYCR7bW9kZWxOYW1lfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2NhbWVsaXplKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF0gfHwgcHJvcHNbYCR7aHlwaGVuYXRlKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF07XG59O1xuXG5mdW5jdGlvbiBlbWl0KGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xuICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHJldHVybjtcbiAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3Qge1xuICAgICAgZW1pdHNPcHRpb25zLFxuICAgICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICAgIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoZW1pdHNPcHRpb25zKSB7XG4gICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpICYmIHRydWUpIHtcbiAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSl9XCIgcHJvcC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IHJhd0FyZ3M7XG4gIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoXCJ1cGRhdGU6XCIpO1xuICBjb25zdCBtb2RpZmllcnMgPSBpc01vZGVsTGlzdGVuZXIgJiYgZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGV2ZW50LnNsaWNlKDcpKTtcbiAgaWYgKG1vZGlmaWVycykge1xuICAgIGlmIChtb2RpZmllcnMudHJpbSkge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKChhKSA9PiBpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSk7XG4gICAgfVxuICAgIGlmIChtb2RpZmllcnMubnVtYmVyKSB7XG4gICAgICBhcmdzID0gcmF3QXJncy5tYXAobG9vc2VUb051bWJlcik7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCAke2Zvcm1hdENvbXBvbmVudE5hbWUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2UudHlwZVxuICAgICAgICApfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShcbiAgICAgICAgICBldmVudFxuICAgICAgICApfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCBoYW5kbGVyTmFtZTtcbiAgbGV0IGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCldIHx8IC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcbiAgcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKV07XG4gIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSldO1xuICB9XG4gIGlmIChoYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBoYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbiAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gIGlmIChvbmNlSGFuZGxlcikge1xuICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgb25jZUhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICBpZiAoY2FjaGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XG4gIGxldCBub3JtYWxpemVkID0ge307XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3MikgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEZyb21FeHRlbmQgPSBub3JtYWxpemVFbWl0c09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcbiAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBub3JtYWxpemVkRnJvbUV4dGVuZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgIGNhY2hlLnNldChjb21wLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIHJhdy5mb3JFYWNoKChrZXkpID0+IG5vcm1hbGl6ZWRba2V5XSA9IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGV4dGVuZChub3JtYWxpemVkLCByYXcpO1xuICB9XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbmZ1bmN0aW9uIGlzRW1pdExpc3RlbmVyKG9wdGlvbnMsIGtleSkge1xuICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBrZXkgPSBrZXkuc2xpY2UoMikucmVwbGFjZSgvT25jZSQvLCBcIlwiKTtcbiAgcmV0dXJuIGhhc093bihvcHRpb25zLCBrZXlbMF0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKSkgfHwgaGFzT3duKG9wdGlvbnMsIGh5cGhlbmF0ZShrZXkpKSB8fCBoYXNPd24ob3B0aW9ucywga2V5KTtcbn1cblxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbmZ1bmN0aW9uIG1hcmtBdHRyc0FjY2Vzc2VkKCkge1xuICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICB2bm9kZSxcbiAgICBwcm94eSxcbiAgICB3aXRoUHJveHksXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSxcbiAgICBzbG90cyxcbiAgICBhdHRycyxcbiAgICBlbWl0LFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJDYWNoZSxcbiAgICBwcm9wcyxcbiAgICBkYXRhLFxuICAgIHNldHVwU3RhdGUsXG4gICAgY3R4LFxuICAgIGluaGVyaXRBdHRyc1xuICB9ID0gaW5zdGFuY2U7XG4gIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xuICBsZXQgcmVzdWx0O1xuICBsZXQgZmFsbHRocm91Z2hBdHRycztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCkge1xuICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcbiAgICAgIGNvbnN0IHRoaXNQcm94eSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgPyBuZXcgUHJveHkocHJveHlUb1VzZSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYFByb3BlcnR5ICcke1N0cmluZyhcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApfScgd2FzIGFjY2Vzc2VkIHZpYSAndGhpcycuIEF2b2lkIHVzaW5nICd0aGlzJyBpbiB0ZW1wbGF0ZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgICAgIH1cbiAgICAgIH0pIDogcHJveHlUb1VzZTtcbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIuY2FsbChcbiAgICAgICAgICB0aGlzUHJveHksXG4gICAgICAgICAgcHJveHlUb1VzZSxcbiAgICAgICAgICByZW5kZXJDYWNoZSxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgIHNldHVwU3RhdGUsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBjdHhcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVuZGVyMiA9IENvbXBvbmVudDtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGF0dHJzID09PSBwcm9wcykge1xuICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUoXG4gICAgICAgIHJlbmRlcjIubGVuZ3RoID4gMSA/IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGF0dHJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG90cyxcbiAgICAgICAgICAgIGVtaXRcbiAgICAgICAgICB9IDogeyBhdHRycywgc2xvdHMsIGVtaXQgfVxuICAgICAgICApIDogcmVuZGVyMihcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHMgPyBhdHRycyA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSk7XG4gICAgcmVzdWx0ID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH1cbiAgbGV0IHJvb3QgPSByZXN1bHQ7XG4gIGxldCBzZXRSb290ID0gdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZXN1bHQucGF0Y2hGbGFnID4gMCAmJiByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xuICB9XG4gIGlmIChmYWxsdGhyb3VnaEF0dHJzICYmIGluaGVyaXRBdHRycyAhPT0gZmFsc2UpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XG4gICAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2KSkge1xuICAgICAgICBpZiAocHJvcHNPcHRpb25zICYmIGtleXMuc29tZShpc01vZGVsTGlzdGVuZXIpKSB7XG4gICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKFxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyxcbiAgICAgICAgICAgIHByb3BzT3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycywgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBjb25zdCBhbGxBdHRycyA9IE9iamVjdC5rZXlzKGF0dHJzKTtcbiAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xuICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWxsQXR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XG4gICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRyYUF0dHJzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKCR7ZXh0cmFBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgb3IgdGVsZXBvcnQgcm9vdCBub2Rlcy5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzICgke2V2ZW50QXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodm5vZGUuZGlycykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBSdW50aW1lIGRpcmVjdGl2ZSB1c2VkIG9uIGNvbXBvbmVudCB3aXRoIG5vbi1lbGVtZW50IHJvb3Qgbm9kZS4gVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgbnVsbCwgZmFsc2UsIHRydWUpO1xuICAgIHJvb3QuZGlycyA9IHJvb3QuZGlycyA/IHJvb3QuZGlycy5jb25jYXQodm5vZGUuZGlycykgOiB2bm9kZS5kaXJzO1xuICB9XG4gIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYENvbXBvbmVudCBpbnNpZGUgPFRyYW5zaXRpb24+IHJlbmRlcnMgbm9uLWVsZW1lbnQgcm9vdCBub2RlIHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHNldFRyYW5zaXRpb25Ib29rcyhyb290LCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXRSb290KSB7XG4gICAgc2V0Um9vdChyb290KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSByb290O1xuICB9XG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xuICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4sIGZhbHNlKTtcbiAgaWYgKCFjaGlsZFJvb3QpIHtcbiAgICByZXR1cm4gW3Zub2RlLCB2b2lkIDBdO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGRSb290LnBhdGNoRmxhZyA+IDAgJiYgY2hpbGRSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICByZXR1cm4gZ2V0Q2hpbGRSb290KGNoaWxkUm9vdCk7XG4gIH1cbiAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XG4gIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcbiAgY29uc3Qgc2V0Um9vdCA9ICh1cGRhdGVkUm9vdCkgPT4ge1xuICAgIHJhd0NoaWxkcmVuW2luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xuICAgICAgICBkeW5hbWljQ2hpbGRyZW5bZHluYW1pY0luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgICAgfSBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IFsuLi5keW5hbWljQ2hpbGRyZW4sIHVwZGF0ZWRSb290XTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XG59O1xuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbiwgcmVjdXJzZSA9IHRydWUpIHtcbiAgbGV0IHNpbmdsZVJvb3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQgfHwgY2hpbGQuY2hpbGRyZW4gPT09IFwidi1pZlwiKSB7XG4gICAgICAgIGlmIChzaW5nbGVSb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZWN1cnNlICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnID4gMCAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTaW5nbGVSb290KHNpbmdsZVJvb3QuY2hpbGRyZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzaW5nbGVSb290O1xufVxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XG4gIGxldCByZXM7XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiIHx8IGtleSA9PT0gXCJzdHlsZVwiIHx8IGlzT24oa2V5KSkge1xuICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcbiAgY29uc3QgcmVzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcbiAgICAgIHJlc1trZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBpc0VsZW1lbnRSb290ID0gKHZub2RlKSA9PiB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAoNiB8IDEpIHx8IHZub2RlLnR5cGUgPT09IENvbW1lbnQ7XG59O1xuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3QgeyBwcm9wczogcHJldlByb3BzLCBjaGlsZHJlbjogcHJldkNoaWxkcmVuLCBjb21wb25lbnQgfSA9IHByZXZWTm9kZTtcbiAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcbiAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChuZXh0Vk5vZGUuZGlycyB8fCBuZXh0Vk5vZGUudHJhbnNpdGlvbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Byb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xuICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJldlByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICB9XG4gICAgaWYgKCFuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0c09wdGlvbnMpIHtcbiAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xuICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcbiAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB1cGRhdGVIT0NIb3N0RWwoeyB2bm9kZSwgcGFyZW50IH0sIGVsKSB7XG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBjb25zdCByb290ID0gcGFyZW50LnN1YlRyZWU7XG4gICAgaWYgKHJvb3Quc3VzcGVuc2UgJiYgcm9vdC5zdXNwZW5zZS5hY3RpdmVCcmFuY2ggPT09IHZub2RlKSB7XG4gICAgICByb290LmVsID0gdm5vZGUuZWw7XG4gICAgfVxuICAgIGlmIChyb290ID09PSB2bm9kZSkge1xuICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XG5sZXQgc3VzcGVuc2VJZCA9IDA7XG5jb25zdCBTdXNwZW5zZUltcGwgPSB7XG4gIG5hbWU6IFwiU3VzcGVuc2VcIixcbiAgLy8gSW4gb3JkZXIgdG8gbWFrZSBTdXNwZW5zZSB0cmVlLXNoYWthYmxlLCB3ZSBuZWVkIHRvIGF2b2lkIGltcG9ydGluZyBpdFxuICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xuICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcbiAgLy8gaW50ZXJuYWxzLlxuICBfX2lzU3VzcGVuc2U6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRTdXNwZW5zZShcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLmRlcHMgPiAwICYmICFuMS5zdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgICAgICAgbjIuc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGF0Y2hTdXNwZW5zZShcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9XG4gIH0sXG4gIGh5ZHJhdGU6IGh5ZHJhdGVTdXNwZW5zZSxcbiAgbm9ybWFsaXplOiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuXG59O1xuY29uc3QgU3VzcGVuc2UgPSBTdXNwZW5zZUltcGwgO1xuZnVuY3Rpb24gdHJpZ2dlckV2ZW50KHZub2RlLCBuYW1lKSB7XG4gIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wc1tuYW1lXTtcbiAgaWYgKGlzRnVuY3Rpb24oZXZlbnRMaXN0ZW5lcikpIHtcbiAgICBldmVudExpc3RlbmVyKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgcDogcGF0Y2gsXG4gICAgbzogeyBjcmVhdGVFbGVtZW50IH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBhbmNob3IsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgKTtcbiAgcGF0Y2goXG4gICAgbnVsbCxcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50LFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBudWxsLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBzdXNwZW5zZSxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzXG4gICk7XG4gIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvblBlbmRpbmdcIik7XG4gICAgdHJpZ2dlckV2ZW50KHZub2RlLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUuc3NGYWxsYmFjayxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGFuY2hvcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG59XG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBwOiBwYXRjaCwgdW06IHVubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0pIHtcbiAgY29uc3Qgc3VzcGVuc2UgPSBuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlO1xuICBzdXNwZW5zZS52bm9kZSA9IG4yO1xuICBuMi5lbCA9IG4xLmVsO1xuICBjb25zdCBuZXdCcmFuY2ggPSBuMi5zc0NvbnRlbnQ7XG4gIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcbiAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xuICBpZiAocGVuZGluZ0JyYW5jaCkge1xuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIHBlbmRpbmdCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICAgIG5ld0ZhbGxiYWNrLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBwZW5kaW5nQnJhbmNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5tb3VudChwZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmRlcHMgPSAwO1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0JyYW5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyaWdnZXJFdmVudChuMiwgXCJvblBlbmRpbmdcIik7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgICAgaWYgKG5ld0JyYW5jaC5zaGFwZUZsYWcgJiA1MTIpIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gbmV3QnJhbmNoLmNvbXBvbmVudC5zdXNwZW5zZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gc3VzcGVuc2VJZCsrO1xuICAgICAgfVxuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IHRpbWVvdXQsIHBlbmRpbmdJZCB9ID0gc3VzcGVuc2U7XG4gICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdJZCA9PT0gcGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XG5mdW5jdGlvbiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaXNIeWRyYXRpbmcgPSBmYWxzZSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlICYmICFoYXNXYXJuZWQpIHtcbiAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gXCJpbmZvXCIgOiBcImxvZ1wiXShcbiAgICAgIGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCB7XG4gICAgcDogcGF0Y2gsXG4gICAgbTogbW92ZSxcbiAgICB1bTogdW5tb3VudCxcbiAgICBuOiBuZXh0LFxuICAgIG86IHsgcGFyZW50Tm9kZSwgcmVtb3ZlIH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBsZXQgcGFyZW50U3VzcGVuc2VJZDtcbiAgY29uc3QgaXNTdXNwZW5zaWJsZSA9IGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSk7XG4gIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlSWQgPSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQ7XG4gICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzKys7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRpbWVvdXQgPSB2bm9kZS5wcm9wcyA/IHRvTnVtYmVyKHZub2RlLnByb3BzLnRpbWVvdXQpIDogdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFzc2VydE51bWJlcih0aW1lb3V0LCBgU3VzcGVuc2UgdGltZW91dGApO1xuICB9XG4gIGNvbnN0IGluaXRpYWxBbmNob3IgPSBhbmNob3I7XG4gIGNvbnN0IHN1c3BlbnNlID0ge1xuICAgIHZub2RlLFxuICAgIHBhcmVudDogcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIG5hbWVzcGFjZSxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIGRlcHM6IDAsXG4gICAgcGVuZGluZ0lkOiBzdXNwZW5zZUlkKyssXG4gICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09IFwibnVtYmVyXCIgPyB0aW1lb3V0IDogLTEsXG4gICAgYWN0aXZlQnJhbmNoOiBudWxsLFxuICAgIHBlbmRpbmdCcmFuY2g6IG51bGwsXG4gICAgaXNJbkZhbGxiYWNrOiAhaXNIeWRyYXRpbmcsXG4gICAgaXNIeWRyYXRpbmcsXG4gICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgIGVmZmVjdHM6IFtdLFxuICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UsIHN5bmMgPSBmYWxzZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdm5vZGU6IHZub2RlMixcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICBwZW5kaW5nSWQsXG4gICAgICAgIGVmZmVjdHMsXG4gICAgICAgIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIyXG4gICAgICB9ID0gc3VzcGVuc2U7XG4gICAgICBsZXQgZGVsYXlFbnRlciA9IGZhbHNlO1xuICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJiBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBtb3ZlKFxuICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgICAgICBhbmNob3IgPT09IGluaXRpYWxBbmNob3IgPyBuZXh0KGFjdGl2ZUJyYW5jaCkgOiBhbmNob3IsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgIGlmIChwYXJlbnROb2RlKGFjdGl2ZUJyYW5jaC5lbCkgPT09IGNvbnRhaW5lcjIpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDIsIHN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lcjIsIGFuY2hvciwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcbiAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IGZhbHNlO1xuICAgICAgbGV0IHBhcmVudCA9IHN1c3BlbnNlLnBhcmVudDtcbiAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcbiAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgcGFyZW50LmVmZmVjdHMucHVzaCguLi5lZmZlY3RzKTtcbiAgICAgICAgICBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3RvciAmJiAhZGVsYXlFbnRlcikge1xuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuZWZmZWN0cyA9IFtdO1xuICAgICAgaWYgKGlzU3VzcGVuc2libGUpIHtcbiAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgcGFyZW50U3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwICYmICFzeW5jKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uUmVzb2x2ZVwiKTtcbiAgICB9LFxuICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcbiAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50OiBwYXJlbnRDb21wb25lbnQyLCBjb250YWluZXI6IGNvbnRhaW5lcjIsIG5hbWVzcGFjZTogbmFtZXNwYWNlMiB9ID0gc3VzcGVuc2U7XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgICBjb25zdCBhbmNob3IyID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmYWxsYmFja1ZOb2RlLFxuICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICBuYW1lc3BhY2UyLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBkZWxheUVudGVyID0gZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uICYmIGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgdW5tb3VudChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICBudWxsLFxuICAgICAgICAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XG4gICAgICAgIHRydWVcbiAgICAgICAgLy8gc2hvdWxkUmVtb3ZlXG4gICAgICApO1xuICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgIG1vdW50RmFsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdmUoY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSkge1xuICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IyLCB0eXBlKTtcbiAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjI7XG4gICAgfSxcbiAgICBuZXh0KCkge1xuICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XG4gICAgfSxcbiAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZDIpIHtcbiAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XG4gICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSkge1xuICAgICAgICBzdXNwZW5zZS5kZXBzKys7XG4gICAgICB9XG4gICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XG4gICAgICBpbnN0YW5jZS5hc3luY0RlcC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDApO1xuICAgICAgfSkudGhlbigoYXN5bmNTZXR1cFJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UucGVuZGluZ0lkICE9PSBpbnN0YW5jZS5zdXNwZW5zZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZTIpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XG4gICAgICAgICAgdm5vZGUyLmVsID0gaHlkcmF0ZWRFbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9ICFoeWRyYXRlZEVsICYmIGluc3RhbmNlLnN1YlRyZWUuZWw7XG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHZub2RlMixcbiAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGh5ZHJhdGlvbiwgaW5zdGFuY2Uuc3ViVHJlZSB3aWxsIGJlIHRoZSBjb21tZW50XG4gICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXG4gICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cbiAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxuICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkMlxuICAgICAgICApO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUyLmVsKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlMiwgZG9SZW1vdmUpIHtcbiAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2gsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlMixcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgbnVsbCxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFscyxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZFxuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzI7XG4gIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChcbiAgICBpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlblxuICApO1xuICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW4gPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICBsZXQgYmxvY2s7XG4gIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICBzLl9kID0gZmFsc2U7XG4gICAgICBvcGVuQmxvY2soKTtcbiAgICB9XG4gICAgcyA9IHMoKTtcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IHRydWU7XG4gICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgIGNsb3NlQmxvY2soKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQXJyYXkocykpIHtcbiAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXNpbmdsZUNoaWxkICYmIHMuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgIH1cbiAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gIH1cbiAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoKGMpID0+IGMgIT09IHMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICBsZXQgZWwgPSBicmFuY2guZWw7XG4gIHdoaWxlICghZWwgJiYgYnJhbmNoLmNvbXBvbmVudCkge1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wb25lbnQuc3ViVHJlZTtcbiAgICBlbCA9IGJyYW5jaC5lbDtcbiAgfVxuICB2bm9kZS5lbCA9IGVsO1xuICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNpYmxlID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMuc3VzcGVuc2libGU7XG4gIHJldHVybiBzdXNwZW5zaWJsZSAhPSBudWxsICYmIHN1c3BlbnNpYmxlICE9PSBmYWxzZTtcbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2wuZm9yKFwidi1mZ3RcIik7XG5jb25zdCBUZXh0ID0gU3ltYm9sLmZvcihcInYtdHh0XCIpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbC5mb3IoXCJ2LWNtdFwiKTtcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbC5mb3IoXCJ2LXN0Y1wiKTtcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XG4gIGJsb2NrU3RhY2sucHVzaChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pO1xufVxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcbiAgYmxvY2tTdGFjay5wb3AoKTtcbiAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5sZXQgaXNCbG9ja1RyZWVFbmFibGVkID0gMTtcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUsIGluVk9uY2UgPSBmYWxzZSkge1xuICBpc0Jsb2NrVHJlZUVuYWJsZWQgKz0gdmFsdWU7XG4gIGlmICh2YWx1ZSA8IDAgJiYgY3VycmVudEJsb2NrICYmIGluVk9uY2UpIHtcbiAgICBjdXJyZW50QmxvY2suaGFzT25jZSA9IHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldHVwQmxvY2sodm5vZGUpIHtcbiAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xuICBjbG9zZUJsb2NrKCk7XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZUJhc2VWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcbiAgcmV0dXJuIHNldHVwQmxvY2soXG4gICAgY3JlYXRlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG4yLnNoYXBlRmxhZyAmIDYgJiYgbjEuY29tcG9uZW50KSB7XG4gICAgY29uc3QgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG4yLnR5cGUpO1xuICAgIGlmIChkaXJ0eUluc3RhbmNlcyAmJiBkaXJ0eUluc3RhbmNlcy5oYXMobjEuY29tcG9uZW50KSkge1xuICAgICAgbjEuc2hhcGVGbGFnICY9IH4yNTY7XG4gICAgICBuMi5zaGFwZUZsYWcgJj0gfjUxMjtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XG59XG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcbiAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICByZXR1cm4gX2NyZWF0ZVZOb2RlKFxuICAgIC4uLnZub2RlQXJnc1RyYW5zZm9ybWVyID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSA6IGFyZ3NcbiAgKTtcbn07XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHtcbiAgcmVmLFxuICByZWZfa2V5LFxuICByZWZfZm9yXG59KSA9PiB7XG4gIGlmICh0eXBlb2YgcmVmID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVmID0gXCJcIiArIHJlZjtcbiAgfVxuICByZXR1cm4gcmVmICE9IG51bGwgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiwgazogcmVmX2tleSwgZjogISFyZWZfZm9yIH0gOiByZWYgOiBudWxsO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgc2hhcGVGbGFnID0gdHlwZSA9PT0gRnJhZ21lbnQgPyAwIDogMSwgaXNCbG9ja05vZGUgPSBmYWxzZSwgbmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB2bm9kZSA9IHtcbiAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXG4gICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgIGNoaWxkcmVuLFxuICAgIGNvbXBvbmVudDogbnVsbCxcbiAgICBzdXNwZW5zZTogbnVsbCxcbiAgICBzc0NvbnRlbnQ6IG51bGwsXG4gICAgc3NGYWxsYmFjazogbnVsbCxcbiAgICBkaXJzOiBudWxsLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgZWw6IG51bGwsXG4gICAgYW5jaG9yOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICB0YXJnZXRTdGFydDogbnVsbCxcbiAgICB0YXJnZXRBbmNob3I6IG51bGwsXG4gICAgc3RhdGljQ291bnQ6IDAsXG4gICAgc2hhcGVGbGFnLFxuICAgIHBhdGNoRmxhZyxcbiAgICBkeW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxuICAgIGFwcENvbnRleHQ6IG51bGwsXG4gICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgfTtcbiAgaWYgKG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uKSB7XG4gICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IGlzU3RyaW5nKGNoaWxkcmVuKSA/IDggOiAxNjtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xuICAgIHdhcm4kMShgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxuICAhaXNCbG9ja05vZGUgJiYgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXG4gIGN1cnJlbnRCbG9jayAmJiAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxuICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcbiAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXG4gIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cbiAgKHZub2RlLnBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNikgJiYgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXG4gIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXG4gIHZub2RlLnBhdGNoRmxhZyAhPT0gMzIpIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuY29uc3QgY3JlYXRlVk5vZGUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA6IF9jcmVhdGVWTm9kZTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0eXBlKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xuICAgIH1cbiAgICB0eXBlID0gQ29tbWVudDtcbiAgfVxuICBpZiAoaXNWTm9kZSh0eXBlKSkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICB0cnVlXG4gICAgICAvKiBtZXJnZVJlZjogdHJ1ZSAqL1xuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgIWlzQmxvY2tOb2RlICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgaWYgKGNsb25lZC5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbG9uZWQucGF0Y2hGbGFnID0gLTI7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcbiAgfVxuICBpZiAocHJvcHMpIHtcbiAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XG4gICAgICB9XG4gICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSkgPyAxIDogaXNTdXNwZW5zZSh0eXBlKSA/IDEyOCA6IGlzVGVsZXBvcnQodHlwZSkgPyA2NCA6IGlzT2JqZWN0KHR5cGUpID8gNCA6IGlzRnVuY3Rpb24odHlwZSkgPyAyIDogMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2hhcGVGbGFnICYgNCAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xuICAgIHdhcm4kMShcbiAgICAgIGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgdGhhdCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsXG4gICAgICBgXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCxcbiAgICAgIHR5cGVcbiAgICApO1xuICB9XG4gIHJldHVybiBjcmVhdGVCYXNlVk5vZGUoXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIHNoYXBlRmxhZyxcbiAgICBpc0Jsb2NrTm9kZSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBpc0ludGVybmFsT2JqZWN0KHByb3BzKSA/IGV4dGVuZCh7fSwgcHJvcHMpIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlLCBjbG9uZVRyYW5zaXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4sIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xuICBjb25zdCBjbG9uZWQgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZTogdm5vZGUudHlwZSxcbiAgICBwcm9wczogbWVyZ2VkUHJvcHMsXG4gICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxuICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZiA/IChcbiAgICAgIC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cbiAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXG4gICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xuICAgICAgbWVyZ2VSZWYgJiYgcmVmID8gaXNBcnJheShyZWYpID8gcmVmLmNvbmNhdChub3JtYWxpemVSZWYoZXh0cmFQcm9wcykpIDogW3JlZiwgbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXSA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxuICAgICkgOiByZWYsXG4gICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcbiAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICBjaGlsZHJlbjogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBwYXRjaEZsYWcgPT09IC0xICYmIGlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKSA6IGNoaWxkcmVuLFxuICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxuICAgIHRhcmdldFN0YXJ0OiB2bm9kZS50YXJnZXRTdGFydCxcbiAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50ID8gcGF0Y2hGbGFnID09PSAtMSA/IDE2IDogcGF0Y2hGbGFnIHwgMTYgOiBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgIHRyYW5zaXRpb24sXG4gICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgZWw6IHZub2RlLmVsLFxuICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yLFxuICAgIGN0eDogdm5vZGUuY3R4LFxuICAgIGNlOiB2bm9kZS5jZVxuICB9O1xuICBpZiAodHJhbnNpdGlvbiAmJiBjbG9uZVRyYW5zaXRpb24pIHtcbiAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICBjbG9uZWQsXG4gICAgICB0cmFuc2l0aW9uLmNsb25lKGNsb25lZClcbiAgICApO1xuICB9XG4gIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBkZWVwQ2xvbmVWTm9kZSh2bm9kZSkge1xuICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgaWYgKGlzQXJyYXkodm5vZGUuY2hpbGRyZW4pKSB7XG4gICAgY2xvbmVkLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSBcIiBcIiwgZmxhZyA9IDApIHtcbiAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKFN0YXRpYywgbnVsbCwgY29udGVudCk7XG4gIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSBcIlwiLCBhc0Jsb2NrID0gZmFsc2UpIHtcbiAgcmV0dXJuIGFzQmxvY2sgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQsIG51bGwsIHRleHQpKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGUoY2hpbGQpIHtcbiAgaWYgKGNoaWxkID09IG51bGwgfHwgdHlwZW9mIGNoaWxkID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShcbiAgICAgIEZyYWdtZW50LFxuICAgICAgbnVsbCxcbiAgICAgIC8vICMzNjY2LCBhdm9pZCByZWZlcmVuY2UgcG9sbHV0aW9uIHdoZW4gcmV1c2luZyB2bm9kZVxuICAgICAgY2hpbGQuc2xpY2UoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNWTm9kZShjaGlsZCkpIHtcbiAgICByZXR1cm4gY2xvbmVJZk1vdW50ZWQoY2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCBTdHJpbmcoY2hpbGQpKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcbiAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsICYmIGNoaWxkLnBhdGNoRmxhZyAhPT0gLTEgfHwgY2hpbGQubWVtbyA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pIHtcbiAgbGV0IHR5cGUgPSAwO1xuICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgY2hpbGRyZW4gPSBudWxsO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgdHlwZSA9IDE2O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChzaGFwZUZsYWcgJiAoMSB8IDY0KSkge1xuICAgICAgY29uc3Qgc2xvdCA9IGNoaWxkcmVuLmRlZmF1bHQ7XG4gICAgICBpZiAoc2xvdCkge1xuICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gZmFsc2UpO1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdCgpKTtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gMzI7XG4gICAgICBjb25zdCBzbG90RmxhZyA9IGNoaWxkcmVuLl87XG4gICAgICBpZiAoIXNsb3RGbGFnICYmICFpc0ludGVybmFsT2JqZWN0KGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgICAgfSBlbHNlIGlmIChzbG90RmxhZyA9PT0gMyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5zbG90cy5fID09PSAxKSB7XG4gICAgICAgICAgY2hpbGRyZW4uXyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGRyZW4uXyA9IDI7XG4gICAgICAgICAgdm5vZGUucGF0Y2hGbGFnIHw9IDEwMjQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcbiAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xuICAgIHR5cGUgPSAzMjtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlbiA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICB0eXBlID0gMTY7XG4gICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDg7XG4gICAgfVxuICB9XG4gIHZub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xufVxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0b01lcmdlID0gYXJnc1tpXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XG4gICAgICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xuICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgICAgICByZXQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbcmV0LnN0eWxlLCB0b01lcmdlLnN0eWxlXSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHJldFtrZXldO1xuICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgICAgaWYgKGluY29taW5nICYmIGV4aXN0aW5nICE9PSBpbmNvbWluZyAmJiAhKGlzQXJyYXkoZXhpc3RpbmcpICYmIGV4aXN0aW5nLmluY2x1ZGVzKGluY29taW5nKSkpIHtcbiAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZykgOiBpbmNvbWluZztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgIT09IFwiXCIpIHtcbiAgICAgICAgcmV0W2tleV0gPSB0b01lcmdlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBpbnZva2VWTm9kZUhvb2soaG9vaywgaW5zdGFuY2UsIHZub2RlLCBwcmV2Vk5vZGUgPSBudWxsKSB7XG4gIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA3LCBbXG4gICAgdm5vZGUsXG4gICAgcHJldlZOb2RlXG4gIF0pO1xufVxuXG5jb25zdCBlbXB0eUFwcENvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG5sZXQgdWlkID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBwYXJlbnQsIHN1c3BlbnNlKSB7XG4gIGNvbnN0IHR5cGUgPSB2bm9kZS50eXBlO1xuICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xuICBjb25zdCBpbnN0YW5jZSA9IHtcbiAgICB1aWQ6IHVpZCsrLFxuICAgIHZub2RlLFxuICAgIHR5cGUsXG4gICAgcGFyZW50LFxuICAgIGFwcENvbnRleHQsXG4gICAgcm9vdDogbnVsbCxcbiAgICAvLyB0byBiZSBpbW1lZGlhdGVseSBzZXRcbiAgICBuZXh0OiBudWxsLFxuICAgIHN1YlRyZWU6IG51bGwsXG4gICAgLy8gd2lsbCBiZSBzZXQgc3luY2hyb25vdXNseSByaWdodCBhZnRlciBjcmVhdGlvblxuICAgIGVmZmVjdDogbnVsbCxcbiAgICB1cGRhdGU6IG51bGwsXG4gICAgLy8gd2lsbCBiZSBzZXQgc3luY2hyb25vdXNseSByaWdodCBhZnRlciBjcmVhdGlvblxuICAgIGpvYjogbnVsbCxcbiAgICBzY29wZTogbmV3IEVmZmVjdFNjb3BlKFxuICAgICAgdHJ1ZVxuICAgICAgLyogZGV0YWNoZWQgKi9cbiAgICApLFxuICAgIHJlbmRlcjogbnVsbCxcbiAgICBwcm94eTogbnVsbCxcbiAgICBleHBvc2VkOiBudWxsLFxuICAgIGV4cG9zZVByb3h5OiBudWxsLFxuICAgIHdpdGhQcm94eTogbnVsbCxcbiAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcbiAgICBpZHM6IHBhcmVudCA/IHBhcmVudC5pZHMgOiBbXCJcIiwgMCwgMF0sXG4gICAgYWNjZXNzQ2FjaGU6IG51bGwsXG4gICAgcmVuZGVyQ2FjaGU6IFtdLFxuICAgIC8vIGxvY2FsIHJlc29sdmVkIGFzc2V0c1xuICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgZGlyZWN0aXZlczogbnVsbCxcbiAgICAvLyByZXNvbHZlZCBwcm9wcyBhbmQgZW1pdHMgb3B0aW9uc1xuICAgIHByb3BzT3B0aW9uczogbm9ybWFsaXplUHJvcHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgIGVtaXRzT3B0aW9uczogbm9ybWFsaXplRW1pdHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgIC8vIGVtaXRcbiAgICBlbWl0OiBudWxsLFxuICAgIC8vIHRvIGJlIHNldCBpbW1lZGlhdGVseVxuICAgIGVtaXR0ZWQ6IG51bGwsXG4gICAgLy8gcHJvcHMgZGVmYXVsdCB2YWx1ZVxuICAgIHByb3BzRGVmYXVsdHM6IEVNUFRZX09CSixcbiAgICAvLyBpbmhlcml0QXR0cnNcbiAgICBpbmhlcml0QXR0cnM6IHR5cGUuaW5oZXJpdEF0dHJzLFxuICAgIC8vIHN0YXRlXG4gICAgY3R4OiBFTVBUWV9PQkosXG4gICAgZGF0YTogRU1QVFlfT0JKLFxuICAgIHByb3BzOiBFTVBUWV9PQkosXG4gICAgYXR0cnM6IEVNUFRZX09CSixcbiAgICBzbG90czogRU1QVFlfT0JKLFxuICAgIHJlZnM6IEVNUFRZX09CSixcbiAgICBzZXR1cFN0YXRlOiBFTVBUWV9PQkosXG4gICAgc2V0dXBDb250ZXh0OiBudWxsLFxuICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcbiAgICBzdXNwZW5zZSxcbiAgICBzdXNwZW5zZUlkOiBzdXNwZW5zZSA/IHN1c3BlbnNlLnBlbmRpbmdJZCA6IDAsXG4gICAgYXN5bmNEZXA6IG51bGwsXG4gICAgYXN5bmNSZXNvbHZlZDogZmFsc2UsXG4gICAgLy8gbGlmZWN5Y2xlIGhvb2tzXG4gICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcbiAgICBiYzogbnVsbCxcbiAgICBjOiBudWxsLFxuICAgIGJtOiBudWxsLFxuICAgIG06IG51bGwsXG4gICAgYnU6IG51bGwsXG4gICAgdTogbnVsbCxcbiAgICB1bTogbnVsbCxcbiAgICBidW06IG51bGwsXG4gICAgZGE6IG51bGwsXG4gICAgYTogbnVsbCxcbiAgICBydGc6IG51bGwsXG4gICAgcnRjOiBudWxsLFxuICAgIGVjOiBudWxsLFxuICAgIHNwOiBudWxsXG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgaW5zdGFuY2UuY3R4ID0geyBfOiBpbnN0YW5jZSB9O1xuICB9XG4gIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xuICBpbnN0YW5jZS5lbWl0ID0gZW1pdC5iaW5kKG51bGwsIGluc3RhbmNlKTtcbiAgaWYgKHZub2RlLmNlKSB7XG4gICAgdm5vZGUuY2UoaW5zdGFuY2UpO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xuY29uc3QgZ2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbmxldCBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZTtcbmxldCBzZXRJblNTUlNldHVwU3RhdGU7XG57XG4gIGNvbnN0IGcgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIGNvbnN0IHJlZ2lzdGVyR2xvYmFsU2V0dGVyID0gKGtleSwgc2V0dGVyKSA9PiB7XG4gICAgbGV0IHNldHRlcnM7XG4gICAgaWYgKCEoc2V0dGVycyA9IGdba2V5XSkpIHNldHRlcnMgPSBnW2tleV0gPSBbXTtcbiAgICBzZXR0ZXJzLnB1c2goc2V0dGVyKTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgIGlmIChzZXR0ZXJzLmxlbmd0aCA+IDEpIHNldHRlcnMuZm9yRWFjaCgoc2V0KSA9PiBzZXQodikpO1xuICAgICAgZWxzZSBzZXR0ZXJzWzBdKHYpO1xuICAgIH07XG4gIH07XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlID0gcmVnaXN0ZXJHbG9iYWxTZXR0ZXIoXG4gICAgYF9fVlVFX0lOU1RBTkNFX1NFVFRFUlNfX2AsXG4gICAgKHYpID0+IGN1cnJlbnRJbnN0YW5jZSA9IHZcbiAgKTtcbiAgc2V0SW5TU1JTZXR1cFN0YXRlID0gcmVnaXN0ZXJHbG9iYWxTZXR0ZXIoXG4gICAgYF9fVlVFX1NTUl9TRVRURVJTX19gLFxuICAgICh2KSA9PiBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSB2XG4gICk7XG59XG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICBpbnN0YW5jZS5zY29wZS5vbigpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKHByZXYpO1xuICB9O1xufTtcbmNvbnN0IHVuc2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4ge1xuICBjdXJyZW50SW5zdGFuY2UgJiYgY3VycmVudEluc3RhbmNlLnNjb3BlLm9mZigpO1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcbn07XG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcInNsb3QsY29tcG9uZW50XCIpO1xuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIHsgaXNOYXRpdmVUYWcgfSkge1xuICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGlzTmF0aXZlVGFnKG5hbWUpKSB7XG4gICAgd2FybiQxKFxuICAgICAgXCJEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50IGlkOiBcIiArIG5hbWVcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiA0O1xufVxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xuZnVuY3Rpb24gc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSB7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShpc1NTUik7XG4gIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSBpbnN0YW5jZS52bm9kZTtcbiAgY29uc3QgaXNTdGF0ZWZ1bCA9IGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpO1xuICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XG4gIGluaXRTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bCA/IHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSA6IHZvaWQgMDtcbiAgaXNTU1IgJiYgc2V0SW5TU1JTZXR1cFN0YXRlKGZhbHNlKTtcbiAgcmV0dXJuIHNldHVwUmVzdWx0O1xufVxuZnVuY3Rpb24gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGlmIChDb21wb25lbnQubmFtZSkge1xuICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuY29tcG9uZW50cyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lc1tpXSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmRpcmVjdGl2ZXMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBpbGVyT3B0aW9ucyAmJiBpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFwiY29tcGlsZXJPcHRpb25zXCIgaXMgb25seSBzdXBwb3J0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZSB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyLiBTaW5jZSB5b3UgYXJlIHVzaW5nIGEgcnVudGltZS1vbmx5IGJ1aWxkLCB0aGUgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB5b3VyIGJ1aWxkIHRvb2wgY29uZmlnIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaW5zdGFuY2UuYWNjZXNzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgfVxuICBjb25zdCB7IHNldHVwIH0gPSBDb21wb25lbnQ7XG4gIGlmIChzZXR1cCkge1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBjb25zdCBzZXR1cENvbnRleHQgPSBpbnN0YW5jZS5zZXR1cENvbnRleHQgPSBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGw7XG4gICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgc2V0dXAsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDAsXG4gICAgICBbXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsXG4gICAgICAgIHNldHVwQ29udGV4dFxuICAgICAgXVxuICAgICk7XG4gICAgY29uc3QgaXNBc3luY1NldHVwID0gaXNQcm9taXNlKHNldHVwUmVzdWx0KTtcbiAgICByZXNldFRyYWNraW5nKCk7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoKGlzQXN5bmNTZXR1cCB8fCBpbnN0YW5jZS5zcCkgJiYgIWlzQXN5bmNXcmFwcGVyKGluc3RhbmNlKSkge1xuICAgICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY1NldHVwKSB7XG4gICAgICBzZXR1cFJlc3VsdC50aGVuKHVuc2V0Q3VycmVudEluc3RhbmNlLCB1bnNldEN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICBpZiAoaXNTU1IpIHtcbiAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0LnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XG4gICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0LCBpc1NTUik7XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZSwgaW5zdGFuY2UsIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpbnN0YW5jZS5zdXNwZW5zZSkge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBDb21wb25lbnQubmFtZSkgIT0gbnVsbCA/IF9hIDogXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQ29tcG9uZW50IDwke25hbWV9Pjogc2V0dXAgZnVuY3Rpb24gcmV0dXJuZWQgYSBwcm9taXNlLCBidXQgbm8gPFN1c3BlbnNlPiBib3VuZGFyeSB3YXMgZm91bmQgaW4gdGhlIHBhcmVudCBjb21wb25lbnQgdHJlZS4gQSBjb21wb25lbnQgd2l0aCBhc3luYyBzZXR1cCgpIG11c3QgYmUgbmVzdGVkIGluIGEgPFN1c3BlbnNlPiBpbiBvcmRlciB0byBiZSByZW5kZXJlZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUikge1xuICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX3NzcklubGluZVJlbmRlcikge1xuICAgICAgaW5zdGFuY2Uuc3NyUmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1ZOb2RlKHNldHVwUmVzdWx0KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xuICAgIH1cbiAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBSZXN1bHQgIT09IHZvaWQgMCkge1xuICAgIHdhcm4kMShcbiAgICAgIGBzZXR1cCgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LiBSZWNlaXZlZDogJHtzZXR1cFJlc3VsdCA9PT0gbnVsbCA/IFwibnVsbFwiIDogdHlwZW9mIHNldHVwUmVzdWx0fWBcbiAgICApO1xuICB9XG4gIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG59XG5sZXQgY29tcGlsZTtcbmxldCBpbnN0YWxsV2l0aFByb3h5O1xuZnVuY3Rpb24gcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIoX2NvbXBpbGUpIHtcbiAgY29tcGlsZSA9IF9jb21waWxlO1xuICBpbnN0YWxsV2l0aFByb3h5ID0gKGkpID0+IHtcbiAgICBpZiAoaS5yZW5kZXIuX3JjKSB7XG4gICAgICBpLndpdGhQcm94eSA9IG5ldyBQcm94eShpLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgICB9XG4gIH07XG59XG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XG5mdW5jdGlvbiBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IsIHNraXBPcHRpb25zKSB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghaW5zdGFuY2UucmVuZGVyKSB7XG4gICAgaWYgKCFpc1NTUiAmJiBjb21waWxlICYmICFDb21wb25lbnQucmVuZGVyKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IENvbXBvbmVudC50ZW1wbGF0ZSB8fCBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKS50ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGlzQ3VzdG9tRWxlbWVudCwgY29tcGlsZXJPcHRpb25zIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcbiAgICAgICAgY29uc3QgeyBkZWxpbWl0ZXJzLCBjb21waWxlck9wdGlvbnM6IGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyB9ID0gQ29tcG9uZW50O1xuICAgICAgICBjb25zdCBmaW5hbENvbXBpbGVyT3B0aW9ucyA9IGV4dGVuZChcbiAgICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgZGVsaW1pdGVyc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9uc1xuICAgICAgICAgICksXG4gICAgICAgICAgY29tcG9uZW50Q29tcGlsZXJPcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIENvbXBvbmVudC5yZW5kZXIgPSBjb21waWxlKHRlbXBsYXRlLCBmaW5hbENvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXIgPSBDb21wb25lbnQucmVuZGVyIHx8IE5PT1A7XG4gICAgaWYgKGluc3RhbGxXaXRoUHJveHkpIHtcbiAgICAgIGluc3RhbGxXaXRoUHJveHkoaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiB0cnVlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICB0cnkge1xuICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmVzZXQoKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIUNvbXBvbmVudC5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QICYmICFpc1NTUikge1xuICAgIGlmICghY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYENvbXBvbmVudCBwcm92aWRlZCB0ZW1wbGF0ZSBvcHRpb24gYnV0IHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICsgKGAgQ29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBhbGlhcyBcInZ1ZVwiIHRvIFwidnVlL2Rpc3QvdnVlLmVzbS1idW5kbGVyLmpzXCIuYCApXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuJDEoYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbjogYCwgQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IGF0dHJzUHJveHlIYW5kbGVycyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBcIlwiKTtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH0sXG4gIHNldCgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlbGV0ZVByb3BlcnR5KCkge1xuICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSA6IHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBcIlwiKTtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSB7XG4gIHJldHVybiBuZXcgUHJveHkoaW5zdGFuY2Uuc2xvdHMsIHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IGV4cG9zZSA9IChleHBvc2VkKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgIHdhcm4kMShgZXhwb3NlKCkgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIHNldHVwKCkuYCk7XG4gICAgICB9XG4gICAgICBpZiAoZXhwb3NlZCAhPSBudWxsKSB7XG4gICAgICAgIGxldCBleHBvc2VkVHlwZSA9IHR5cGVvZiBleHBvc2VkO1xuICAgICAgICBpZiAoZXhwb3NlZFR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShleHBvc2VkKSkge1xuICAgICAgICAgICAgZXhwb3NlZFR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1JlZihleHBvc2VkKSkge1xuICAgICAgICAgICAgZXhwb3NlZFR5cGUgPSBcInJlZlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwb3NlZFR5cGUgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgZXhwb3NlKCkgc2hvdWxkIGJlIHBhc3NlZCBhIHBsYWluIG9iamVjdCwgcmVjZWl2ZWQgJHtleHBvc2VkVHlwZX0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuZXhwb3NlZCA9IGV4cG9zZWQgfHwge307XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgbGV0IGF0dHJzUHJveHk7XG4gICAgbGV0IHNsb3RzUHJveHk7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICByZXR1cm4gYXR0cnNQcm94eSB8fCAoYXR0cnNQcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0cnNQcm94eUhhbmRsZXJzKSk7XG4gICAgICB9LFxuICAgICAgZ2V0IHNsb3RzKCkge1xuICAgICAgICByZXR1cm4gc2xvdHNQcm94eSB8fCAoc2xvdHNQcm94eSA9IGdldFNsb3RzUHJveHkoaW5zdGFuY2UpKTtcbiAgICAgIH0sXG4gICAgICBnZXQgZW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgZXhwb3NlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dHJzOiBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycyksXG4gICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXG4gICAgICBlbWl0OiBpbnN0YW5jZS5lbWl0LFxuICAgICAgZXhwb3NlXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuZXhwb3NlUHJveHkgfHwgKGluc3RhbmNlLmV4cG9zZVByb3h5ID0gbmV3IFByb3h5KHByb3h5UmVmcyhtYXJrUmF3KGluc3RhbmNlLmV4cG9zZWQpKSwge1xuICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgcmV0dXJuIHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiB0YXJnZXQgfHwga2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXA7XG4gICAgICB9XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbiAgfVxufVxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgKGMpID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCBcIlwiKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudCkgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgOiBDb21wb25lbnQubmFtZSB8fCBpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG5hbWUgPSBpbmZlckZyb21SZWdpc3RyeShcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgfHwgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAobCA9PT0gMikge1xuICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGwgPiAzKSB7XG4gICAgICBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgfSBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xuICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzNiYTc3NlwiIH07XG4gIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojMTY3N2ZmXCIgfTtcbiAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNmNTIyMmRcIiB9O1xuICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNlYjJmOTZcIiB9O1xuICBjb25zdCBmb3JtYXR0ZXIgPSB7XG4gICAgX192dWVfY3VzdG9tX2Zvcm1hdHRlcjogdHJ1ZSxcbiAgICBoZWFkZXIob2JqKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAob2JqLl9faXNWdWUpIHtcbiAgICAgICAgcmV0dXJuIFtcImRpdlwiLCB2dWVTdHlsZSwgYFZ1ZUluc3RhbmNlYF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVmKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgLy8gYXZvaWQgZGVidWdnZXIgYWNjZXNzaW5nIHZhbHVlIGFmZmVjdGluZyBiZWhhdmlvclxuICAgICAgICAgIGZvcm1hdFZhbHVlKFwiX3ZhbHVlXCIgaW4gb2JqID8gb2JqLl92YWx1ZSA6IG9iaiksXG4gICAgICAgICAgYD5gXG4gICAgICAgIF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgW1wic3BhblwiLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyBcIlNoYWxsb3dSZWFjdGl2ZVwiIDogXCJSZWFjdGl2ZVwiXSxcbiAgICAgICAgICBcIjxcIixcbiAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhZG9ubHlcIiA6IFwiUmVhZG9ubHlcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBcIj5cIlxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBoYXNCb2R5KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcbiAgICB9LFxuICAgIGJvZHkob2JqKSB7XG4gICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgY29uc3QgYmxvY2tzID0gW107XG4gICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJwcm9wc1wiLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcInNldHVwXCIsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcImRhdGFcIiwgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJjb21wdXRlZFwiKTtcbiAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJjb21wdXRlZFwiLCBjb21wdXRlZCkpO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3RlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCBcImluamVjdFwiKTtcbiAgICBpZiAoaW5qZWN0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJpbmplY3RlZFwiLCBpbmplY3RlZCkpO1xuICAgIH1cbiAgICBibG9ja3MucHVzaChbXG4gICAgICBcImRpdlwiLFxuICAgICAge30sXG4gICAgICBbXG4gICAgICAgIFwic3BhblwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArIFwiO29wYWNpdHk6MC42NlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJCAoaW50ZXJuYWwpOiBcIlxuICAgICAgXSxcbiAgICAgIFtcIm9iamVjdFwiLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cbiAgICBdKTtcbiAgICByZXR1cm4gYmxvY2tzO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xuICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHt9XTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0eWxlOiBcImxpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtXCIgfSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcImNvbG9yOiM0NzY1ODJcIlxuICAgICAgICB9LFxuICAgICAgICB0eXBlXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IFwicGFkZGluZy1sZWZ0OjEuMjVlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIGtleSArIFwiOiBcIl0sXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXG4gICAgICAgICAgXTtcbiAgICAgICAgfSlcbiAgICAgIF1cbiAgICBdO1xuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwgbnVtYmVyU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIGtleXdvcmRTdHlsZSwgdl07XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgICAgcmV0dXJuIFtcIm9iamVjdFwiLCB7IG9iamVjdDogYXNSYXcgPyB0b1Jhdyh2KSA6IHYgfV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xuICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dHJhY3RlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLmN0eCkge1xuICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgZXh0cmFjdGVkW2tleV0gPSBpbnN0YW5jZS5jdHhba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgfVxuICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcbiAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcbiAgICBpZiAoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkgfHwgaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKChtKSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xuICAgIGlmIChpc1NoYWxsb3codikpIHtcbiAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XG4gICAgfVxuICAgIGlmICh2LmVmZmVjdCkge1xuICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XG4gICAgfVxuICAgIHJldHVybiBgUmVmYDtcbiAgfVxuICBpZiAod2luZG93LmRldnRvb2xzRm9ybWF0dGVycykge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3aXRoTWVtbyhtZW1vLCByZW5kZXIsIGNhY2hlLCBpbmRleCkge1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZVtpbmRleF07XG4gIGlmIChjYWNoZWQgJiYgaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByZXQgPSByZW5kZXIoKTtcbiAgcmV0Lm1lbW8gPSBtZW1vLnNsaWNlKCk7XG4gIHJldC5jYWNoZUluZGV4ID0gaW5kZXg7XG4gIHJldHVybiBjYWNoZVtpbmRleF0gPSByZXQ7XG59XG5mdW5jdGlvbiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykge1xuICBjb25zdCBwcmV2ID0gY2FjaGVkLm1lbW87XG4gIGlmIChwcmV2Lmxlbmd0aCAhPSBtZW1vLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChwcmV2W2ldLCBtZW1vW2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaChjYWNoZWQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCB2ZXJzaW9uID0gXCIzLjUuMTNcIjtcbmNvbnN0IHdhcm4gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gd2FybiQxIDogTk9PUDtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSBFcnJvclR5cGVTdHJpbmdzJDEgO1xuY29uc3QgZGV2dG9vbHMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHRydWUgPyBkZXZ0b29scyQxIDogdm9pZCAwO1xuY29uc3Qgc2V0RGV2dG9vbHNIb29rID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gc2V0RGV2dG9vbHNIb29rJDEgOiBOT09QO1xuY29uc3QgX3NzclV0aWxzID0ge1xuICBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSxcbiAgc2V0dXBDb21wb25lbnQsXG4gIHJlbmRlckNvbXBvbmVudFJvb3QsXG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSxcbiAgaXNWTm9kZTogaXNWTm9kZSxcbiAgbm9ybWFsaXplVk5vZGUsXG4gIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlLFxuICBlbnN1cmVWYWxpZFZOb2RlLFxuICBwdXNoV2FybmluZ0NvbnRleHQsXG4gIHBvcFdhcm5pbmdDb250ZXh0XG59O1xuY29uc3Qgc3NyVXRpbHMgPSBfc3NyVXRpbHMgO1xuY29uc3QgcmVzb2x2ZUZpbHRlciA9IG51bGw7XG5jb25zdCBjb21wYXRVdGlscyA9IG51bGw7XG5jb25zdCBEZXByZWNhdGlvblR5cGVzID0gbnVsbDtcblxuZXhwb3J0IHsgQmFzZVRyYW5zaXRpb24sIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCBDb21tZW50LCBEZXByZWNhdGlvblR5cGVzLCBFcnJvckNvZGVzLCBFcnJvclR5cGVTdHJpbmdzLCBGcmFnbWVudCwgS2VlcEFsaXZlLCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgYXNzZXJ0TnVtYmVyLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmFzZVZOb2RlIGFzIGNyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsIGNyZWF0ZVByb3BzUmVzdFByb3h5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVFbWl0cywgZGVmaW5lRXhwb3NlLCBkZWZpbmVNb2RlbCwgZGVmaW5lT3B0aW9ucywgZGVmaW5lUHJvcHMsIGRlZmluZVNsb3RzLCBkZXZ0b29scywgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIGd1YXJkUmVhY3RpdmVQcm9wcywgaCwgaGFuZGxlRXJyb3IsIGhhc0luamVjdGlvbkNvbnRleHQsIGh5ZHJhdGVPbklkbGUsIGh5ZHJhdGVPbkludGVyYWN0aW9uLCBoeWRyYXRlT25NZWRpYVF1ZXJ5LCBoeWRyYXRlT25WaXNpYmxlLCBpbml0Q3VzdG9tRm9ybWF0dGVyLCBpbmplY3QsIGlzTWVtb1NhbWUsIGlzUnVudGltZU9ubHksIGlzVk5vZGUsIG1lcmdlRGVmYXVsdHMsIG1lcmdlTW9kZWxzLCBtZXJnZVByb3BzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNlcnZlclByZWZldGNoLCBvblVubW91bnRlZCwgb25VcGRhdGVkLCBvcGVuQmxvY2ssIHBvcFNjb3BlSWQsIHByb3ZpZGUsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWdpc3RlclJ1bnRpbWVDb21waWxlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVGaWx0ZXIsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIHNldEJsb2NrVHJhY2tpbmcsIHNldERldnRvb2xzSG9vaywgc2V0VHJhbnNpdGlvbkhvb2tzLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgdG9IYW5kbGVycywgdHJhbnNmb3JtVk5vZGVBcmdzLCB1c2VBdHRycywgdXNlSWQsIHVzZU1vZGVsLCB1c2VTU1JDb250ZXh0LCB1c2VTbG90cywgdXNlVGVtcGxhdGVSZWYsIHVzZVRyYW5zaXRpb25TdGF0ZSwgdmVyc2lvbiwgd2Fybiwgd2F0Y2gsIHdhdGNoRWZmZWN0LCB3YXRjaFBvc3RFZmZlY3QsIHdhdGNoU3luY0VmZmVjdCwgd2l0aEFzeW5jQ29udGV4dCwgd2l0aEN0eCwgd2l0aERlZmF1bHRzLCB3aXRoRGlyZWN0aXZlcywgd2l0aE1lbW8sIHdpdGhTY29wZUlkIH07XG4iLCIvKipcbiogQHZ1ZS9ydW50aW1lLWRvbSB2My41LjEzXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyB3YXJuLCBoLCBCYXNlVHJhbnNpdGlvbiwgYXNzZXJ0TnVtYmVyLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgZ2V0Q3VycmVudEluc3RhbmNlLCBvbkJlZm9yZVVwZGF0ZSwgcXVldWVQb3N0Rmx1c2hDYiwgb25Nb3VudGVkLCB3YXRjaCwgb25Vbm1vdW50ZWQsIEZyYWdtZW50LCBTdGF0aWMsIGNhbWVsaXplLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgZGVmaW5lQ29tcG9uZW50LCBuZXh0VGljaywgdW5yZWYsIGNyZWF0ZVZOb2RlLCB1c2VUcmFuc2l0aW9uU3RhdGUsIG9uVXBkYXRlZCwgdG9SYXcsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgc2V0VHJhbnNpdGlvbkhvb2tzLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBUZXh0LCBpc1J1bnRpbWVPbmx5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIgfSBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5leHBvcnQgKiBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5pbXBvcnQgeyBleHRlbmQsIGlzT2JqZWN0LCB0b051bWJlciwgaXNBcnJheSwgTk9PUCwgaXNTdHJpbmcsIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc1N5bWJvbCwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzRnVuY3Rpb24sIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgY2FtZWxpemUgYXMgY2FtZWxpemUkMSwgaXNQbGFpbk9iamVjdCwgaGFzT3duLCBFTVBUWV9PQkosIGxvb3NlVG9OdW1iZXIsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGludm9rZUFycmF5Rm5zLCBpc0hUTUxUYWcsIGlzU1ZHVGFnLCBpc01hdGhNTFRhZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxubGV0IHBvbGljeSA9IHZvaWQgMDtcbmNvbnN0IHR0ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cudHJ1c3RlZFR5cGVzO1xuaWYgKHR0KSB7XG4gIHRyeSB7XG4gICAgcG9saWN5ID0gLyogQF9fUFVSRV9fICovIHR0LmNyZWF0ZVBvbGljeShcInZ1ZVwiLCB7XG4gICAgICBjcmVhdGVIVE1MOiAodmFsKSA9PiB2YWxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgRXJyb3IgY3JlYXRpbmcgdHJ1c3RlZCB0eXBlcyBwb2xpY3k6ICR7ZX1gKTtcbiAgfVxufVxuY29uc3QgdW5zYWZlVG9UcnVzdGVkSFRNTCA9IHBvbGljeSA/ICh2YWwpID0+IHBvbGljeS5jcmVhdGVIVE1MKHZhbCkgOiAodmFsKSA9PiB2YWw7XG5jb25zdCBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmNvbnN0IG1hdGhtbE5TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7XG5jb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBkb2N1bWVudCA6IG51bGw7XG5jb25zdCB0ZW1wbGF0ZUNvbnRhaW5lciA9IGRvYyAmJiAvKiBAX19QVVJFX18gKi8gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbmNvbnN0IG5vZGVPcHMgPSB7XG4gIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcbiAgfSxcbiAgcmVtb3ZlOiAoY2hpbGQpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVFbGVtZW50OiAodGFnLCBuYW1lc3BhY2UsIGlzLCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IGVsID0gbmFtZXNwYWNlID09PSBcInN2Z1wiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKSA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGRvYy5jcmVhdGVFbGVtZW50TlMobWF0aG1sTlMsIHRhZykgOiBpcyA/IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgeyBpcyB9KSA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKHRhZyA9PT0gXCJzZWxlY3RcIiAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiLCBwcm9wcy5tdWx0aXBsZSk7XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfSxcbiAgY3JlYXRlVGV4dDogKHRleHQpID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcbiAgY3JlYXRlQ29tbWVudDogKHRleHQpID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxuICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xuICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgfSxcbiAgc2V0RWxlbWVudFRleHQ6IChlbCwgdGV4dCkgPT4ge1xuICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfSxcbiAgcGFyZW50Tm9kZTogKG5vZGUpID0+IG5vZGUucGFyZW50Tm9kZSxcbiAgbmV4dFNpYmxpbmc6IChub2RlKSA9PiBub2RlLm5leHRTaWJsaW5nLFxuICBxdWVyeVNlbGVjdG9yOiAoc2VsZWN0b3IpID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcbiAgc2V0U2NvcGVJZChlbCwgaWQpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICB9LFxuICAvLyBfX1VOU0FGRV9fXG4gIC8vIFJlYXNvbjogaW5uZXJIVE1MLlxuICAvLyBTdGF0aWMgY29udGVudCBoZXJlIGNhbiBvbmx5IGNvbWUgZnJvbSBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXG4gIGluc2VydFN0YXRpY0NvbnRlbnQoY29udGVudCwgcGFyZW50LCBhbmNob3IsIG5hbWVzcGFjZSwgc3RhcnQsIGVuZCkge1xuICAgIGNvbnN0IGJlZm9yZSA9IGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkO1xuICAgIGlmIChzdGFydCAmJiAoc3RhcnQgPT09IGVuZCB8fCBzdGFydC5uZXh0U2libGluZykpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoc3RhcnQuY2xvbmVOb2RlKHRydWUpLCBhbmNob3IpO1xuICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCB8fCAhKHN0YXJ0ID0gc3RhcnQubmV4dFNpYmxpbmcpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGVDb250YWluZXIuaW5uZXJIVE1MID0gdW5zYWZlVG9UcnVzdGVkSFRNTChcbiAgICAgICAgbmFtZXNwYWNlID09PSBcInN2Z1wiID8gYDxzdmc+JHtjb250ZW50fTwvc3ZnPmAgOiBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgPyBgPG1hdGg+JHtjb250ZW50fTwvbWF0aD5gIDogY29udGVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVDb250YWluZXIuY29udGVudDtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0ZW1wbGF0ZS5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAod3JhcHBlci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgdGVtcGxhdGUuYXBwZW5kQ2hpbGQod3JhcHBlci5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGFuY2hvcik7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAvLyBmaXJzdFxuICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAvLyBsYXN0XG4gICAgICBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZFxuICAgIF07XG4gIH1cbn07XG5cbmNvbnN0IFRSQU5TSVRJT04gPSBcInRyYW5zaXRpb25cIjtcbmNvbnN0IEFOSU1BVElPTiA9IFwiYW5pbWF0aW9uXCI7XG5jb25zdCB2dGNLZXkgPSBTeW1ib2woXCJfdnRjXCIpO1xuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgbmFtZTogU3RyaW5nLFxuICB0eXBlOiBTdHJpbmcsXG4gIGNzczoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxuICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyVG9DbGFzczogU3RyaW5nLFxuICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxuICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nXG59O1xuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoXG4gIHt9LFxuICBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9yc1xuKTtcbmNvbnN0IGRlY29yYXRlJDEgPSAodCkgPT4ge1xuICB0LmRpc3BsYXlOYW1lID0gXCJUcmFuc2l0aW9uXCI7XG4gIHQucHJvcHMgPSBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzO1xuICByZXR1cm4gdDtcbn07XG5jb25zdCBUcmFuc2l0aW9uID0gLyogQF9fUFVSRV9fICovIGRlY29yYXRlJDEoXG4gIChwcm9wcywgeyBzbG90cyB9KSA9PiBoKEJhc2VUcmFuc2l0aW9uLCByZXNvbHZlVHJhbnNpdGlvblByb3BzKHByb3BzKSwgc2xvdHMpXG4pO1xuY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XG4gIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgaG9vay5mb3JFYWNoKChoMikgPT4gaDIoLi4uYXJncykpO1xuICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICBob29rKC4uLmFyZ3MpO1xuICB9XG59O1xuY29uc3QgaGFzRXhwbGljaXRDYWxsYmFjayA9IChob29rKSA9PiB7XG4gIHJldHVybiBob29rID8gaXNBcnJheShob29rKSA/IGhvb2suc29tZSgoaDIpID0+IGgyLmxlbmd0aCA+IDEpIDogaG9vay5sZW5ndGggPiAxIDogZmFsc2U7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xuICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcbiAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcbiAgICB9XG4gIH1cbiAgaWYgKHJhd1Byb3BzLmNzcyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gYmFzZVByb3BzO1xuICB9XG4gIGNvbnN0IHtcbiAgICBuYW1lID0gXCJ2XCIsXG4gICAgdHlwZSxcbiAgICBkdXJhdGlvbixcbiAgICBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLFxuICAgIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLFxuICAgIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCxcbiAgICBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcyxcbiAgICBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsXG4gICAgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcyxcbiAgICBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLFxuICAgIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYFxuICB9ID0gcmF3UHJvcHM7XG4gIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XG4gIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xuICBjb25zdCB7XG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25MZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlcixcbiAgICBvbkFwcGVhciA9IG9uRW50ZXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkXG4gIH0gPSBiYXNlUHJvcHM7XG4gIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSwgaXNDYW5jZWxsZWQpID0+IHtcbiAgICBlbC5fZW50ZXJDYW5jZWxsZWQgPSBpc0NhbmNlbGxlZDtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XG4gICAgZWwuX2lzTGVhdmluZyA9IGZhbHNlO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XG4gICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xuICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XG4gICAgICBjYWxsSG9vayhob29rLCBbZWwsIHJlc29sdmVdKTtcbiAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGV4dGVuZChiYXNlUHJvcHMsIHtcbiAgICBvbkJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUVudGVyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUFwcGVhciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxuICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxuICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcbiAgICAgIGVsLl9pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgaWYgKCFlbC5fZW50ZXJDYW5jZWxsZWQpIHtcbiAgICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICB9XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICB9LFxuICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlLCB2b2lkIDAsIHRydWUpO1xuICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gW24sIG5dO1xuICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIocmVzLCBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgKGVsW3Z0Y0tleV0gfHwgKGVsW3Z0Y0tleV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICBlbFt2dGNLZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICBjb25zdCBpZCA9IGVsLl9lbmRJZCA9ICsrZW5kSWQ7XG4gIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXhwbGljaXRUaW1lb3V0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgfVxuICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiByZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgXCJlbmRcIjtcbiAgbGV0IGVuZGVkID0gMDtcbiAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfSwgdGltZW91dCArIDEpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8IFwiXCIpLnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0aW1lb3V0ID0gMDtcbiAgbGV0IHByb3BDb3VudCA9IDA7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQgPyBUUkFOU0lUSU9OIDogQU5JTUFUSU9OIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlID8gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aCA6IDA7XG4gIH1cbiAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3QoXG4gICAgZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059UHJvcGVydHlgKS50b1N0cmluZygpXG4gICk7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB0aW1lb3V0LFxuICAgIHByb3BDb3VudCxcbiAgICBoYXNUcmFuc2Zvcm1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcbiAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuICB9XG4gIHJldHVybiBNYXRoLm1heCguLi5kdXJhdGlvbnMubWFwKChkLCBpKSA9PiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pKSk7XG59XG5mdW5jdGlvbiB0b01zKHMpIHtcbiAgaWYgKHMgPT09IFwiYXV0b1wiKSByZXR1cm4gMDtcbiAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKFwiLFwiLCBcIi5cIikpICogMWUzO1xufVxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWxbdnRjS2V5XTtcbiAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gIH0gZWxzZSBpZiAoaXNTVkcpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdlNob3dPcmlnaW5hbERpc3BsYXkgPSBTeW1ib2woXCJfdm9kXCIpO1xuY29uc3QgdlNob3dIaWRkZW4gPSBTeW1ib2woXCJfdnNoXCIpO1xuY29uc3QgdlNob3cgPSB7XG4gIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZWwuc3R5bGUuZGlzcGxheTtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSkgcmV0dXJuO1xuICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xuICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcbiAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICB2U2hvdy5uYW1lID0gXCJzaG93XCI7XG59XG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gOiBcIm5vbmVcIjtcbiAgZWxbdlNob3dIaWRkZW5dID0gIXZhbHVlO1xufVxuZnVuY3Rpb24gaW5pdFZTaG93Rm9yU1NSKCkge1xuICB2U2hvdy5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4geyBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9IH07XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBDU1NfVkFSX1RFWFQgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQ1NTX1ZBUl9URVhUXCIgOiBcIlwiKTtcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB1cGRhdGVUZWxlcG9ydHMgPSBpbnN0YW5jZS51dCA9ICh2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KSkgPT4ge1xuICAgIEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS12LW93bmVyPVwiJHtpbnN0YW5jZS51aWR9XCJdYClcbiAgICApLmZvckVhY2goKG5vZGUpID0+IHNldFZhcnNPbk5vZGUobm9kZSwgdmFycykpO1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmdldENzc1ZhcnMgPSAoKSA9PiBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICB9XG4gIGNvbnN0IHNldFZhcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgdmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGluc3RhbmNlLmNlLCB2YXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VmFyc09uVk5vZGUoaW5zdGFuY2Uuc3ViVHJlZSwgdmFycyk7XG4gICAgfVxuICAgIHVwZGF0ZVRlbGVwb3J0cyh2YXJzKTtcbiAgfTtcbiAgb25CZWZvcmVVcGRhdGUoKCkgPT4ge1xuICAgIHF1ZXVlUG9zdEZsdXNoQ2Ioc2V0VmFycyk7XG4gIH0pO1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHdhdGNoKHNldFZhcnMsIE5PT1AsIHsgZmx1c2g6IFwicG9zdFwiIH0pO1xuICAgIGNvbnN0IG9iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoc2V0VmFycyk7XG4gICAgb2Iub2JzZXJ2ZShpbnN0YW5jZS5zdWJUcmVlLmVsLnBhcmVudE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgIG9uVW5tb3VudGVkKCgpID0+IG9iLmRpc2Nvbm5lY3QoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XG4gICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XG4gICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xuICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdoaWxlICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xuICB9XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHZub2RlLmVsKSB7XG4gICAgc2V0VmFyc09uTm9kZSh2bm9kZS5lbCwgdmFycyk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gU3RhdGljKSB7XG4gICAgbGV0IHsgZWwsIGFuY2hvciB9ID0gdm5vZGU7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKTtcbiAgICAgIGlmIChlbCA9PT0gYW5jaG9yKSBicmVhaztcbiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKSB7XG4gIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgbGV0IGNzc1RleHQgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhcnNba2V5XSk7XG4gICAgICBjc3NUZXh0ICs9IGAtLSR7a2V5fTogJHt2YXJzW2tleV19O2A7XG4gICAgfVxuICAgIHN0eWxlW0NTU19WQVJfVEVYVF0gPSBjc3NUZXh0O1xuICB9XG59XG5cbmNvbnN0IGRpc3BsYXlSRSA9IC8oXnw7KVxccypkaXNwbGF5XFxzKjovO1xuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xuICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICBjb25zdCBpc0Nzc1N0cmluZyA9IGlzU3RyaW5nKG5leHQpO1xuICBsZXQgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBmYWxzZTtcbiAgaWYgKG5leHQgJiYgIWlzQ3NzU3RyaW5nKSB7XG4gICAgaWYgKHByZXYpIHtcbiAgICAgIGlmICghaXNTdHJpbmcocHJldikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHByZXZTdHlsZSBvZiBwcmV2LnNwbGl0KFwiO1wiKSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHByZXZTdHlsZS5zbGljZSgwLCBwcmV2U3R5bGUuaW5kZXhPZihcIjpcIikpLnRyaW0oKTtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICBpZiAoa2V5ID09PSBcImRpc3BsYXlcIikge1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IHRydWU7XG4gICAgICB9XG4gICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDc3NTdHJpbmcpIHtcbiAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgIGNvbnN0IGNzc1ZhclRleHQgPSBzdHlsZVtDU1NfVkFSX1RFWFRdO1xuICAgICAgICBpZiAoY3NzVmFyVGV4dCkge1xuICAgICAgICAgIG5leHQgKz0gXCI7XCIgKyBjc3NWYXJUZXh0O1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IGRpc3BsYXlSRS50ZXN0KG5leHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJldikge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgfVxuICB9XG4gIGlmICh2U2hvd09yaWdpbmFsRGlzcGxheSBpbiBlbCkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGhhc0NvbnRyb2xsZWREaXNwbGF5ID8gc3R5bGUuZGlzcGxheSA6IFwiXCI7XG4gICAgaWYgKGVsW3ZTaG93SGlkZGVuXSkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgc2VtaWNvbG9uUkUgPSAvW15cXFxcXTtcXHMqJC87XG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xuICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsLmZvckVhY2goKHYpID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSB2YWwgPSBcIlwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoc2VtaWNvbG9uUkUudGVzdCh2YWwpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYFVuZXhwZWN0ZWQgc2VtaWNvbG9uIGF0IHRoZSBlbmQgb2YgJyR7bmFtZX0nIHN0eWxlIHZhbHVlOiAnJHt2YWx9J2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi0tXCIpKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xuICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICBoeXBoZW5hdGUocHJlZml4ZWQpLFxuICAgICAgICAgIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCBcIlwiKSxcbiAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5jb25zdCBwcmVmaXhlcyA9IFtcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCJdO1xuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcbiAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XG4gIGlmIChuYW1lICE9PSBcImZpbHRlclwiICYmIG5hbWUgaW4gc3R5bGUpIHtcbiAgICByZXR1cm4gcHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lO1xuICB9XG4gIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIG5hbWU7XG4gICAgaWYgKHByZWZpeGVkIGluIHN0eWxlKSB7XG4gICAgICByZXR1cm4gcHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBwcmVmaXhlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJhd05hbWU7XG59XG5cbmNvbnN0IHhsaW5rTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcsIGluc3RhbmNlLCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpKSB7XG4gIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aChcInhsaW5rOlwiKSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNCb29sZWFuICYmICFpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFxuICAgICAgICBrZXksXG4gICAgICAgIGlzQm9vbGVhbiA/IFwiXCIgOiBpc1N5bWJvbCh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgcGFyZW50Q29tcG9uZW50LCBhdHRyTmFtZSkge1xuICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGVsW2tleV0gPSBrZXkgPT09IFwiaW5uZXJIVE1MXCIgPyB1bnNhZmVUb1RydXN0ZWRIVE1MKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIHRhZyAhPT0gXCJQUk9HUkVTU1wiICYmIC8vIGN1c3RvbSBlbGVtZW50cyBtYXkgdXNlIF92YWx1ZSBpbnRlcm5hbGx5XG4gICF0YWcuaW5jbHVkZXMoXCItXCIpKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YWcgPT09IFwiT1BUSU9OXCIgPyBlbC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSB8fCBcIlwiIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gKFxuICAgICAgLy8gIzExNjQ3OiB2YWx1ZSBzaG91bGQgYmUgc2V0IGFzIGVtcHR5IHN0cmluZyBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkLFxuICAgICAgLy8gYnV0IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj4gc2hvdWxkIGJlIHNldCBhcyAnb24nLlxuICAgICAgZWwudHlwZSA9PT0gXCJjaGVja2JveFwiID8gXCJvblwiIDogXCJcIlxuICAgICkgOiBTdHJpbmcodmFsdWUpO1xuICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUgfHwgIShcIl92YWx1ZVwiIGluIGVsKSkge1xuICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH1cbiAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG5lZWRSZW1vdmUgPSBmYWxzZTtcbiAgaWYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB2YWx1ZSA9IGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdmFsdWUgPSAwO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgZWxba2V5XSA9IHZhbHVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW5lZWRSZW1vdmUpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7dGFnLnRvTG93ZXJDYXNlKCl9PjogdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBuZWVkUmVtb3ZlICYmIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSB8fCBrZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuY29uc3QgdmVpS2V5ID0gU3ltYm9sKFwiX3ZlaVwiKTtcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcbiAgY29uc3QgaW52b2tlcnMgPSBlbFt2ZWlLZXldIHx8IChlbFt2ZWlLZXldID0ge30pO1xuICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcbiAgaWYgKG5leHRWYWx1ZSAmJiBleGlzdGluZ0ludm9rZXIpIHtcbiAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2FuaXRpemVFdmVudFZhbHVlKG5leHRWYWx1ZSwgcmF3TmFtZSkgOiBuZXh0VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xuICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgIGNvbnN0IGludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIoXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzYW5pdGl6ZUV2ZW50VmFsdWUobmV4dFZhbHVlLCByYXdOYW1lKSA6IG5leHRWYWx1ZSxcbiAgICAgICAgaW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcbiAgICAgIGludm9rZXJzW3Jhd05hbWVdID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKG9wdGlvbnNNb2RpZmllclJFLnRlc3QobmFtZSkpIHtcbiAgICBvcHRpb25zID0ge307XG4gICAgbGV0IG07XG4gICAgd2hpbGUgKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XG4gICAgICBvcHRpb25zW21bMF0udG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBjb25zdCBldmVudCA9IG5hbWVbMl0gPT09IFwiOlwiID8gbmFtZS5zbGljZSgzKSA6IGh5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKTtcbiAgcmV0dXJuIFtldmVudCwgb3B0aW9uc107XG59XG5sZXQgY2FjaGVkTm93ID0gMDtcbmNvbnN0IHAgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5jb25zdCBnZXROb3cgPSAoKSA9PiBjYWNoZWROb3cgfHwgKHAudGhlbigoKSA9PiBjYWNoZWROb3cgPSAwKSwgY2FjaGVkTm93ID0gRGF0ZS5ub3coKSk7XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcbiAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XG4gICAgaWYgKCFlLl92dHMpIHtcbiAgICAgIGUuX3Z0cyA9IERhdGUubm93KCk7XG4gICAgfSBlbHNlIGlmIChlLl92dHMgPD0gaW52b2tlci5hdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA1LFxuICAgICAgW2VdXG4gICAgKTtcbiAgfTtcbiAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xuICByZXR1cm4gaW52b2tlcjtcbn1cbmZ1bmN0aW9uIHNhbml0aXplRXZlbnRWYWx1ZSh2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHdhcm4oXG4gICAgYFdyb25nIHR5cGUgcGFzc2VkIGFzIGV2ZW50IGhhbmRsZXIgdG8gJHtwcm9wTmFtZX0gLSBkaWQgeW91IGZvcmdldCBAIG9yIDogaW4gZnJvbnQgb2YgeW91ciBwcm9wP1xuRXhwZWN0ZWQgZnVuY3Rpb24gb3IgYXJyYXkgb2YgZnVuY3Rpb25zLCByZWNlaXZlZCB0eXBlICR7dHlwZW9mIHZhbHVlfS5gXG4gICk7XG4gIHJldHVybiBOT09QO1xufVxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XG4gICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcbiAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIHZhbHVlLm1hcChcbiAgICAgIChmbikgPT4gKGUyKSA9PiAhZTIuX3N0b3BwZWQgJiYgZm4gJiYgZm4oZTIpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgaXNOYXRpdmVPbiA9IChrZXkpID0+IGtleS5jaGFyQ29kZUF0KDApID09PSAxMTEgJiYga2V5LmNoYXJDb2RlQXQoMSkgPT09IDExMCAmJiAvLyBsb3dlcmNhc2UgbGV0dGVyXG5rZXkuY2hhckNvZGVBdCgyKSA+IDk2ICYmIGtleS5jaGFyQ29kZUF0KDIpIDwgMTIzO1xuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICBjb25zdCBpc1NWRyA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIjtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5WzBdID09PSBcIi5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIHRydWUpIDoga2V5WzBdID09PSBcIl5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIGZhbHNlKSA6IHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xuICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUpO1xuICAgIGlmICghZWwudGFnTmFtZS5pbmNsdWRlcyhcIi1cIikgJiYgKGtleSA9PT0gXCJ2YWx1ZVwiIHx8IGtleSA9PT0gXCJjaGVja2VkXCIgfHwga2V5ID09PSBcInNlbGVjdGVkXCIpKSB7XG4gICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRywgcGFyZW50Q29tcG9uZW50LCBrZXkgIT09IFwidmFsdWVcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIC8vICMxMTA4MSBmb3JjZSBzZXQgcHJvcHMgZm9yIHBvc3NpYmxlIGFzeW5jIGN1c3RvbSBlbGVtZW50XG4gICAgZWwuX2lzVnVlQ0UgJiYgKC9bQS1aXS8udGVzdChrZXkpIHx8ICFpc1N0cmluZyhuZXh0VmFsdWUpKVxuICApIHtcbiAgICBwYXRjaERPTVByb3AoZWwsIGNhbWVsaXplJDEoa2V5KSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQsIGtleSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGtleSA9PT0gXCJ0cnVlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiZmFsc2UtdmFsdWVcIikge1xuICAgICAgZWwuX2ZhbHNlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfVxuICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNob3VsZFNldEFzUHJvcChlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcbiAgaWYgKGlzU1ZHKSB7XG4gICAgaWYgKGtleSA9PT0gXCJpbm5lckhUTUxcIiB8fCBrZXkgPT09IFwidGV4dENvbnRlbnRcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChrZXkgaW4gZWwgJiYgaXNOYXRpdmVPbihrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwic3BlbGxjaGVja1wiIHx8IGtleSA9PT0gXCJkcmFnZ2FibGVcIiB8fCBrZXkgPT09IFwidHJhbnNsYXRlXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJmb3JtXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJsaXN0XCIgJiYgZWwudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwidHlwZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcIndpZHRoXCIgfHwga2V5ID09PSBcImhlaWdodFwiKSB7XG4gICAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgICBpZiAodGFnID09PSBcIklNR1wiIHx8IHRhZyA9PT0gXCJWSURFT1wiIHx8IHRhZyA9PT0gXCJDQU5WQVNcIiB8fCB0YWcgPT09IFwiU09VUkNFXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzTmF0aXZlT24oa2V5KSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGtleSBpbiBlbDtcbn1cblxuY29uc3QgUkVNT1ZBTCA9IHt9O1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBleHRyYU9wdGlvbnMsIF9jcmVhdGVBcHApIHtcbiAgY29uc3QgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zLCBleHRyYU9wdGlvbnMpO1xuICBpZiAoaXNQbGFpbk9iamVjdChDb21wKSkgZXh0ZW5kKENvbXAsIGV4dHJhT3B0aW9ucyk7XG4gIGNsYXNzIFZ1ZUN1c3RvbUVsZW1lbnQgZXh0ZW5kcyBWdWVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsUHJvcHMpIHtcbiAgICAgIHN1cGVyKENvbXAsIGluaXRpYWxQcm9wcywgX2NyZWF0ZUFwcCk7XG4gICAgfVxuICB9XG4gIFZ1ZUN1c3RvbUVsZW1lbnQuZGVmID0gQ29tcDtcbiAgcmV0dXJuIFZ1ZUN1c3RvbUVsZW1lbnQ7XG59XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQgPSAvKiBAX19OT19TSURFX0VGRkVDVFNfXyAqLyAob3B0aW9ucywgZXh0cmFPcHRpb25zKSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBleHRyYU9wdGlvbnMsIGNyZWF0ZVNTUkFwcCk7XG59O1xuY29uc3QgQmFzZUNsYXNzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gSFRNTEVsZW1lbnQgOiBjbGFzcyB7XG59O1xuY2xhc3MgVnVlRWxlbWVudCBleHRlbmRzIEJhc2VDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF9kZWYsIF9wcm9wcyA9IHt9LCBfY3JlYXRlQXBwID0gY3JlYXRlQXBwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kZWYgPSBfZGVmO1xuICAgIHRoaXMuX3Byb3BzID0gX3Byb3BzO1xuICAgIHRoaXMuX2NyZWF0ZUFwcCA9IF9jcmVhdGVBcHA7XG4gICAgdGhpcy5faXNWdWVDRSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2FwcCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fbm9uY2UgPSB0aGlzLl9kZWYubm9uY2U7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fc3R5bGVDaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIF9jcmVhdGVBcHAgIT09IGNyZWF0ZUFwcCkge1xuICAgICAgdGhpcy5fcm9vdCA9IHRoaXMuc2hhZG93Um9vdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYEN1c3RvbSBlbGVtZW50IGhhcyBwcmUtcmVuZGVyZWQgZGVjbGFyYXRpdmUgc2hhZG93IHJvb3QgYnV0IGlzIG5vdCBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChfZGVmLnNoYWRvd1Jvb3QgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJvcGVuXCIgfSk7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9kZWYuX19hc3luY0xvYWRlcikge1xuICAgICAgdGhpcy5fcmVzb2x2ZVByb3BzKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICB0aGlzLl9wYXJzZVNsb3RzKCk7XG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudCAmJiAocGFyZW50LnBhcmVudE5vZGUgfHwgcGFyZW50Lmhvc3QpKSB7XG4gICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgVnVlRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICBpZiAodGhpcy5fcmVzb2x2ZWQpIHtcbiAgICAgICAgdGhpcy5fc2V0UGFyZW50KCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmdSZXNvbHZlKSB7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmUgPSBwYXJlbnQuX3BlbmRpbmdSZXNvbHZlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmUgPSB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmVzb2x2ZURlZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9zZXRQYXJlbnQocGFyZW50ID0gdGhpcy5fcGFyZW50KSB7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5faW5zdGFuY2UucGFyZW50ID0gcGFyZW50Ll9pbnN0YW5jZTtcbiAgICAgIHRoaXMuX2luc3RhbmNlLnByb3ZpZGVzID0gcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlcztcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHAgJiYgdGhpcy5fYXBwLnVubW91bnQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB0aGlzLl9pbnN0YW5jZS5jZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fYXBwID0gdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgKi9cbiAgX3Jlc29sdmVEZWYoKSB7XG4gICAgaWYgKHRoaXMuX3BlbmRpbmdSZXNvbHZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplJDEoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN0eWxlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQ3VzdG9tIGVsZW1lbnQgc3R5bGUgaW5qZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBzaGFkb3dSb290OiBmYWxzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3VudChkZWYpO1xuICAgIH07XG4gICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gYXN5bmNEZWYoKS50aGVuKFxuICAgICAgICAoZGVmKSA9PiByZXNvbHZlKHRoaXMuX2RlZiA9IGRlZiwgdHJ1ZSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUodGhpcy5fZGVmKTtcbiAgICB9XG4gIH1cbiAgX21vdW50KGRlZikge1xuICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmICFkZWYubmFtZSkge1xuICAgICAgZGVmLm5hbWUgPSBcIlZ1ZUVsZW1lbnRcIjtcbiAgICB9XG4gICAgdGhpcy5fYXBwID0gdGhpcy5fY3JlYXRlQXBwKGRlZik7XG4gICAgaWYgKGRlZi5jb25maWd1cmVBcHApIHtcbiAgICAgIGRlZi5jb25maWd1cmVBcHAodGhpcy5fYXBwKTtcbiAgICB9XG4gICAgdGhpcy5fYXBwLl9jZVZOb2RlID0gdGhpcy5fY3JlYXRlVk5vZGUoKTtcbiAgICB0aGlzLl9hcHAubW91bnQodGhpcy5fcm9vdCk7XG4gICAgY29uc3QgZXhwb3NlZCA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmV4cG9zZWQ7XG4gICAgaWYgKCFleHBvc2VkKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZXhwb3NlZCkge1xuICAgICAgaWYgKCFoYXNPd24odGhpcywga2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgLy8gdW53cmFwIHJlZiB0byBiZSBjb25zaXN0ZW50IHdpdGggcHVibGljIGluc3RhbmNlIGJlaGF2aW9yXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihleHBvc2VkW2tleV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4oYEV4cG9zZWQgcHJvcGVydHkgXCIke2tleX1cIiBhbHJlYWR5IGV4aXN0cyBvbiBjdXN0b20gZWxlbWVudC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9zZXRBdHRyKGtleSkge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcImRhdGEtdi1cIikpIHJldHVybjtcbiAgICBjb25zdCBoYXMgPSB0aGlzLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgIGxldCB2YWx1ZSA9IGhhcyA/IHRoaXMuZ2V0QXR0cmlidXRlKGtleSkgOiBSRU1PVkFMO1xuICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUkMShrZXkpO1xuICAgIGlmIChoYXMgJiYgdGhpcy5fbnVtYmVyUHJvcHMgJiYgdGhpcy5fbnVtYmVyUHJvcHNbY2FtZWxLZXldKSB7XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5fc2V0UHJvcChjYW1lbEtleSwgdmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZ2V0UHJvcChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcHNba2V5XTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfc2V0UHJvcChrZXksIHZhbCwgc2hvdWxkUmVmbGVjdCA9IHRydWUsIHNob3VsZFVwZGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHZhbCAhPT0gdGhpcy5fcHJvcHNba2V5XSkge1xuICAgICAgaWYgKHZhbCA9PT0gUkVNT1ZBTCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICAgIGlmIChrZXkgPT09IFwia2V5XCIgJiYgdGhpcy5fYXBwKSB7XG4gICAgICAgICAgdGhpcy5fYXBwLl9jZVZOb2RlLmtleSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFVwZGF0ZSAmJiB0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRSZWZsZWN0KSB7XG4gICAgICAgIGNvbnN0IG9iID0gdGhpcy5fb2I7XG4gICAgICAgIG9iICYmIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBvYiAmJiBvYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZSgpIHtcbiAgICByZW5kZXIodGhpcy5fY3JlYXRlVk5vZGUoKSwgdGhpcy5fcm9vdCk7XG4gIH1cbiAgX2NyZWF0ZVZOb2RlKCkge1xuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICBiYXNlUHJvcHMub25Wbm9kZU1vdW50ZWQgPSBiYXNlUHJvcHMub25Wbm9kZVVwZGF0ZWQgPSB0aGlzLl9yZW5kZXJTbG90cy5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHRoaXMuX2RlZiwgZXh0ZW5kKGJhc2VQcm9wcywgdGhpcy5fcHJvcHMpKTtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB2bm9kZS5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBpbnN0YW5jZS5jZSA9IHRoaXM7XG4gICAgICAgIGluc3RhbmNlLmlzQ0UgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkID0gKG5ld1N0eWxlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlcykge1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMuZm9yRWFjaCgocykgPT4gdGhpcy5fcm9vdC5yZW1vdmVDaGlsZChzKSk7XG4gICAgICAgICAgICAgIHRoaXMuX3N0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMobmV3U3R5bGVzKTtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzcGF0Y2ggPSAoZXZlbnQsIGFyZ3MpID0+IHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KGFyZ3NbMF0pID8gZXh0ZW5kKHsgZGV0YWlsOiBhcmdzIH0sIGFyZ3NbMF0pIDogeyBkZXRhaWw6IGFyZ3MgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIGluc3RhbmNlLmVtaXQgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICBkaXNwYXRjaChldmVudCwgYXJncyk7XG4gICAgICAgICAgaWYgKGh5cGhlbmF0ZShldmVudCkgIT09IGV2ZW50KSB7XG4gICAgICAgICAgICBkaXNwYXRjaChoeXBoZW5hdGUoZXZlbnQpLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3NldFBhcmVudCgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIF9hcHBseVN0eWxlcyhzdHlsZXMsIG93bmVyKSB7XG4gICAgaWYgKCFzdHlsZXMpIHJldHVybjtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIGlmIChvd25lciA9PT0gdGhpcy5fZGVmIHx8IHRoaXMuX3N0eWxlQ2hpbGRyZW4uaGFzKG93bmVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9zdHlsZUNoaWxkcmVuLmFkZChvd25lcik7XG4gICAgfVxuICAgIGNvbnN0IG5vbmNlID0gdGhpcy5fbm9uY2U7XG4gICAgZm9yIChsZXQgaSA9IHN0eWxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgIGlmIChub25jZSkgcy5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gICAgICBzLnRleHRDb250ZW50ID0gc3R5bGVzW2ldO1xuICAgICAgdGhpcy5zaGFkb3dSb290LnByZXBlbmQocyk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgICBpZiAob3duZXIuX19obXJJZCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGlsZFN0eWxlcykgdGhpcy5fY2hpbGRTdHlsZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy5fY2hpbGRTdHlsZXMuZ2V0KG93bmVyLl9faG1ySWQpO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICB0aGlzLl9jaGlsZFN0eWxlcy5zZXQob3duZXIuX19obXJJZCwgZW50cnkgPSBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRyeS5wdXNoKHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAodGhpcy5fc3R5bGVzIHx8ICh0aGlzLl9zdHlsZXMgPSBbXSkpLnB1c2gocyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9ubHkgY2FsbGVkIHdoZW4gc2hhZG93Um9vdCBpcyBmYWxzZVxuICAgKi9cbiAgX3BhcnNlU2xvdHMoKSB7XG4gICAgY29uc3Qgc2xvdHMgPSB0aGlzLl9zbG90cyA9IHt9O1xuICAgIGxldCBuO1xuICAgIHdoaWxlIChuID0gdGhpcy5maXJzdENoaWxkKSB7XG4gICAgICBjb25zdCBzbG90TmFtZSA9IG4ubm9kZVR5cGUgPT09IDEgJiYgbi5nZXRBdHRyaWJ1dGUoXCJzbG90XCIpIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgKHNsb3RzW3Nsb3ROYW1lXSB8fCAoc2xvdHNbc2xvdE5hbWVdID0gW10pKS5wdXNoKG4pO1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChuKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9ubHkgY2FsbGVkIHdoZW4gc2hhZG93Um9vdCBpcyBmYWxzZVxuICAgKi9cbiAgX3JlbmRlclNsb3RzKCkge1xuICAgIGNvbnN0IG91dGxldHMgPSAodGhpcy5fdGVsZXBvcnRUYXJnZXQgfHwgdGhpcykucXVlcnlTZWxlY3RvckFsbChcInNsb3RcIik7XG4gICAgY29uc3Qgc2NvcGVJZCA9IHRoaXMuX2luc3RhbmNlLnR5cGUuX19zY29wZUlkO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0bGV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbyA9IG91dGxldHNbaV07XG4gICAgICBjb25zdCBzbG90TmFtZSA9IG8uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLl9zbG90c1tzbG90TmFtZV07XG4gICAgICBjb25zdCBwYXJlbnQgPSBvLnBhcmVudE5vZGU7XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgY29udGVudCkge1xuICAgICAgICAgIGlmIChzY29wZUlkICYmIG4ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gc2NvcGVJZCArIFwiLXNcIjtcbiAgICAgICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIobiwgMSk7XG4gICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gICAgICAgICAgICBsZXQgY2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgPSB3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG4sIG8pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoby5maXJzdENoaWxkKSBwYXJlbnQuaW5zZXJ0QmVmb3JlKG8uZmlyc3RDaGlsZCwgbyk7XG4gICAgICB9XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9pbmplY3RDaGlsZFN0eWxlKGNvbXApIHtcbiAgICB0aGlzLl9hcHBseVN0eWxlcyhjb21wLnN0eWxlcywgY29tcCk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3JlbW92ZUNoaWxkU3R5bGUoY29tcCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLl9zdHlsZUNoaWxkcmVuLmRlbGV0ZShjb21wKTtcbiAgICAgIGlmICh0aGlzLl9jaGlsZFN0eWxlcyAmJiBjb21wLl9faG1ySWQpIHtcbiAgICAgICAgY29uc3Qgb2xkU3R5bGVzID0gdGhpcy5fY2hpbGRTdHlsZXMuZ2V0KGNvbXAuX19obXJJZCk7XG4gICAgICAgIGlmIChvbGRTdHlsZXMpIHtcbiAgICAgICAgICBvbGRTdHlsZXMuZm9yRWFjaCgocykgPT4gdGhpcy5fcm9vdC5yZW1vdmVDaGlsZChzKSk7XG4gICAgICAgICAgb2xkU3R5bGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZUhvc3QoY2FsbGVyKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IGVsID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY2U7XG4gIGlmIChlbCkge1xuICAgIHJldHVybiBlbDtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FsbGVyIHx8IFwidXNlSG9zdFwifSBjYWxsZWQgd2l0aG91dCBhbiBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhbGxlciB8fCBcInVzZUhvc3RcIn0gY2FuIG9ubHkgYmUgdXNlZCBpbiBjb21wb25lbnRzIGRlZmluZWQgdmlhIGRlZmluZUN1c3RvbUVsZW1lbnQuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VTaGFkb3dSb290KCkge1xuICBjb25zdCBlbCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB1c2VIb3N0KFwidXNlU2hhZG93Um9vdFwiKSA6IHVzZUhvc3QoKTtcbiAgcmV0dXJuIGVsICYmIGVsLnNoYWRvd1Jvb3Q7XG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gXCIkc3R5bGVcIikge1xuICB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xuICAgIGlmICghbW9kdWxlcykge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xuICAgIGlmICghbW9kKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgcmV0dXJuIG1vZDtcbiAgfVxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbmV3UG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG1vdmVDYktleSA9IFN5bWJvbChcIl9tb3ZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5jb25zdCBkZWNvcmF0ZSA9ICh0KSA9PiB7XG4gIGRlbGV0ZSB0LnByb3BzLm1vZGU7XG4gIHJldHVybiB0O1xufTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSAvKiBAX19QVVJFX18gKi8gZGVjb3JhdGUoe1xuICBuYW1lOiBcIlRyYW5zaXRpb25Hcm91cFwiLFxuICBwcm9wczogLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xuICAgIHRhZzogU3RyaW5nLFxuICAgIG1vdmVDbGFzczogU3RyaW5nXG4gIH0pLFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgIGxldCBwcmV2Q2hpbGRyZW47XG4gICAgbGV0IGNoaWxkcmVuO1xuICAgIG9uVXBkYXRlZCgoKSA9PiB7XG4gICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbW92ZUNsYXNzID0gcHJvcHMubW92ZUNsYXNzIHx8IGAke3Byb3BzLm5hbWUgfHwgXCJ2XCJ9LW1vdmVgO1xuICAgICAgaWYgKCFoYXNDU1NUcmFuc2Zvcm0oXG4gICAgICAgIHByZXZDaGlsZHJlblswXS5lbCxcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUuZWwsXG4gICAgICAgIG1vdmVDbGFzc1xuICAgICAgKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBjLmVsO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGNiID0gZWxbbW92ZUNiS2V5XSA9IChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgICAgICAgIGVsW21vdmVDYktleV0gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgY2IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgaWYgKGNoaWxkLmVsICYmIGNoaWxkLmVsIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICBjc3NUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGQudHlwZSAhPT0gVGV4dCkge1xuICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcbiAgICB9O1xuICB9XG59KTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XG4gIGNvbnN0IGVsID0gYy5lbDtcbiAgaWYgKGVsW21vdmVDYktleV0pIHtcbiAgICBlbFttb3ZlQ2JLZXldKCk7XG4gIH1cbiAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgZWxbZW50ZXJDYktleV0oKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xuICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSBcIjBzXCI7XG4gICAgcmV0dXJuIGM7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZm9yRWFjaCgoY2xzKSA9PiB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIH0pO1xuICB9XG4gIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gIGNsb25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGU7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1tcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIl0gfHwgZmFsc2U7XG4gIHJldHVybiBpc0FycmF5KGZuKSA/ICh2YWx1ZSkgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgfVxufVxuY29uc3QgYXNzaWduS2V5ID0gU3ltYm9sKFwiX2Fzc2lnblwiKTtcbmNvbnN0IHZNb2RlbFRleHQgPSB7XG4gIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlID09PSBcIm51bWJlclwiO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyBcImNoYW5nZVwiIDogXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZykgcmV0dXJuO1xuICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XG4gICAgICBpZiAodHJpbSkge1xuICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYXN0VG9OdW1iZXIpIHtcbiAgICAgICAgZG9tVmFsdWUgPSBsb29zZVRvTnVtYmVyKGRvbVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsW2Fzc2lnbktleV0oZG9tVmFsdWUpO1xuICAgIH0pO1xuICAgIGlmICh0cmltKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGF6eSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfVxuICB9LFxuICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmIChlbC5jb21wb3NpbmcpIHJldHVybjtcbiAgICBjb25zdCBlbFZhbHVlID0gKG51bWJlciB8fCBlbC50eXBlID09PSBcIm51bWJlclwiKSAmJiAhL14wXFxkLy50ZXN0KGVsLnZhbHVlKSA/IGxvb3NlVG9OdW1iZXIoZWwudmFsdWUpIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChlbFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gXCJyYW5nZVwiKSB7XG4gICAgICBpZiAobGF6eSAmJiB2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgY29uc3QgYXNzaWduID0gZWxbYXNzaWduS2V5XTtcbiAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgbGV0IGNoZWNrZWQ7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHJldHVybjtcbiAgICBjaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICB9XG4gIGlmIChlbC5jaGVja2VkICE9PSBjaGVja2VkKSB7XG4gICAgZWwuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZWxbYXNzaWduS2V5XShnZXRWYWx1ZShlbCkpO1xuICAgIH0pO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpLm1hcChcbiAgICAgICAgKG8pID0+IG51bWJlciA/IGxvb3NlVG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobylcbiAgICAgICk7XG4gICAgICBlbFthc3NpZ25LZXldKFxuICAgICAgICBlbC5tdWx0aXBsZSA/IGlzU2V0TW9kZWwgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKSA6IHNlbGVjdGVkVmFsIDogc2VsZWN0ZWRWYWxbMF1cbiAgICAgICk7XG4gICAgICBlbC5fYXNzaWduaW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuX2Fzc2lnbmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gIC8vIDxvcHRpb24+cy5cbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGlmICghZWwuX2Fzc2lnbmluZykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLnNvbWUoKHYpID0+IFN0cmluZyh2KSA9PT0gU3RyaW5nKG9wdGlvblZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XG4gICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcbiAgfSk7XG59O1xuY29uc3Qga2V5TmFtZXMgPSB7XG4gIGVzYzogXCJlc2NhcGVcIixcbiAgc3BhY2U6IFwiIFwiLFxuICB1cDogXCJhcnJvdy11cFwiLFxuICBsZWZ0OiBcImFycm93LWxlZnRcIixcbiAgcmlnaHQ6IFwiYXJyb3ctcmlnaHRcIixcbiAgZG93bjogXCJhcnJvdy1kb3duXCIsXG4gIGRlbGV0ZTogXCJiYWNrc3BhY2VcIlxufTtcbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aEtleXMgfHwgKGZuLl93aXRoS2V5cyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKFxuICAgICAgKGspID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleVxuICAgICkpIHtcbiAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoeyBwYXRjaFByb3AgfSwgbm9kZU9wcyk7XG5sZXQgcmVuZGVyZXI7XG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xuZnVuY3Rpb24gZW5zdXJlUmVuZGVyZXIoKSB7XG4gIHJldHVybiByZW5kZXJlciB8fCAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xuICByZW5kZXJlciA9IGVuYWJsZWRIeWRyYXRpb24gPyByZW5kZXJlciA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XG4gIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyZXI7XG59XG5jb25zdCByZW5kZXIgPSAoLi4uYXJncykgPT4ge1xuICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcbn07XG5jb25zdCBoeWRyYXRlID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xufTtcbmNvbnN0IGNyZWF0ZUFwcCA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcInYtY2xvYWtcIik7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS12LWFwcFwiLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3h5O1xuICB9O1xuICByZXR1cm4gYXBwO1xufTtcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHJldHVybiBtb3VudChjb250YWluZXIsIHRydWUsIHJlc29sdmVSb290TmFtZXNwYWNlKGNvbnRhaW5lcikpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGFwcDtcbn07XG5mdW5jdGlvbiByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpIHtcbiAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdmdcIjtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiBjb250YWluZXIgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwibWF0aG1sXCI7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc05hdGl2ZVRhZ1wiLCB7XG4gICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZykgfHwgaXNNYXRoTUxUYWcodGFnKSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG59XG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcbiAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImlzQ3VzdG9tRWxlbWVudFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIFNpbmNlIHlvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCwgXFxgY29tcGlsZXJPcHRpb25zXFxgIG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxuLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxuLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcbi0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlLXBsdWdpbi12dWUvdHJlZS9tYWluL3BhY2thZ2VzL3BsdWdpbi12dWUjZXhhbXBsZS1mb3ItcGFzc2luZy1vcHRpb25zLXRvLXZ1ZWNvbXBpbGVyLXNmY2A7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiY29tcGlsZXJPcHRpb25zXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFyZXMpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICB3YXJuKFxuICAgICAgYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgIHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBpbml0Vk1vZGVsRm9yU1NSKCk7XG4gICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gIH1cbn0gO1xuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBkZWZpbmVDdXN0b21FbGVtZW50LCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBoeWRyYXRlLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgcmVuZGVyLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHVzZUhvc3QsIHVzZVNoYWRvd1Jvb3QsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMgfTtcbiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnXG5cbmNvbnN0IGlzRmxpcHBlZCA9IHJlZihmYWxzZSlcblxuY29uc3QgZmxpcENhcmQgPSAoKSA9PiB7XG4gIGlzRmxpcHBlZC52YWx1ZSA9ICFpc0ZsaXBwZWQudmFsdWVcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJmbGFzaGNhcmQtY29udGFpbmVyXCIgQGNsaWNrPVwiZmxpcENhcmRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZmxhc2hjYXJkXCIgOmNsYXNzPVwieyAnaXMtZmxpcHBlZCc6IGlzRmxpcHBlZCB9XCI+XG4gICAgICA8IS0tIEZyb250IG9mIGNhcmQgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxhc2hjYXJkLWZhY2UgZnJvbnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJqYXBhbmVzZS10ZXh0XCI+5pep44GPPC9zcGFuPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gQmFjayBvZiBjYXJkIC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImZsYXNoY2FyZC1mYWNlIGJhY2tcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlbmdsaXNoLXRleHRcIj50byBnbyBmYXN0PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHN0eWxlIHNjb3BlZD5cbi5mbGFzaGNhcmQtY29udGFpbmVyIHtcbiAgd2lkdGg6IDE2cmVtO1xuICBoZWlnaHQ6IDEwcmVtO1xuICBwZXJzcGVjdGl2ZTogMTAwMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5mbGFzaGNhcmQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjVzO1xuICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xufVxuXG4uZmxhc2hjYXJkLmlzLWZsaXBwZWQge1xuICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcbn1cblxuLmZsYXNoY2FyZC1mYWNlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAwLjc1cmVtO1xuICBib3gtc2hhZG93OiAwIDRweCA2cHggLTFweCByZ2IoMCAwIDAgLyAwLjEpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm9yZGVyOiAycHggc29saWQgI2U1ZTdlYjtcbn1cblxuLmJhY2sge1xuICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcbn1cblxuLmphcGFuZXNlLXRleHQge1xuICBmb250LXNpemU6IDIuMjVyZW07XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzFmMjkzNztcbn1cblxuLmVuZ2xpc2gtdGV4dCB7XG4gIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgY29sb3I6ICMzNzQxNTE7XG59XG48L3N0eWxlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSdcblxuY29uc3QgaXNGbGlwcGVkID0gcmVmKGZhbHNlKVxuXG5jb25zdCBmbGlwQ2FyZCA9ICgpID0+IHtcbiAgaXNGbGlwcGVkLnZhbHVlID0gIWlzRmxpcHBlZC52YWx1ZVxufVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImZsYXNoY2FyZC1jb250YWluZXJcIiBAY2xpY2s9XCJmbGlwQ2FyZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJmbGFzaGNhcmRcIiA6Y2xhc3M9XCJ7ICdpcy1mbGlwcGVkJzogaXNGbGlwcGVkIH1cIj5cbiAgICAgIDwhLS0gRnJvbnQgb2YgY2FyZCAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGFzaGNhcmQtZmFjZSBmcm9udFwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImphcGFuZXNlLXRleHRcIj7ml6njgY88L3NwYW4+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBCYWNrIG9mIGNhcmQgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxhc2hjYXJkLWZhY2UgYmFja1wiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImVuZ2xpc2gtdGV4dFwiPnRvIGdvIGZhc3Q8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgc2NvcGVkPlxuLmZsYXNoY2FyZC1jb250YWluZXIge1xuICB3aWR0aDogMTZyZW07XG4gIGhlaWdodDogMTByZW07XG4gIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmZsYXNoY2FyZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNXM7XG4gIHRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XG59XG5cbi5mbGFzaGNhcmQuaXMtZmxpcHBlZCB7XG4gIHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpO1xufVxuXG4uZmxhc2hjYXJkLWZhY2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDAuNzVyZW07XG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCAtMXB4IHJnYigwIDAgMCAvIDAuMSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwYWRkaW5nOiAxcmVtO1xuICBib3JkZXI6IDJweCBzb2xpZCAjZTVlN2ViO1xufVxuXG4uYmFjayB7XG4gIHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpO1xufVxuXG4uamFwYW5lc2UtdGV4dCB7XG4gIGZvbnQtc2l6ZTogMi4yNXJlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMWYyOTM3O1xufVxuXG4uZW5nbGlzaC10ZXh0IHtcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xuICBjb2xvcjogIzM3NDE1MTtcbn1cbjwvc3R5bGU+XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IEZsYXNoQ2FyZCBmcm9tICcuL2NvbXBvbmVudHMvRmxhc2hDYXJkLnZ1ZSdcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJhcHAtY29udGFpbmVyXCI+XG4gICAgPEZsYXNoQ2FyZCAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzdHlsZSBzY29wZWQ+XG4uYXBwLWNvbnRhaW5lciB7XG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmNGY2O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbjwvc3R5bGU+XG4iLCJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fZXNtID0gKGZuLCByZXMpID0+IGZ1bmN0aW9uIF9faW5pdCgpIHtcbiAgcmV0dXJuIGZuICYmIChyZXMgPSAoMCwgZm5bX19nZXRPd25Qcm9wTmFtZXMoZm4pWzBdXSkoZm4gPSAwKSksIHJlcztcbn07XG52YXIgX19jb21tb25KUyA9IChjYiwgbW9kKSA9PiBmdW5jdGlvbiBfX3JlcXVpcmUoKSB7XG4gIHJldHVybiBtb2QgfHwgKDAsIGNiW19fZ2V0T3duUHJvcE5hbWVzKGNiKVswXV0pKChtb2QgPSB7IGV4cG9ydHM6IHt9IH0pLmV4cG9ydHMsIG1vZCksIG1vZC5leHBvcnRzO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvRVNNID0gKG1vZCwgaXNOb2RlTW9kZSwgdGFyZ2V0MikgPT4gKHRhcmdldDIgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgLy8gSWYgdGhlIGltcG9ydGVyIGlzIGluIG5vZGUgY29tcGF0aWJpbGl0eSBtb2RlIG9yIHRoaXMgaXMgbm90IGFuIEVTTVxuICAvLyBmaWxlIHRoYXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgQ29tbW9uSlMgZmlsZSB1c2luZyBhIEJhYmVsLVxuICAvLyBjb21wYXRpYmxlIHRyYW5zZm9ybSAoaS5lLiBcIl9fZXNNb2R1bGVcIiBoYXMgbm90IGJlZW4gc2V0KSwgdGhlbiBzZXRcbiAgLy8gXCJkZWZhdWx0XCIgdG8gdGhlIENvbW1vbkpTIFwibW9kdWxlLmV4cG9ydHNcIiBmb3Igbm9kZSBjb21wYXRpYmlsaXR5LlxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldDIsIFwiZGVmYXVsdFwiLCB7IHZhbHVlOiBtb2QsIGVudW1lcmFibGU6IHRydWUgfSkgOiB0YXJnZXQyLFxuICBtb2RcbikpO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdHN1cEA4LjQuMF9AbWljcm9zb2Z0K2FwaS1leHRyYWN0b3JANy41MS4xX0B0eXBlcytub2RlQDIyLjEzLjE0X19qaXRpQDIuNC4yX3Bvc3Rjc3NAOC41Xzk2ZWIwNWE5ZDY1MzQzMDIxZTUzNzkxZGQ4M2YzNzczL25vZGVfbW9kdWxlcy90c3VwL2Fzc2V0cy9lc21fc2hpbXMuanNcbnZhciBpbml0X2VzbV9zaGltcyA9IF9fZXNtKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdHN1cEA4LjQuMF9AbWljcm9zb2Z0K2FwaS1leHRyYWN0b3JANy41MS4xX0B0eXBlcytub2RlQDIyLjEzLjE0X19qaXRpQDIuNC4yX3Bvc3Rjc3NAOC41Xzk2ZWIwNWE5ZDY1MzQzMDIxZTUzNzkxZGQ4M2YzNzczL25vZGVfbW9kdWxlcy90c3VwL2Fzc2V0cy9lc21fc2hpbXMuanNcIigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9yZmRjQDEuNC4xL25vZGVfbW9kdWxlcy9yZmRjL2luZGV4LmpzXG52YXIgcmVxdWlyZV9yZmRjID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JmZGNAMS40LjEvbm9kZV9tb2R1bGVzL3JmZGMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpbml0X2VzbV9zaGltcygpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmZkYzI7XG4gICAgZnVuY3Rpb24gY29weUJ1ZmZlcihjdXIpIHtcbiAgICAgIGlmIChjdXIgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGN1cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IGN1ci5jb25zdHJ1Y3RvcihjdXIuYnVmZmVyLnNsaWNlKCksIGN1ci5ieXRlT2Zmc2V0LCBjdXIubGVuZ3RoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmZkYzIob3B0cykge1xuICAgICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgICBpZiAob3B0cy5jaXJjbGVzKSByZXR1cm4gcmZkY0NpcmNsZXMob3B0cyk7XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvckhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0cnVjdG9ySGFuZGxlcnMuc2V0KERhdGUsIChvKSA9PiBuZXcgRGF0ZShvKSk7XG4gICAgICBjb25zdHJ1Y3RvckhhbmRsZXJzLnNldChNYXAsIChvLCBmbikgPT4gbmV3IE1hcChjbG9uZUFycmF5KEFycmF5LmZyb20obyksIGZuKSkpO1xuICAgICAgY29uc3RydWN0b3JIYW5kbGVycy5zZXQoU2V0LCAobywgZm4pID0+IG5ldyBTZXQoY2xvbmVBcnJheShBcnJheS5mcm9tKG8pLCBmbikpKTtcbiAgICAgIGlmIChvcHRzLmNvbnN0cnVjdG9ySGFuZGxlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyMiBvZiBvcHRzLmNvbnN0cnVjdG9ySGFuZGxlcnMpIHtcbiAgICAgICAgICBjb25zdHJ1Y3RvckhhbmRsZXJzLnNldChoYW5kbGVyMlswXSwgaGFuZGxlcjJbMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgaGFuZGxlciA9IG51bGw7XG4gICAgICByZXR1cm4gb3B0cy5wcm90byA/IGNsb25lUHJvdG8gOiBjbG9uZTtcbiAgICAgIGZ1bmN0aW9uIGNsb25lQXJyYXkoYSwgZm4pIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgICAgICBjb25zdCBhMiA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGsgPSBrZXlzW2ldO1xuICAgICAgICAgIGNvbnN0IGN1ciA9IGFba107XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICAgICAgICBhMltrXSA9IGN1cjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoY3VyLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICAgIGEyW2tdID0gaGFuZGxlcihjdXIsIGZuKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhjdXIpKSB7XG4gICAgICAgICAgICBhMltrXSA9IGNvcHlCdWZmZXIoY3VyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYTJba10gPSBmbihjdXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYTI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjbG9uZShvKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbyAhPT0gXCJvYmplY3RcIiB8fCBvID09PSBudWxsKSByZXR1cm4gbztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobykpIHJldHVybiBjbG9uZUFycmF5KG8sIGNsb25lKTtcbiAgICAgICAgaWYgKG8uY29uc3RydWN0b3IgIT09IE9iamVjdCAmJiAoaGFuZGxlciA9IGNvbnN0cnVjdG9ySGFuZGxlcnMuZ2V0KG8uY29uc3RydWN0b3IpKSkge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVyKG8sIGNsb25lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvMiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gbykge1xuICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IGN1ciA9IG9ba107XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICAgICAgICBvMltrXSA9IGN1cjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoY3VyLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICAgIG8yW2tdID0gaGFuZGxlcihjdXIsIGNsb25lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhjdXIpKSB7XG4gICAgICAgICAgICBvMltrXSA9IGNvcHlCdWZmZXIoY3VyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbzJba10gPSBjbG9uZShjdXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbzI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjbG9uZVByb3RvKG8pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvICE9PSBcIm9iamVjdFwiIHx8IG8gPT09IG51bGwpIHJldHVybiBvO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvKSkgcmV0dXJuIGNsb25lQXJyYXkobywgY2xvbmVQcm90byk7XG4gICAgICAgIGlmIChvLmNvbnN0cnVjdG9yICE9PSBPYmplY3QgJiYgKGhhbmRsZXIgPSBjb25zdHJ1Y3RvckhhbmRsZXJzLmdldChvLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlcihvLCBjbG9uZVByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvMiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gbykge1xuICAgICAgICAgIGNvbnN0IGN1ciA9IG9ba107XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICAgICAgICBvMltrXSA9IGN1cjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoY3VyLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICAgIG8yW2tdID0gaGFuZGxlcihjdXIsIGNsb25lUHJvdG8pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGN1cikpIHtcbiAgICAgICAgICAgIG8yW2tdID0gY29weUJ1ZmZlcihjdXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvMltrXSA9IGNsb25lUHJvdG8oY3VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG8yO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZmRjQ2lyY2xlcyhvcHRzKSB7XG4gICAgICBjb25zdCByZWZzID0gW107XG4gICAgICBjb25zdCByZWZzTmV3ID0gW107XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvckhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0cnVjdG9ySGFuZGxlcnMuc2V0KERhdGUsIChvKSA9PiBuZXcgRGF0ZShvKSk7XG4gICAgICBjb25zdHJ1Y3RvckhhbmRsZXJzLnNldChNYXAsIChvLCBmbikgPT4gbmV3IE1hcChjbG9uZUFycmF5KEFycmF5LmZyb20obyksIGZuKSkpO1xuICAgICAgY29uc3RydWN0b3JIYW5kbGVycy5zZXQoU2V0LCAobywgZm4pID0+IG5ldyBTZXQoY2xvbmVBcnJheShBcnJheS5mcm9tKG8pLCBmbikpKTtcbiAgICAgIGlmIChvcHRzLmNvbnN0cnVjdG9ySGFuZGxlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyMiBvZiBvcHRzLmNvbnN0cnVjdG9ySGFuZGxlcnMpIHtcbiAgICAgICAgICBjb25zdHJ1Y3RvckhhbmRsZXJzLnNldChoYW5kbGVyMlswXSwgaGFuZGxlcjJbMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgaGFuZGxlciA9IG51bGw7XG4gICAgICByZXR1cm4gb3B0cy5wcm90byA/IGNsb25lUHJvdG8gOiBjbG9uZTtcbiAgICAgIGZ1bmN0aW9uIGNsb25lQXJyYXkoYSwgZm4pIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgICAgICBjb25zdCBhMiA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGsgPSBrZXlzW2ldO1xuICAgICAgICAgIGNvbnN0IGN1ciA9IGFba107XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICAgICAgICBhMltrXSA9IGN1cjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoY3VyLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICAgIGEyW2tdID0gaGFuZGxlcihjdXIsIGZuKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhjdXIpKSB7XG4gICAgICAgICAgICBhMltrXSA9IGNvcHlCdWZmZXIoY3VyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZWZzLmluZGV4T2YoY3VyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgYTJba10gPSByZWZzTmV3W2luZGV4XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGEyW2tdID0gZm4oY3VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEyO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY2xvbmUobykge1xuICAgICAgICBpZiAodHlwZW9mIG8gIT09IFwib2JqZWN0XCIgfHwgbyA9PT0gbnVsbCkgcmV0dXJuIG87XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG8pKSByZXR1cm4gY2xvbmVBcnJheShvLCBjbG9uZSk7XG4gICAgICAgIGlmIChvLmNvbnN0cnVjdG9yICE9PSBPYmplY3QgJiYgKGhhbmRsZXIgPSBjb25zdHJ1Y3RvckhhbmRsZXJzLmdldChvLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlcihvLCBjbG9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbzIgPSB7fTtcbiAgICAgICAgcmVmcy5wdXNoKG8pO1xuICAgICAgICByZWZzTmV3LnB1c2gobzIpO1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gbykge1xuICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSA9PT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IGN1ciA9IG9ba107XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICAgICAgICBvMltrXSA9IGN1cjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoY3VyLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICAgIG8yW2tdID0gaGFuZGxlcihjdXIsIGNsb25lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhjdXIpKSB7XG4gICAgICAgICAgICBvMltrXSA9IGNvcHlCdWZmZXIoY3VyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaSA9IHJlZnMuaW5kZXhPZihjdXIpO1xuICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgIG8yW2tdID0gcmVmc05ld1tpXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG8yW2tdID0gY2xvbmUoY3VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVmcy5wb3AoKTtcbiAgICAgICAgcmVmc05ldy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIG8yO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY2xvbmVQcm90byhvKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbyAhPT0gXCJvYmplY3RcIiB8fCBvID09PSBudWxsKSByZXR1cm4gbztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobykpIHJldHVybiBjbG9uZUFycmF5KG8sIGNsb25lUHJvdG8pO1xuICAgICAgICBpZiAoby5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoby5jb25zdHJ1Y3RvcikpKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZXIobywgY2xvbmVQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbzIgPSB7fTtcbiAgICAgICAgcmVmcy5wdXNoKG8pO1xuICAgICAgICByZWZzTmV3LnB1c2gobzIpO1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gbykge1xuICAgICAgICAgIGNvbnN0IGN1ciA9IG9ba107XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXIgIT09IFwib2JqZWN0XCIgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICAgICAgICBvMltrXSA9IGN1cjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ci5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIChoYW5kbGVyID0gY29uc3RydWN0b3JIYW5kbGVycy5nZXQoY3VyLmNvbnN0cnVjdG9yKSkpIHtcbiAgICAgICAgICAgIG8yW2tdID0gaGFuZGxlcihjdXIsIGNsb25lUHJvdG8pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGN1cikpIHtcbiAgICAgICAgICAgIG8yW2tdID0gY29weUJ1ZmZlcihjdXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpID0gcmVmcy5pbmRleE9mKGN1cik7XG4gICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgbzJba10gPSByZWZzTmV3W2ldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbzJba10gPSBjbG9uZVByb3RvKGN1cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlZnMucG9wKCk7XG4gICAgICAgIHJlZnNOZXcucG9wKCk7XG4gICAgICAgIHJldHVybiBvMjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBzcmMvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9jb25zdGFudHMudHNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgVklFV19NT0RFX1NUT1JBR0VfS0VZID0gXCJfX3Z1ZS1kZXZ0b29scy12aWV3LW1vZGVfX1wiO1xudmFyIFZJVEVfUExVR0lOX0RFVEVDVEVEX1NUT1JBR0VfS0VZID0gXCJfX3Z1ZS1kZXZ0b29scy12aXRlLXBsdWdpbi1kZXRlY3RlZF9fXCI7XG52YXIgVklURV9QTFVHSU5fQ0xJRU5UX1VSTF9TVE9SQUdFX0tFWSA9IFwiX192dWUtZGV2dG9vbHMtdml0ZS1wbHVnaW4tY2xpZW50LXVybF9fXCI7XG52YXIgQlJPQURDQVNUX0NIQU5ORUxfTkFNRSA9IFwiX192dWUtZGV2dG9vbHMtYnJvYWRjYXN0LWNoYW5uZWxfX1wiO1xuXG4vLyBzcmMvZW52LnRzXG5pbml0X2VzbV9zaGltcygpO1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCI7XG52YXIgdGFyZ2V0ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB7fTtcbnZhciBpc0luQ2hyb21lUGFuZWwgPSB0eXBlb2YgdGFyZ2V0LmNocm9tZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhIXRhcmdldC5jaHJvbWUuZGV2dG9vbHM7XG52YXIgaXNJbklmcmFtZSA9IGlzQnJvd3NlciAmJiB0YXJnZXQuc2VsZiAhPT0gdGFyZ2V0LnRvcDtcbnZhciBfYTtcbnZhciBpc0luRWxlY3Ryb24gPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmICgoX2EgPSBuYXZpZ2F0b3IudXNlckFnZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVsZWN0cm9uXCIpKTtcbnZhciBpc051eHRBcHAgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmICEhd2luZG93Ll9fTlVYVF9fO1xudmFyIGlzSW5TZXBhcmF0ZVdpbmRvdyA9ICFpc0luSWZyYW1lICYmICFpc0luQ2hyb21lUGFuZWwgJiYgIWlzSW5FbGVjdHJvbjtcblxuLy8gc3JjL2dlbmVyYWwudHNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgaW1wb3J0X3JmZGMgPSBfX3RvRVNNKHJlcXVpcmVfcmZkYygpLCAxKTtcbmZ1bmN0aW9uIE5PT1AoKSB7XG59XG52YXIgaXNOdW1lcmljID0gKHN0cikgPT4gYCR7K3N0cn1gID09PSBzdHI7XG52YXIgaXNNYWNPUyA9ICgpID0+IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5wbGF0Zm9ybSkgPyBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibWFjXCIpIDogL01hY2ludG9zaC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fL10pKFxcdykvZztcbnZhciBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xudmFyIGtlYmFiaXplUkUgPSAvKFthLXowLTldKShbQS1aXSkvZztcbmZ1bmN0aW9uIHRvVXBwZXIoXywgYykge1xuICByZXR1cm4gYyA/IGMudG9VcHBlckNhc2UoKSA6IFwiXCI7XG59XG5mdW5jdGlvbiBjbGFzc2lmeShzdHIpIHtcbiAgcmV0dXJuIHN0ciAmJiBgJHtzdHJ9YC5yZXBsYWNlKGNsYXNzaWZ5UkUsIHRvVXBwZXIpO1xufVxuZnVuY3Rpb24gY2FtZWxpemUoc3RyKSB7XG4gIHJldHVybiBzdHIgJiYgc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgdG9VcHBlcik7XG59XG5mdW5jdGlvbiBrZWJhYml6ZShzdHIpIHtcbiAgcmV0dXJuIHN0ciAmJiBzdHIucmVwbGFjZShrZWJhYml6ZVJFLCAoXywgbG93ZXJDYXNlQ2hhcmFjdGVyLCB1cHBlckNhc2VMZXR0ZXIpID0+IHtcbiAgICByZXR1cm4gYCR7bG93ZXJDYXNlQ2hhcmFjdGVyfS0ke3VwcGVyQ2FzZUxldHRlcn1gO1xuICB9KS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gYmFzZW5hbWUoZmlsZW5hbWUsIGV4dCkge1xuICBsZXQgbm9ybWFsaXplZEZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvXlthLXpdOi9pLCBcIlwiKS5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKTtcbiAgaWYgKG5vcm1hbGl6ZWRGaWxlbmFtZS5lbmRzV2l0aChgaW5kZXgke2V4dH1gKSkge1xuICAgIG5vcm1hbGl6ZWRGaWxlbmFtZSA9IG5vcm1hbGl6ZWRGaWxlbmFtZS5yZXBsYWNlKGAvaW5kZXgke2V4dH1gLCBleHQpO1xuICB9XG4gIGNvbnN0IGxhc3RTbGFzaEluZGV4ID0gbm9ybWFsaXplZEZpbGVuYW1lLmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgY29uc3QgYmFzZU5hbWVXaXRoRXh0ID0gbm9ybWFsaXplZEZpbGVuYW1lLnN1YnN0cmluZyhsYXN0U2xhc2hJbmRleCArIDEpO1xuICBpZiAoZXh0KSB7XG4gICAgY29uc3QgZXh0SW5kZXggPSBiYXNlTmFtZVdpdGhFeHQubGFzdEluZGV4T2YoZXh0KTtcbiAgICByZXR1cm4gYmFzZU5hbWVXaXRoRXh0LnN1YnN0cmluZygwLCBleHRJbmRleCk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBzb3J0QnlLZXkoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlICYmIHN0YXRlLnNsaWNlKCkuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhLmtleSA8IGIua2V5KVxuICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLmtleSA+IGIua2V5KVxuICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH0pO1xufVxudmFyIEhUVFBfVVJMX1JFID0gL15odHRwcz86XFwvXFwvLztcbmZ1bmN0aW9uIGlzVXJsU3RyaW5nKHN0cikge1xuICByZXR1cm4gc3RyLnN0YXJ0c1dpdGgoXCIvXCIpIHx8IEhUVFBfVVJMX1JFLnRlc3Qoc3RyKTtcbn1cbnZhciBkZWVwQ2xvbmUgPSAoMCwgaW1wb3J0X3JmZGMuZGVmYXVsdCkoeyBjaXJjbGVzOiB0cnVlIH0pO1xuZnVuY3Rpb24gcmFuZG9tU3RyKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG59XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2V0O1xufVxuZnVuY3Rpb24gaXNNYXAodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgTWFwO1xufVxuZXhwb3J0IHtcbiAgQlJPQURDQVNUX0NIQU5ORUxfTkFNRSxcbiAgTk9PUCxcbiAgVklFV19NT0RFX1NUT1JBR0VfS0VZLFxuICBWSVRFX1BMVUdJTl9DTElFTlRfVVJMX1NUT1JBR0VfS0VZLFxuICBWSVRFX1BMVUdJTl9ERVRFQ1RFRF9TVE9SQUdFX0tFWSxcbiAgYmFzZW5hbWUsXG4gIGNhbWVsaXplLFxuICBjbGFzc2lmeSxcbiAgZGVlcENsb25lLFxuICBpc0FycmF5LFxuICBpc0Jyb3dzZXIsXG4gIGlzSW5DaHJvbWVQYW5lbCxcbiAgaXNJbkVsZWN0cm9uLFxuICBpc0luSWZyYW1lLFxuICBpc0luU2VwYXJhdGVXaW5kb3csXG4gIGlzTWFjT1MsXG4gIGlzTWFwLFxuICBpc051bWVyaWMsXG4gIGlzTnV4dEFwcCxcbiAgaXNPYmplY3QsXG4gIGlzU2V0LFxuICBpc1VybFN0cmluZyxcbiAga2ViYWJpemUsXG4gIHJhbmRvbVN0cixcbiAgc29ydEJ5S2V5LFxuICB0YXJnZXRcbn07XG4iLCJjb25zdCBERUJPVU5DRV9ERUZBVUxUUyA9IHtcbiAgdHJhaWxpbmc6IHRydWVcbn07XG5mdW5jdGlvbiBkZWJvdW5jZShmbiwgd2FpdCA9IDI1LCBvcHRpb25zID0ge30pIHtcbiAgb3B0aW9ucyA9IHsgLi4uREVCT1VOQ0VfREVGQVVMVFMsIC4uLm9wdGlvbnMgfTtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUod2FpdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYHdhaXRgIHRvIGJlIGEgZmluaXRlIG51bWJlclwiKTtcbiAgfVxuICBsZXQgbGVhZGluZ1ZhbHVlO1xuICBsZXQgdGltZW91dDtcbiAgbGV0IHJlc29sdmVMaXN0ID0gW107XG4gIGxldCBjdXJyZW50UHJvbWlzZTtcbiAgbGV0IHRyYWlsaW5nQXJncztcbiAgY29uc3QgYXBwbHlGbiA9IChfdGhpcywgYXJncykgPT4ge1xuICAgIGN1cnJlbnRQcm9taXNlID0gX2FwcGx5UHJvbWlzZWQoZm4sIF90aGlzLCBhcmdzKTtcbiAgICBjdXJyZW50UHJvbWlzZS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGN1cnJlbnRQcm9taXNlID0gbnVsbDtcbiAgICAgIGlmIChvcHRpb25zLnRyYWlsaW5nICYmIHRyYWlsaW5nQXJncyAmJiAhdGltZW91dCkge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gYXBwbHlGbihfdGhpcywgdHJhaWxpbmdBcmdzKTtcbiAgICAgICAgdHJhaWxpbmdBcmdzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGN1cnJlbnRQcm9taXNlO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGlmIChjdXJyZW50UHJvbWlzZSkge1xuICAgICAgaWYgKG9wdGlvbnMudHJhaWxpbmcpIHtcbiAgICAgICAgdHJhaWxpbmdBcmdzID0gYXJncztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50UHJvbWlzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRDYWxsTm93ID0gIXRpbWVvdXQgJiYgb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG9wdGlvbnMubGVhZGluZyA/IGxlYWRpbmdWYWx1ZSA6IGFwcGx5Rm4odGhpcywgYXJncyk7XG4gICAgICAgIGZvciAoY29uc3QgX3Jlc29sdmUgb2YgcmVzb2x2ZUxpc3QpIHtcbiAgICAgICAgICBfcmVzb2x2ZShwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlTGlzdCA9IFtdO1xuICAgICAgfSwgd2FpdCk7XG4gICAgICBpZiAoc2hvdWxkQ2FsbE5vdykge1xuICAgICAgICBsZWFkaW5nVmFsdWUgPSBhcHBseUZuKHRoaXMsIGFyZ3MpO1xuICAgICAgICByZXNvbHZlKGxlYWRpbmdWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlTGlzdC5wdXNoKHJlc29sdmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gX2FwcGx5UHJvbWlzZWQoZm4sIF90aGlzLCBhcmdzKSB7XG4gIHJldHVybiBhd2FpdCBmbi5hcHBseShfdGhpcywgYXJncyk7XG59XG5cbmV4cG9ydCB7IGRlYm91bmNlIH07XG4iLCJmdW5jdGlvbiBmbGF0SG9va3MoY29uZmlnSG9va3MsIGhvb2tzID0ge30sIHBhcmVudE5hbWUpIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnSG9va3MpIHtcbiAgICBjb25zdCBzdWJIb29rID0gY29uZmlnSG9va3Nba2V5XTtcbiAgICBjb25zdCBuYW1lID0gcGFyZW50TmFtZSA/IGAke3BhcmVudE5hbWV9OiR7a2V5fWAgOiBrZXk7XG4gICAgaWYgKHR5cGVvZiBzdWJIb29rID09PSBcIm9iamVjdFwiICYmIHN1Ykhvb2sgIT09IG51bGwpIHtcbiAgICAgIGZsYXRIb29rcyhzdWJIb29rLCBob29rcywgbmFtZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViSG9vayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBob29rc1tuYW1lXSA9IHN1Ykhvb2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBob29rcztcbn1cbmZ1bmN0aW9uIG1lcmdlSG9va3MoLi4uaG9va3MpIHtcbiAgY29uc3QgZmluYWxIb29rcyA9IHt9O1xuICBmb3IgKGNvbnN0IGhvb2sgb2YgaG9va3MpIHtcbiAgICBjb25zdCBmbGF0ZW5Ib29rID0gZmxhdEhvb2tzKGhvb2spO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZsYXRlbkhvb2spIHtcbiAgICAgIGlmIChmaW5hbEhvb2tzW2tleV0pIHtcbiAgICAgICAgZmluYWxIb29rc1trZXldLnB1c2goZmxhdGVuSG9va1trZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbmFsSG9va3Nba2V5XSA9IFtmbGF0ZW5Ib29rW2tleV1dO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBmaW5hbEhvb2tzKSB7XG4gICAgaWYgKGZpbmFsSG9va3Nba2V5XS5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBhcnJheSA9IGZpbmFsSG9va3Nba2V5XTtcbiAgICAgIGZpbmFsSG9va3Nba2V5XSA9ICguLi5hcmd1bWVudHNfKSA9PiBzZXJpYWwoYXJyYXksIChmdW5jdGlvbl8pID0+IGZ1bmN0aW9uXyguLi5hcmd1bWVudHNfKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsSG9va3Nba2V5XSA9IGZpbmFsSG9va3Nba2V5XVswXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbmFsSG9va3M7XG59XG5mdW5jdGlvbiBzZXJpYWwodGFza3MsIGZ1bmN0aW9uXykge1xuICByZXR1cm4gdGFza3MucmVkdWNlKFxuICAgIChwcm9taXNlLCB0YXNrKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gZnVuY3Rpb25fKHRhc2spKSxcbiAgICBQcm9taXNlLnJlc29sdmUoKVxuICApO1xufVxuY29uc3QgZGVmYXVsdFRhc2sgPSB7IHJ1bjogKGZ1bmN0aW9uXykgPT4gZnVuY3Rpb25fKCkgfTtcbmNvbnN0IF9jcmVhdGVUYXNrID0gKCkgPT4gZGVmYXVsdFRhc2s7XG5jb25zdCBjcmVhdGVUYXNrID0gdHlwZW9mIGNvbnNvbGUuY3JlYXRlVGFzayAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbnNvbGUuY3JlYXRlVGFzayA6IF9jcmVhdGVUYXNrO1xuZnVuY3Rpb24gc2VyaWFsVGFza0NhbGxlcihob29rcywgYXJncykge1xuICBjb25zdCBuYW1lID0gYXJncy5zaGlmdCgpO1xuICBjb25zdCB0YXNrID0gY3JlYXRlVGFzayhuYW1lKTtcbiAgcmV0dXJuIGhvb2tzLnJlZHVjZShcbiAgICAocHJvbWlzZSwgaG9va0Z1bmN0aW9uKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gdGFzay5ydW4oKCkgPT4gaG9va0Z1bmN0aW9uKC4uLmFyZ3MpKSksXG4gICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgKTtcbn1cbmZ1bmN0aW9uIHBhcmFsbGVsVGFza0NhbGxlcihob29rcywgYXJncykge1xuICBjb25zdCBuYW1lID0gYXJncy5zaGlmdCgpO1xuICBjb25zdCB0YXNrID0gY3JlYXRlVGFzayhuYW1lKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGhvb2tzLm1hcCgoaG9vaykgPT4gdGFzay5ydW4oKCkgPT4gaG9vayguLi5hcmdzKSkpKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbENhbGxlcihob29rcywgYXJndW1lbnRzXykge1xuICByZXR1cm4gaG9va3MucmVkdWNlKFxuICAgIChwcm9taXNlLCBob29rRnVuY3Rpb24pID0+IHByb21pc2UudGhlbigoKSA9PiBob29rRnVuY3Rpb24oLi4uYXJndW1lbnRzXyB8fCBbXSkpLFxuICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICk7XG59XG5mdW5jdGlvbiBwYXJhbGxlbENhbGxlcihob29rcywgYXJncykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoaG9va3MubWFwKChob29rKSA9PiBob29rKC4uLmFyZ3MgfHwgW10pKSk7XG59XG5mdW5jdGlvbiBjYWxsRWFjaFdpdGgoY2FsbGJhY2tzLCBhcmcwKSB7XG4gIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgWy4uLmNhbGxiYWNrc10pIHtcbiAgICBjYWxsYmFjayhhcmcwKTtcbiAgfVxufVxuXG5jbGFzcyBIb29rYWJsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2hvb2tzID0ge307XG4gICAgdGhpcy5fYmVmb3JlID0gdm9pZCAwO1xuICAgIHRoaXMuX2FmdGVyID0gdm9pZCAwO1xuICAgIHRoaXMuX2RlcHJlY2F0ZWRNZXNzYWdlcyA9IHZvaWQgMDtcbiAgICB0aGlzLl9kZXByZWNhdGVkSG9va3MgPSB7fTtcbiAgICB0aGlzLmhvb2sgPSB0aGlzLmhvb2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmNhbGxIb29rID0gdGhpcy5jYWxsSG9vay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2FsbEhvb2tXaXRoID0gdGhpcy5jYWxsSG9va1dpdGguYmluZCh0aGlzKTtcbiAgfVxuICBob29rKG5hbWUsIGZ1bmN0aW9uXywgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFuYW1lIHx8IHR5cGVvZiBmdW5jdGlvbl8gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IG5hbWU7XG4gICAgbGV0IGRlcDtcbiAgICB3aGlsZSAodGhpcy5fZGVwcmVjYXRlZEhvb2tzW25hbWVdKSB7XG4gICAgICBkZXAgPSB0aGlzLl9kZXByZWNhdGVkSG9va3NbbmFtZV07XG4gICAgICBuYW1lID0gZGVwLnRvO1xuICAgIH1cbiAgICBpZiAoZGVwICYmICFvcHRpb25zLmFsbG93RGVwcmVjYXRlZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBkZXAubWVzc2FnZTtcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlID0gYCR7b3JpZ2luYWxOYW1lfSBob29rIGhhcyBiZWVuIGRlcHJlY2F0ZWRgICsgKGRlcC50byA/IGAsIHBsZWFzZSB1c2UgJHtkZXAudG99YCA6IFwiXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9kZXByZWNhdGVkTWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5fZGVwcmVjYXRlZE1lc3NhZ2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fZGVwcmVjYXRlZE1lc3NhZ2VzLmhhcyhtZXNzYWdlKSkge1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX2RlcHJlY2F0ZWRNZXNzYWdlcy5hZGQobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZnVuY3Rpb25fLm5hbWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbl8sIFwibmFtZVwiLCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBcIl9cIiArIG5hbWUucmVwbGFjZSgvXFxXKy9nLCBcIl9cIikgKyBcIl9ob29rX2NiXCIsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2hvb2tzW25hbWVdID0gdGhpcy5faG9va3NbbmFtZV0gfHwgW107XG4gICAgdGhpcy5faG9va3NbbmFtZV0ucHVzaChmdW5jdGlvbl8pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZnVuY3Rpb25fKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlSG9vayhuYW1lLCBmdW5jdGlvbl8pO1xuICAgICAgICBmdW5jdGlvbl8gPSB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBob29rT25jZShuYW1lLCBmdW5jdGlvbl8pIHtcbiAgICBsZXQgX3VucmVnO1xuICAgIGxldCBfZnVuY3Rpb24gPSAoLi4uYXJndW1lbnRzXykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBfdW5yZWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBfdW5yZWcoKTtcbiAgICAgIH1cbiAgICAgIF91bnJlZyA9IHZvaWQgMDtcbiAgICAgIF9mdW5jdGlvbiA9IHZvaWQgMDtcbiAgICAgIHJldHVybiBmdW5jdGlvbl8oLi4uYXJndW1lbnRzXyk7XG4gICAgfTtcbiAgICBfdW5yZWcgPSB0aGlzLmhvb2sobmFtZSwgX2Z1bmN0aW9uKTtcbiAgICByZXR1cm4gX3VucmVnO1xuICB9XG4gIHJlbW92ZUhvb2sobmFtZSwgZnVuY3Rpb25fKSB7XG4gICAgaWYgKHRoaXMuX2hvb2tzW25hbWVdKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2hvb2tzW25hbWVdLmluZGV4T2YoZnVuY3Rpb25fKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5faG9va3NbbmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9ob29rc1tuYW1lXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2hvb2tzW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZXByZWNhdGVIb29rKG5hbWUsIGRlcHJlY2F0ZWQpIHtcbiAgICB0aGlzLl9kZXByZWNhdGVkSG9va3NbbmFtZV0gPSB0eXBlb2YgZGVwcmVjYXRlZCA9PT0gXCJzdHJpbmdcIiA/IHsgdG86IGRlcHJlY2F0ZWQgfSA6IGRlcHJlY2F0ZWQ7XG4gICAgY29uc3QgX2hvb2tzID0gdGhpcy5faG9va3NbbmFtZV0gfHwgW107XG4gICAgZGVsZXRlIHRoaXMuX2hvb2tzW25hbWVdO1xuICAgIGZvciAoY29uc3QgaG9vayBvZiBfaG9va3MpIHtcbiAgICAgIHRoaXMuaG9vayhuYW1lLCBob29rKTtcbiAgICB9XG4gIH1cbiAgZGVwcmVjYXRlSG9va3MoZGVwcmVjYXRlZEhvb2tzKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9kZXByZWNhdGVkSG9va3MsIGRlcHJlY2F0ZWRIb29rcyk7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGRlcHJlY2F0ZWRIb29rcykge1xuICAgICAgdGhpcy5kZXByZWNhdGVIb29rKG5hbWUsIGRlcHJlY2F0ZWRIb29rc1tuYW1lXSk7XG4gICAgfVxuICB9XG4gIGFkZEhvb2tzKGNvbmZpZ0hvb2tzKSB7XG4gICAgY29uc3QgaG9va3MgPSBmbGF0SG9va3MoY29uZmlnSG9va3MpO1xuICAgIGNvbnN0IHJlbW92ZUZucyA9IE9iamVjdC5rZXlzKGhvb2tzKS5tYXAoXG4gICAgICAoa2V5KSA9PiB0aGlzLmhvb2soa2V5LCBob29rc1trZXldKVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgdW5yZWcgb2YgcmVtb3ZlRm5zLnNwbGljZSgwLCByZW1vdmVGbnMubGVuZ3RoKSkge1xuICAgICAgICB1bnJlZygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmVtb3ZlSG9va3MoY29uZmlnSG9va3MpIHtcbiAgICBjb25zdCBob29rcyA9IGZsYXRIb29rcyhjb25maWdIb29rcyk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaG9va3MpIHtcbiAgICAgIHRoaXMucmVtb3ZlSG9vayhrZXksIGhvb2tzW2tleV0pO1xuICAgIH1cbiAgfVxuICByZW1vdmVBbGxIb29rcygpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl9ob29rcykge1xuICAgICAgZGVsZXRlIHRoaXMuX2hvb2tzW2tleV07XG4gICAgfVxuICB9XG4gIGNhbGxIb29rKG5hbWUsIC4uLmFyZ3VtZW50c18pIHtcbiAgICBhcmd1bWVudHNfLnVuc2hpZnQobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuY2FsbEhvb2tXaXRoKHNlcmlhbFRhc2tDYWxsZXIsIG5hbWUsIC4uLmFyZ3VtZW50c18pO1xuICB9XG4gIGNhbGxIb29rUGFyYWxsZWwobmFtZSwgLi4uYXJndW1lbnRzXykge1xuICAgIGFyZ3VtZW50c18udW5zaGlmdChuYW1lKTtcbiAgICByZXR1cm4gdGhpcy5jYWxsSG9va1dpdGgocGFyYWxsZWxUYXNrQ2FsbGVyLCBuYW1lLCAuLi5hcmd1bWVudHNfKTtcbiAgfVxuICBjYWxsSG9va1dpdGgoY2FsbGVyLCBuYW1lLCAuLi5hcmd1bWVudHNfKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLl9iZWZvcmUgfHwgdGhpcy5fYWZ0ZXIgPyB7IG5hbWUsIGFyZ3M6IGFyZ3VtZW50c18sIGNvbnRleHQ6IHt9IH0gOiB2b2lkIDA7XG4gICAgaWYgKHRoaXMuX2JlZm9yZSkge1xuICAgICAgY2FsbEVhY2hXaXRoKHRoaXMuX2JlZm9yZSwgZXZlbnQpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBjYWxsZXIoXG4gICAgICBuYW1lIGluIHRoaXMuX2hvb2tzID8gWy4uLnRoaXMuX2hvb2tzW25hbWVdXSA6IFtdLFxuICAgICAgYXJndW1lbnRzX1xuICAgICk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9hZnRlciAmJiBldmVudCkge1xuICAgICAgICAgIGNhbGxFYWNoV2l0aCh0aGlzLl9hZnRlciwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2FmdGVyICYmIGV2ZW50KSB7XG4gICAgICBjYWxsRWFjaFdpdGgodGhpcy5fYWZ0ZXIsIGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBiZWZvcmVFYWNoKGZ1bmN0aW9uXykge1xuICAgIHRoaXMuX2JlZm9yZSA9IHRoaXMuX2JlZm9yZSB8fCBbXTtcbiAgICB0aGlzLl9iZWZvcmUucHVzaChmdW5jdGlvbl8pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fYmVmb3JlICE9PSB2b2lkIDApIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9iZWZvcmUuaW5kZXhPZihmdW5jdGlvbl8pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5fYmVmb3JlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFmdGVyRWFjaChmdW5jdGlvbl8pIHtcbiAgICB0aGlzLl9hZnRlciA9IHRoaXMuX2FmdGVyIHx8IFtdO1xuICAgIHRoaXMuX2FmdGVyLnB1c2goZnVuY3Rpb25fKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2FmdGVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9hZnRlci5pbmRleE9mKGZ1bmN0aW9uXyk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLl9hZnRlci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlSG9va3MoKSB7XG4gIHJldHVybiBuZXcgSG9va2FibGUoKTtcbn1cblxuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbmZ1bmN0aW9uIGNyZWF0ZURlYnVnZ2VyKGhvb2tzLCBfb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgaW5zcGVjdDogaXNCcm93c2VyLFxuICAgIGdyb3VwOiBpc0Jyb3dzZXIsXG4gICAgZmlsdGVyOiAoKSA9PiB0cnVlLFxuICAgIC4uLl9vcHRpb25zXG4gIH07XG4gIGNvbnN0IF9maWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgY29uc3QgZmlsdGVyID0gdHlwZW9mIF9maWx0ZXIgPT09IFwic3RyaW5nXCIgPyAobmFtZSkgPT4gbmFtZS5zdGFydHNXaXRoKF9maWx0ZXIpIDogX2ZpbHRlcjtcbiAgY29uc3QgX3RhZyA9IG9wdGlvbnMudGFnID8gYFske29wdGlvbnMudGFnfV0gYCA6IFwiXCI7XG4gIGNvbnN0IGxvZ1ByZWZpeCA9IChldmVudCkgPT4gX3RhZyArIGV2ZW50Lm5hbWUgKyBcIlwiLnBhZEVuZChldmVudC5faWQsIFwiXFwwXCIpO1xuICBjb25zdCBfaWRDdHIgPSB7fTtcbiAgY29uc3QgdW5zdWJzY3JpYmVCZWZvcmUgPSBob29rcy5iZWZvcmVFYWNoKChldmVudCkgPT4ge1xuICAgIGlmIChmaWx0ZXIgIT09IHZvaWQgMCAmJiAhZmlsdGVyKGV2ZW50Lm5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9pZEN0cltldmVudC5uYW1lXSA9IF9pZEN0cltldmVudC5uYW1lXSB8fCAwO1xuICAgIGV2ZW50Ll9pZCA9IF9pZEN0cltldmVudC5uYW1lXSsrO1xuICAgIGNvbnNvbGUudGltZShsb2dQcmVmaXgoZXZlbnQpKTtcbiAgfSk7XG4gIGNvbnN0IHVuc3Vic2NyaWJlQWZ0ZXIgPSBob29rcy5hZnRlckVhY2goKGV2ZW50KSA9PiB7XG4gICAgaWYgKGZpbHRlciAhPT0gdm9pZCAwICYmICFmaWx0ZXIoZXZlbnQubmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZ3JvdXApIHtcbiAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoZXZlbnQubmFtZSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmluc3BlY3QpIHtcbiAgICAgIGNvbnNvbGUudGltZUxvZyhsb2dQcmVmaXgoZXZlbnQpLCBldmVudC5hcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS50aW1lRW5kKGxvZ1ByZWZpeChldmVudCkpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5ncm91cCkge1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbiAgICBfaWRDdHJbZXZlbnQubmFtZV0tLTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgLyoqIFN0b3AgZGVidWdnaW5nIGFuZCByZW1vdmUgbGlzdGVuZXJzICovXG4gICAgY2xvc2U6ICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlQmVmb3JlKCk7XG4gICAgICB1bnN1YnNjcmliZUFmdGVyKCk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgeyBIb29rYWJsZSwgY3JlYXRlRGVidWdnZXIsIGNyZWF0ZUhvb2tzLCBmbGF0SG9va3MsIG1lcmdlSG9va3MsIHBhcmFsbGVsQ2FsbGVyLCBzZXJpYWwsIHNlcmlhbENhbGxlciB9O1xuIiwidmFyIF9fY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2dldFByb3RvT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX2VzbSA9IChmbiwgcmVzKSA9PiBmdW5jdGlvbiBfX2luaXQoKSB7XG4gIHJldHVybiBmbiAmJiAocmVzID0gKDAsIGZuW19fZ2V0T3duUHJvcE5hbWVzKGZuKVswXV0pKGZuID0gMCkpLCByZXM7XG59O1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0VTTSA9IChtb2QsIGlzTm9kZU1vZGUsIHRhcmdldDIyKSA9PiAodGFyZ2V0MjIgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgLy8gSWYgdGhlIGltcG9ydGVyIGlzIGluIG5vZGUgY29tcGF0aWJpbGl0eSBtb2RlIG9yIHRoaXMgaXMgbm90IGFuIEVTTVxuICAvLyBmaWxlIHRoYXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgQ29tbW9uSlMgZmlsZSB1c2luZyBhIEJhYmVsLVxuICAvLyBjb21wYXRpYmxlIHRyYW5zZm9ybSAoaS5lLiBcIl9fZXNNb2R1bGVcIiBoYXMgbm90IGJlZW4gc2V0KSwgdGhlbiBzZXRcbiAgLy8gXCJkZWZhdWx0XCIgdG8gdGhlIENvbW1vbkpTIFwibW9kdWxlLmV4cG9ydHNcIiBmb3Igbm9kZSBjb21wYXRpYmlsaXR5LlxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldDIyLCBcImRlZmF1bHRcIiwgeyB2YWx1ZTogbW9kLCBlbnVtZXJhYmxlOiB0cnVlIH0pIDogdGFyZ2V0MjIsXG4gIG1vZFxuKSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90c3VwQDguNC4wX0BtaWNyb3NvZnQrYXBpLWV4dHJhY3RvckA3LjUxLjFfQHR5cGVzK25vZGVAMjIuMTMuMTRfX2ppdGlAMi40LjJfcG9zdGNzc0A4LjVfOTZlYjA1YTlkNjUzNDMwMjFlNTM3OTFkZDgzZjM3NzMvbm9kZV9tb2R1bGVzL3RzdXAvYXNzZXRzL2VzbV9zaGltcy5qc1xudmFyIGluaXRfZXNtX3NoaW1zID0gX19lc20oe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS90c3VwQDguNC4wX0BtaWNyb3NvZnQrYXBpLWV4dHJhY3RvckA3LjUxLjFfQHR5cGVzK25vZGVAMjIuMTMuMTRfX2ppdGlAMi40LjJfcG9zdGNzc0A4LjVfOTZlYjA1YTlkNjUzNDMwMjFlNTM3OTFkZDgzZjM3NzMvbm9kZV9tb2R1bGVzL3RzdXAvYXNzZXRzL2VzbV9zaGltcy5qc1wiKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NwZWFraW5ndXJsQDE0LjAuMS9ub2RlX21vZHVsZXMvc3BlYWtpbmd1cmwvbGliL3NwZWFraW5ndXJsLmpzXG52YXIgcmVxdWlyZV9zcGVha2luZ3VybCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zcGVha2luZ3VybEAxNC4wLjEvbm9kZV9tb2R1bGVzL3NwZWFraW5ndXJsL2xpYi9zcGVha2luZ3VybC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGluaXRfZXNtX3NoaW1zKCk7XG4gICAgKGZ1bmN0aW9uKHJvb3QpIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgdmFyIGNoYXJNYXAgPSB7XG4gICAgICAgIC8vIGxhdGluXG4gICAgICAgIFwiXFx4QzBcIjogXCJBXCIsXG4gICAgICAgIFwiXFx4QzFcIjogXCJBXCIsXG4gICAgICAgIFwiXFx4QzJcIjogXCJBXCIsXG4gICAgICAgIFwiXFx4QzNcIjogXCJBXCIsXG4gICAgICAgIFwiXFx4QzRcIjogXCJBZVwiLFxuICAgICAgICBcIlxceEM1XCI6IFwiQVwiLFxuICAgICAgICBcIlxceEM2XCI6IFwiQUVcIixcbiAgICAgICAgXCJcXHhDN1wiOiBcIkNcIixcbiAgICAgICAgXCJcXHhDOFwiOiBcIkVcIixcbiAgICAgICAgXCJcXHhDOVwiOiBcIkVcIixcbiAgICAgICAgXCJcXHhDQVwiOiBcIkVcIixcbiAgICAgICAgXCJcXHhDQlwiOiBcIkVcIixcbiAgICAgICAgXCJcXHhDQ1wiOiBcIklcIixcbiAgICAgICAgXCJcXHhDRFwiOiBcIklcIixcbiAgICAgICAgXCJcXHhDRVwiOiBcIklcIixcbiAgICAgICAgXCJcXHhDRlwiOiBcIklcIixcbiAgICAgICAgXCJcXHhEMFwiOiBcIkRcIixcbiAgICAgICAgXCJcXHhEMVwiOiBcIk5cIixcbiAgICAgICAgXCJcXHhEMlwiOiBcIk9cIixcbiAgICAgICAgXCJcXHhEM1wiOiBcIk9cIixcbiAgICAgICAgXCJcXHhENFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHhENVwiOiBcIk9cIixcbiAgICAgICAgXCJcXHhENlwiOiBcIk9lXCIsXG4gICAgICAgIFwiXFx1MDE1MFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHhEOFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHhEOVwiOiBcIlVcIixcbiAgICAgICAgXCJcXHhEQVwiOiBcIlVcIixcbiAgICAgICAgXCJcXHhEQlwiOiBcIlVcIixcbiAgICAgICAgXCJcXHhEQ1wiOiBcIlVlXCIsXG4gICAgICAgIFwiXFx1MDE3MFwiOiBcIlVcIixcbiAgICAgICAgXCJcXHhERFwiOiBcIllcIixcbiAgICAgICAgXCJcXHhERVwiOiBcIlRIXCIsXG4gICAgICAgIFwiXFx4REZcIjogXCJzc1wiLFxuICAgICAgICBcIlxceEUwXCI6IFwiYVwiLFxuICAgICAgICBcIlxceEUxXCI6IFwiYVwiLFxuICAgICAgICBcIlxceEUyXCI6IFwiYVwiLFxuICAgICAgICBcIlxceEUzXCI6IFwiYVwiLFxuICAgICAgICBcIlxceEU0XCI6IFwiYWVcIixcbiAgICAgICAgXCJcXHhFNVwiOiBcImFcIixcbiAgICAgICAgXCJcXHhFNlwiOiBcImFlXCIsXG4gICAgICAgIFwiXFx4RTdcIjogXCJjXCIsXG4gICAgICAgIFwiXFx4RThcIjogXCJlXCIsXG4gICAgICAgIFwiXFx4RTlcIjogXCJlXCIsXG4gICAgICAgIFwiXFx4RUFcIjogXCJlXCIsXG4gICAgICAgIFwiXFx4RUJcIjogXCJlXCIsXG4gICAgICAgIFwiXFx4RUNcIjogXCJpXCIsXG4gICAgICAgIFwiXFx4RURcIjogXCJpXCIsXG4gICAgICAgIFwiXFx4RUVcIjogXCJpXCIsXG4gICAgICAgIFwiXFx4RUZcIjogXCJpXCIsXG4gICAgICAgIFwiXFx4RjBcIjogXCJkXCIsXG4gICAgICAgIFwiXFx4RjFcIjogXCJuXCIsXG4gICAgICAgIFwiXFx4RjJcIjogXCJvXCIsXG4gICAgICAgIFwiXFx4RjNcIjogXCJvXCIsXG4gICAgICAgIFwiXFx4RjRcIjogXCJvXCIsXG4gICAgICAgIFwiXFx4RjVcIjogXCJvXCIsXG4gICAgICAgIFwiXFx4RjZcIjogXCJvZVwiLFxuICAgICAgICBcIlxcdTAxNTFcIjogXCJvXCIsXG4gICAgICAgIFwiXFx4RjhcIjogXCJvXCIsXG4gICAgICAgIFwiXFx4RjlcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx4RkFcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx4RkJcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx4RkNcIjogXCJ1ZVwiLFxuICAgICAgICBcIlxcdTAxNzFcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx4RkRcIjogXCJ5XCIsXG4gICAgICAgIFwiXFx4RkVcIjogXCJ0aFwiLFxuICAgICAgICBcIlxceEZGXCI6IFwieVwiLFxuICAgICAgICBcIlxcdTFFOUVcIjogXCJTU1wiLFxuICAgICAgICAvLyBsYW5ndWFnZSBzcGVjaWZpY1xuICAgICAgICAvLyBBcmFiaWNcbiAgICAgICAgXCJcXHUwNjI3XCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTA2MjNcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MDYyNVwiOiBcImlcIixcbiAgICAgICAgXCJcXHUwNjIyXCI6IFwiYWFcIixcbiAgICAgICAgXCJcXHUwNjI0XCI6IFwidVwiLFxuICAgICAgICBcIlxcdTA2MjZcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MDYyMVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUwNjI4XCI6IFwiYlwiLFxuICAgICAgICBcIlxcdTA2MkFcIjogXCJ0XCIsXG4gICAgICAgIFwiXFx1MDYyQlwiOiBcInRoXCIsXG4gICAgICAgIFwiXFx1MDYyQ1wiOiBcImpcIixcbiAgICAgICAgXCJcXHUwNjJEXCI6IFwiaFwiLFxuICAgICAgICBcIlxcdTA2MkVcIjogXCJraFwiLFxuICAgICAgICBcIlxcdTA2MkZcIjogXCJkXCIsXG4gICAgICAgIFwiXFx1MDYzMFwiOiBcInRoXCIsXG4gICAgICAgIFwiXFx1MDYzMVwiOiBcInJcIixcbiAgICAgICAgXCJcXHUwNjMyXCI6IFwielwiLFxuICAgICAgICBcIlxcdTA2MzNcIjogXCJzXCIsXG4gICAgICAgIFwiXFx1MDYzNFwiOiBcInNoXCIsXG4gICAgICAgIFwiXFx1MDYzNVwiOiBcInNcIixcbiAgICAgICAgXCJcXHUwNjM2XCI6IFwiZGhcIixcbiAgICAgICAgXCJcXHUwNjM3XCI6IFwidFwiLFxuICAgICAgICBcIlxcdTA2MzhcIjogXCJ6XCIsXG4gICAgICAgIFwiXFx1MDYzOVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUwNjNBXCI6IFwiZ2hcIixcbiAgICAgICAgXCJcXHUwNjQxXCI6IFwiZlwiLFxuICAgICAgICBcIlxcdTA2NDJcIjogXCJxXCIsXG4gICAgICAgIFwiXFx1MDY0M1wiOiBcImtcIixcbiAgICAgICAgXCJcXHUwNjQ0XCI6IFwibFwiLFxuICAgICAgICBcIlxcdTA2NDVcIjogXCJtXCIsXG4gICAgICAgIFwiXFx1MDY0NlwiOiBcIm5cIixcbiAgICAgICAgXCJcXHUwNjQ3XCI6IFwiaFwiLFxuICAgICAgICBcIlxcdTA2NDhcIjogXCJ3XCIsXG4gICAgICAgIFwiXFx1MDY0QVwiOiBcInlcIixcbiAgICAgICAgXCJcXHUwNjQ5XCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTA2MjlcIjogXCJoXCIsXG4gICAgICAgIFwiXFx1RkVGQlwiOiBcImxhXCIsXG4gICAgICAgIFwiXFx1RkVGN1wiOiBcImxhYVwiLFxuICAgICAgICBcIlxcdUZFRjlcIjogXCJsYWlcIixcbiAgICAgICAgXCJcXHVGRUY1XCI6IFwibGFhXCIsXG4gICAgICAgIC8vIFBlcnNpYW4gYWRkaXRpb25hbCBjaGFyYWN0ZXJzIHRoYW4gQXJhYmljXG4gICAgICAgIFwiXFx1MDZBRlwiOiBcImdcIixcbiAgICAgICAgXCJcXHUwNjg2XCI6IFwiY2hcIixcbiAgICAgICAgXCJcXHUwNjdFXCI6IFwicFwiLFxuICAgICAgICBcIlxcdTA2OThcIjogXCJ6aFwiLFxuICAgICAgICBcIlxcdTA2QTlcIjogXCJrXCIsXG4gICAgICAgIFwiXFx1MDZDQ1wiOiBcInlcIixcbiAgICAgICAgLy8gQXJhYmljIGRpYWN0cmljc1xuICAgICAgICBcIlxcdTA2NEVcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MDY0QlwiOiBcImFuXCIsXG4gICAgICAgIFwiXFx1MDY1MFwiOiBcImVcIixcbiAgICAgICAgXCJcXHUwNjREXCI6IFwiZW5cIixcbiAgICAgICAgXCJcXHUwNjRGXCI6IFwidVwiLFxuICAgICAgICBcIlxcdTA2NENcIjogXCJvblwiLFxuICAgICAgICBcIlxcdTA2NTJcIjogXCJcIixcbiAgICAgICAgLy8gQXJhYmljIG51bWJlcnNcbiAgICAgICAgXCJcXHUwNjYwXCI6IFwiMFwiLFxuICAgICAgICBcIlxcdTA2NjFcIjogXCIxXCIsXG4gICAgICAgIFwiXFx1MDY2MlwiOiBcIjJcIixcbiAgICAgICAgXCJcXHUwNjYzXCI6IFwiM1wiLFxuICAgICAgICBcIlxcdTA2NjRcIjogXCI0XCIsXG4gICAgICAgIFwiXFx1MDY2NVwiOiBcIjVcIixcbiAgICAgICAgXCJcXHUwNjY2XCI6IFwiNlwiLFxuICAgICAgICBcIlxcdTA2NjdcIjogXCI3XCIsXG4gICAgICAgIFwiXFx1MDY2OFwiOiBcIjhcIixcbiAgICAgICAgXCJcXHUwNjY5XCI6IFwiOVwiLFxuICAgICAgICAvLyBQZXJzaWFuIG51bWJlcnNcbiAgICAgICAgXCJcXHUwNkYwXCI6IFwiMFwiLFxuICAgICAgICBcIlxcdTA2RjFcIjogXCIxXCIsXG4gICAgICAgIFwiXFx1MDZGMlwiOiBcIjJcIixcbiAgICAgICAgXCJcXHUwNkYzXCI6IFwiM1wiLFxuICAgICAgICBcIlxcdTA2RjRcIjogXCI0XCIsXG4gICAgICAgIFwiXFx1MDZGNVwiOiBcIjVcIixcbiAgICAgICAgXCJcXHUwNkY2XCI6IFwiNlwiLFxuICAgICAgICBcIlxcdTA2RjdcIjogXCI3XCIsXG4gICAgICAgIFwiXFx1MDZGOFwiOiBcIjhcIixcbiAgICAgICAgXCJcXHUwNkY5XCI6IFwiOVwiLFxuICAgICAgICAvLyBCdXJtZXNlIGNvbnNvbmFudHNcbiAgICAgICAgXCJcXHUxMDAwXCI6IFwia1wiLFxuICAgICAgICBcIlxcdTEwMDFcIjogXCJraFwiLFxuICAgICAgICBcIlxcdTEwMDJcIjogXCJnXCIsXG4gICAgICAgIFwiXFx1MTAwM1wiOiBcImdhXCIsXG4gICAgICAgIFwiXFx1MTAwNFwiOiBcIm5nXCIsXG4gICAgICAgIFwiXFx1MTAwNVwiOiBcInNcIixcbiAgICAgICAgXCJcXHUxMDA2XCI6IFwic2FcIixcbiAgICAgICAgXCJcXHUxMDA3XCI6IFwielwiLFxuICAgICAgICBcIlxcdTEwMDVcXHUxMDNCXCI6IFwiemFcIixcbiAgICAgICAgXCJcXHUxMDBBXCI6IFwibnlcIixcbiAgICAgICAgXCJcXHUxMDBCXCI6IFwidFwiLFxuICAgICAgICBcIlxcdTEwMENcIjogXCJ0YVwiLFxuICAgICAgICBcIlxcdTEwMERcIjogXCJkXCIsXG4gICAgICAgIFwiXFx1MTAwRVwiOiBcImRhXCIsXG4gICAgICAgIFwiXFx1MTAwRlwiOiBcIm5hXCIsXG4gICAgICAgIFwiXFx1MTAxMFwiOiBcInRcIixcbiAgICAgICAgXCJcXHUxMDExXCI6IFwidGFcIixcbiAgICAgICAgXCJcXHUxMDEyXCI6IFwiZFwiLFxuICAgICAgICBcIlxcdTEwMTNcIjogXCJkYVwiLFxuICAgICAgICBcIlxcdTEwMTRcIjogXCJuXCIsXG4gICAgICAgIFwiXFx1MTAxNVwiOiBcInBcIixcbiAgICAgICAgXCJcXHUxMDE2XCI6IFwicGFcIixcbiAgICAgICAgXCJcXHUxMDE3XCI6IFwiYlwiLFxuICAgICAgICBcIlxcdTEwMThcIjogXCJiYVwiLFxuICAgICAgICBcIlxcdTEwMTlcIjogXCJtXCIsXG4gICAgICAgIFwiXFx1MTAxQVwiOiBcInlcIixcbiAgICAgICAgXCJcXHUxMDFCXCI6IFwieWFcIixcbiAgICAgICAgXCJcXHUxMDFDXCI6IFwibFwiLFxuICAgICAgICBcIlxcdTEwMURcIjogXCJ3XCIsXG4gICAgICAgIFwiXFx1MTAxRVwiOiBcInRoXCIsXG4gICAgICAgIFwiXFx1MTAxRlwiOiBcImhcIixcbiAgICAgICAgXCJcXHUxMDIwXCI6IFwibGFcIixcbiAgICAgICAgXCJcXHUxMDIxXCI6IFwiYVwiLFxuICAgICAgICAvLyBjb25zb25hbnQgY2hhcmFjdGVyIGNvbWJvc1xuICAgICAgICBcIlxcdTEwM0NcIjogXCJ5XCIsXG4gICAgICAgIFwiXFx1MTAzQlwiOiBcInlhXCIsXG4gICAgICAgIFwiXFx1MTAzRFwiOiBcIndcIixcbiAgICAgICAgXCJcXHUxMDNDXFx1MTAzRFwiOiBcInl3XCIsXG4gICAgICAgIFwiXFx1MTAzQlxcdTEwM0RcIjogXCJ5d2FcIixcbiAgICAgICAgXCJcXHUxMDNFXCI6IFwiaFwiLFxuICAgICAgICAvLyBpbmRlcGVuZGVudCB2b3dlbHNcbiAgICAgICAgXCJcXHUxMDI3XCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTEwNEZcIjogXCItZVwiLFxuICAgICAgICBcIlxcdTEwMjNcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MTAyNFwiOiBcIi1pXCIsXG4gICAgICAgIFwiXFx1MTAwOVwiOiBcInVcIixcbiAgICAgICAgXCJcXHUxMDI2XCI6IFwiLXVcIixcbiAgICAgICAgXCJcXHUxMDI5XCI6IFwiYXdcIixcbiAgICAgICAgXCJcXHUxMDFFXFx1MTAzQ1xcdTEwMzFcXHUxMDJDXCI6IFwiYXdcIixcbiAgICAgICAgXCJcXHUxMDJBXCI6IFwiYXdcIixcbiAgICAgICAgLy8gbnVtYmVyc1xuICAgICAgICBcIlxcdTEwNDBcIjogXCIwXCIsXG4gICAgICAgIFwiXFx1MTA0MVwiOiBcIjFcIixcbiAgICAgICAgXCJcXHUxMDQyXCI6IFwiMlwiLFxuICAgICAgICBcIlxcdTEwNDNcIjogXCIzXCIsXG4gICAgICAgIFwiXFx1MTA0NFwiOiBcIjRcIixcbiAgICAgICAgXCJcXHUxMDQ1XCI6IFwiNVwiLFxuICAgICAgICBcIlxcdTEwNDZcIjogXCI2XCIsXG4gICAgICAgIFwiXFx1MTA0N1wiOiBcIjdcIixcbiAgICAgICAgXCJcXHUxMDQ4XCI6IFwiOFwiLFxuICAgICAgICBcIlxcdTEwNDlcIjogXCI5XCIsXG4gICAgICAgIC8vIHZpcmFtYSBhbmQgdG9uZSBtYXJrcyB3aGljaCBhcmUgc2lsZW50IGluIHRyYW5zbGl0ZXJhdGlvblxuICAgICAgICBcIlxcdTEwMzlcIjogXCJcIixcbiAgICAgICAgXCJcXHUxMDM3XCI6IFwiXCIsXG4gICAgICAgIFwiXFx1MTAzOFwiOiBcIlwiLFxuICAgICAgICAvLyBDemVjaFxuICAgICAgICBcIlxcdTAxMERcIjogXCJjXCIsXG4gICAgICAgIFwiXFx1MDEwRlwiOiBcImRcIixcbiAgICAgICAgXCJcXHUwMTFCXCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTAxNDhcIjogXCJuXCIsXG4gICAgICAgIFwiXFx1MDE1OVwiOiBcInJcIixcbiAgICAgICAgXCJcXHUwMTYxXCI6IFwic1wiLFxuICAgICAgICBcIlxcdTAxNjVcIjogXCJ0XCIsXG4gICAgICAgIFwiXFx1MDE2RlwiOiBcInVcIixcbiAgICAgICAgXCJcXHUwMTdFXCI6IFwielwiLFxuICAgICAgICBcIlxcdTAxMENcIjogXCJDXCIsXG4gICAgICAgIFwiXFx1MDEwRVwiOiBcIkRcIixcbiAgICAgICAgXCJcXHUwMTFBXCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTAxNDdcIjogXCJOXCIsXG4gICAgICAgIFwiXFx1MDE1OFwiOiBcIlJcIixcbiAgICAgICAgXCJcXHUwMTYwXCI6IFwiU1wiLFxuICAgICAgICBcIlxcdTAxNjRcIjogXCJUXCIsXG4gICAgICAgIFwiXFx1MDE2RVwiOiBcIlVcIixcbiAgICAgICAgXCJcXHUwMTdEXCI6IFwiWlwiLFxuICAgICAgICAvLyBEaGl2ZWhpXG4gICAgICAgIFwiXFx1MDc4MFwiOiBcImhcIixcbiAgICAgICAgXCJcXHUwNzgxXCI6IFwic2hcIixcbiAgICAgICAgXCJcXHUwNzgyXCI6IFwiblwiLFxuICAgICAgICBcIlxcdTA3ODNcIjogXCJyXCIsXG4gICAgICAgIFwiXFx1MDc4NFwiOiBcImJcIixcbiAgICAgICAgXCJcXHUwNzg1XCI6IFwibGhcIixcbiAgICAgICAgXCJcXHUwNzg2XCI6IFwia1wiLFxuICAgICAgICBcIlxcdTA3ODdcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MDc4OFwiOiBcInZcIixcbiAgICAgICAgXCJcXHUwNzg5XCI6IFwibVwiLFxuICAgICAgICBcIlxcdTA3OEFcIjogXCJmXCIsXG4gICAgICAgIFwiXFx1MDc4QlwiOiBcImRoXCIsXG4gICAgICAgIFwiXFx1MDc4Q1wiOiBcInRoXCIsXG4gICAgICAgIFwiXFx1MDc4RFwiOiBcImxcIixcbiAgICAgICAgXCJcXHUwNzhFXCI6IFwiZ1wiLFxuICAgICAgICBcIlxcdTA3OEZcIjogXCJnblwiLFxuICAgICAgICBcIlxcdTA3OTBcIjogXCJzXCIsXG4gICAgICAgIFwiXFx1MDc5MVwiOiBcImRcIixcbiAgICAgICAgXCJcXHUwNzkyXCI6IFwielwiLFxuICAgICAgICBcIlxcdTA3OTNcIjogXCJ0XCIsXG4gICAgICAgIFwiXFx1MDc5NFwiOiBcInlcIixcbiAgICAgICAgXCJcXHUwNzk1XCI6IFwicFwiLFxuICAgICAgICBcIlxcdTA3OTZcIjogXCJqXCIsXG4gICAgICAgIFwiXFx1MDc5N1wiOiBcImNoXCIsXG4gICAgICAgIFwiXFx1MDc5OFwiOiBcInR0XCIsXG4gICAgICAgIFwiXFx1MDc5OVwiOiBcImhoXCIsXG4gICAgICAgIFwiXFx1MDc5QVwiOiBcImtoXCIsXG4gICAgICAgIFwiXFx1MDc5QlwiOiBcInRoXCIsXG4gICAgICAgIFwiXFx1MDc5Q1wiOiBcInpcIixcbiAgICAgICAgXCJcXHUwNzlEXCI6IFwic2hcIixcbiAgICAgICAgXCJcXHUwNzlFXCI6IFwic1wiLFxuICAgICAgICBcIlxcdTA3OUZcIjogXCJkXCIsXG4gICAgICAgIFwiXFx1MDdBMFwiOiBcInRcIixcbiAgICAgICAgXCJcXHUwN0ExXCI6IFwielwiLFxuICAgICAgICBcIlxcdTA3QTJcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MDdBM1wiOiBcImdoXCIsXG4gICAgICAgIFwiXFx1MDdBNFwiOiBcInFcIixcbiAgICAgICAgXCJcXHUwN0E1XCI6IFwid1wiLFxuICAgICAgICBcIlxcdTA3QTZcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MDdBN1wiOiBcImFhXCIsXG4gICAgICAgIFwiXFx1MDdBOFwiOiBcImlcIixcbiAgICAgICAgXCJcXHUwN0E5XCI6IFwiZWVcIixcbiAgICAgICAgXCJcXHUwN0FBXCI6IFwidVwiLFxuICAgICAgICBcIlxcdTA3QUJcIjogXCJvb1wiLFxuICAgICAgICBcIlxcdTA3QUNcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MDdBRFwiOiBcImV5XCIsXG4gICAgICAgIFwiXFx1MDdBRVwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUwN0FGXCI6IFwib2FcIixcbiAgICAgICAgXCJcXHUwN0IwXCI6IFwiXCIsXG4gICAgICAgIC8vIEdlb3JnaWFuIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JvbWFuaXphdGlvbl9vZl9HZW9yZ2lhblxuICAgICAgICAvLyBOYXRpb25hbCBzeXN0ZW0gKDIwMDIpXG4gICAgICAgIFwiXFx1MTBEMFwiOiBcImFcIixcbiAgICAgICAgXCJcXHUxMEQxXCI6IFwiYlwiLFxuICAgICAgICBcIlxcdTEwRDJcIjogXCJnXCIsXG4gICAgICAgIFwiXFx1MTBEM1wiOiBcImRcIixcbiAgICAgICAgXCJcXHUxMEQ0XCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTEwRDVcIjogXCJ2XCIsXG4gICAgICAgIFwiXFx1MTBENlwiOiBcInpcIixcbiAgICAgICAgXCJcXHUxMEQ3XCI6IFwidFwiLFxuICAgICAgICBcIlxcdTEwRDhcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MTBEOVwiOiBcImtcIixcbiAgICAgICAgXCJcXHUxMERBXCI6IFwibFwiLFxuICAgICAgICBcIlxcdTEwREJcIjogXCJtXCIsXG4gICAgICAgIFwiXFx1MTBEQ1wiOiBcIm5cIixcbiAgICAgICAgXCJcXHUxMEREXCI6IFwib1wiLFxuICAgICAgICBcIlxcdTEwREVcIjogXCJwXCIsXG4gICAgICAgIFwiXFx1MTBERlwiOiBcInpoXCIsXG4gICAgICAgIFwiXFx1MTBFMFwiOiBcInJcIixcbiAgICAgICAgXCJcXHUxMEUxXCI6IFwic1wiLFxuICAgICAgICBcIlxcdTEwRTJcIjogXCJ0XCIsXG4gICAgICAgIFwiXFx1MTBFM1wiOiBcInVcIixcbiAgICAgICAgXCJcXHUxMEU0XCI6IFwicFwiLFxuICAgICAgICBcIlxcdTEwRTVcIjogXCJrXCIsXG4gICAgICAgIFwiXFx1MTBFNlwiOiBcImdoXCIsXG4gICAgICAgIFwiXFx1MTBFN1wiOiBcInFcIixcbiAgICAgICAgXCJcXHUxMEU4XCI6IFwic2hcIixcbiAgICAgICAgXCJcXHUxMEU5XCI6IFwiY2hcIixcbiAgICAgICAgXCJcXHUxMEVBXCI6IFwidHNcIixcbiAgICAgICAgXCJcXHUxMEVCXCI6IFwiZHpcIixcbiAgICAgICAgXCJcXHUxMEVDXCI6IFwidHNcIixcbiAgICAgICAgXCJcXHUxMEVEXCI6IFwiY2hcIixcbiAgICAgICAgXCJcXHUxMEVFXCI6IFwia2hcIixcbiAgICAgICAgXCJcXHUxMEVGXCI6IFwialwiLFxuICAgICAgICBcIlxcdTEwRjBcIjogXCJoXCIsXG4gICAgICAgIC8vIEdyZWVrXG4gICAgICAgIFwiXFx1MDNCMVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUwM0IyXCI6IFwidlwiLFxuICAgICAgICBcIlxcdTAzQjNcIjogXCJnXCIsXG4gICAgICAgIFwiXFx1MDNCNFwiOiBcImRcIixcbiAgICAgICAgXCJcXHUwM0I1XCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTAzQjZcIjogXCJ6XCIsXG4gICAgICAgIFwiXFx1MDNCN1wiOiBcImlcIixcbiAgICAgICAgXCJcXHUwM0I4XCI6IFwidGhcIixcbiAgICAgICAgXCJcXHUwM0I5XCI6IFwiaVwiLFxuICAgICAgICBcIlxcdTAzQkFcIjogXCJrXCIsXG4gICAgICAgIFwiXFx1MDNCQlwiOiBcImxcIixcbiAgICAgICAgXCJcXHUwM0JDXCI6IFwibVwiLFxuICAgICAgICBcIlxcdTAzQkRcIjogXCJuXCIsXG4gICAgICAgIFwiXFx1MDNCRVwiOiBcImtzXCIsXG4gICAgICAgIFwiXFx1MDNCRlwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUwM0MwXCI6IFwicFwiLFxuICAgICAgICBcIlxcdTAzQzFcIjogXCJyXCIsXG4gICAgICAgIFwiXFx1MDNDM1wiOiBcInNcIixcbiAgICAgICAgXCJcXHUwM0M0XCI6IFwidFwiLFxuICAgICAgICBcIlxcdTAzQzVcIjogXCJ5XCIsXG4gICAgICAgIFwiXFx1MDNDNlwiOiBcImZcIixcbiAgICAgICAgXCJcXHUwM0M3XCI6IFwieFwiLFxuICAgICAgICBcIlxcdTAzQzhcIjogXCJwc1wiLFxuICAgICAgICBcIlxcdTAzQzlcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MDNBQ1wiOiBcImFcIixcbiAgICAgICAgXCJcXHUwM0FEXCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTAzQUZcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDNDQ1wiOiBcIm9cIixcbiAgICAgICAgXCJcXHUwM0NEXCI6IFwieVwiLFxuICAgICAgICBcIlxcdTAzQUVcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDNDRVwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUwM0MyXCI6IFwic1wiLFxuICAgICAgICBcIlxcdTAzQ0FcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDNCMFwiOiBcInlcIixcbiAgICAgICAgXCJcXHUwM0NCXCI6IFwieVwiLFxuICAgICAgICBcIlxcdTAzOTBcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDM5MVwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUwMzkyXCI6IFwiQlwiLFxuICAgICAgICBcIlxcdTAzOTNcIjogXCJHXCIsXG4gICAgICAgIFwiXFx1MDM5NFwiOiBcIkRcIixcbiAgICAgICAgXCJcXHUwMzk1XCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTAzOTZcIjogXCJaXCIsXG4gICAgICAgIFwiXFx1MDM5N1wiOiBcIklcIixcbiAgICAgICAgXCJcXHUwMzk4XCI6IFwiVEhcIixcbiAgICAgICAgXCJcXHUwMzk5XCI6IFwiSVwiLFxuICAgICAgICBcIlxcdTAzOUFcIjogXCJLXCIsXG4gICAgICAgIFwiXFx1MDM5QlwiOiBcIkxcIixcbiAgICAgICAgXCJcXHUwMzlDXCI6IFwiTVwiLFxuICAgICAgICBcIlxcdTAzOURcIjogXCJOXCIsXG4gICAgICAgIFwiXFx1MDM5RVwiOiBcIktTXCIsXG4gICAgICAgIFwiXFx1MDM5RlwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUwM0EwXCI6IFwiUFwiLFxuICAgICAgICBcIlxcdTAzQTFcIjogXCJSXCIsXG4gICAgICAgIFwiXFx1MDNBM1wiOiBcIlNcIixcbiAgICAgICAgXCJcXHUwM0E0XCI6IFwiVFwiLFxuICAgICAgICBcIlxcdTAzQTVcIjogXCJZXCIsXG4gICAgICAgIFwiXFx1MDNBNlwiOiBcIkZcIixcbiAgICAgICAgXCJcXHUwM0E3XCI6IFwiWFwiLFxuICAgICAgICBcIlxcdTAzQThcIjogXCJQU1wiLFxuICAgICAgICBcIlxcdTAzQTlcIjogXCJPXCIsXG4gICAgICAgIFwiXFx1MDM4NlwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUwMzg4XCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTAzOEFcIjogXCJJXCIsXG4gICAgICAgIFwiXFx1MDM4Q1wiOiBcIk9cIixcbiAgICAgICAgXCJcXHUwMzhFXCI6IFwiWVwiLFxuICAgICAgICBcIlxcdTAzODlcIjogXCJJXCIsXG4gICAgICAgIFwiXFx1MDM4RlwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUwM0FBXCI6IFwiSVwiLFxuICAgICAgICBcIlxcdTAzQUJcIjogXCJZXCIsXG4gICAgICAgIC8vIExhdHZpYW5cbiAgICAgICAgXCJcXHUwMTAxXCI6IFwiYVwiLFxuICAgICAgICAvLyAnxI0nOiAnYycsIC8vIGR1cGxpY2F0ZVxuICAgICAgICBcIlxcdTAxMTNcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MDEyM1wiOiBcImdcIixcbiAgICAgICAgXCJcXHUwMTJCXCI6IFwiaVwiLFxuICAgICAgICBcIlxcdTAxMzdcIjogXCJrXCIsXG4gICAgICAgIFwiXFx1MDEzQ1wiOiBcImxcIixcbiAgICAgICAgXCJcXHUwMTQ2XCI6IFwiblwiLFxuICAgICAgICAvLyAnxaEnOiAncycsIC8vIGR1cGxpY2F0ZVxuICAgICAgICBcIlxcdTAxNkJcIjogXCJ1XCIsXG4gICAgICAgIC8vICfFvic6ICd6JywgLy8gZHVwbGljYXRlXG4gICAgICAgIFwiXFx1MDEwMFwiOiBcIkFcIixcbiAgICAgICAgLy8gJ8SMJzogJ0MnLCAvLyBkdXBsaWNhdGVcbiAgICAgICAgXCJcXHUwMTEyXCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTAxMjJcIjogXCJHXCIsXG4gICAgICAgIFwiXFx1MDEyQVwiOiBcIklcIixcbiAgICAgICAgXCJcXHUwMTM2XCI6IFwia1wiLFxuICAgICAgICBcIlxcdTAxM0JcIjogXCJMXCIsXG4gICAgICAgIFwiXFx1MDE0NVwiOiBcIk5cIixcbiAgICAgICAgLy8gJ8WgJzogJ1MnLCAvLyBkdXBsaWNhdGVcbiAgICAgICAgXCJcXHUwMTZBXCI6IFwiVVwiLFxuICAgICAgICAvLyAnxb0nOiAnWicsIC8vIGR1cGxpY2F0ZVxuICAgICAgICAvLyBNYWNlZG9uaWFuXG4gICAgICAgIFwiXFx1MDQwQ1wiOiBcIktqXCIsXG4gICAgICAgIFwiXFx1MDQ1Q1wiOiBcImtqXCIsXG4gICAgICAgIFwiXFx1MDQwOVwiOiBcIkxqXCIsXG4gICAgICAgIFwiXFx1MDQ1OVwiOiBcImxqXCIsXG4gICAgICAgIFwiXFx1MDQwQVwiOiBcIk5qXCIsXG4gICAgICAgIFwiXFx1MDQ1QVwiOiBcIm5qXCIsXG4gICAgICAgIFwiXFx1MDQyMlxcdTA0NDFcIjogXCJUc1wiLFxuICAgICAgICBcIlxcdTA0NDJcXHUwNDQxXCI6IFwidHNcIixcbiAgICAgICAgLy8gUG9saXNoXG4gICAgICAgIFwiXFx1MDEwNVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUwMTA3XCI6IFwiY1wiLFxuICAgICAgICBcIlxcdTAxMTlcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MDE0MlwiOiBcImxcIixcbiAgICAgICAgXCJcXHUwMTQ0XCI6IFwiblwiLFxuICAgICAgICAvLyAnw7MnOiAnbycsIC8vIGR1cGxpY2F0ZVxuICAgICAgICBcIlxcdTAxNUJcIjogXCJzXCIsXG4gICAgICAgIFwiXFx1MDE3QVwiOiBcInpcIixcbiAgICAgICAgXCJcXHUwMTdDXCI6IFwielwiLFxuICAgICAgICBcIlxcdTAxMDRcIjogXCJBXCIsXG4gICAgICAgIFwiXFx1MDEwNlwiOiBcIkNcIixcbiAgICAgICAgXCJcXHUwMTE4XCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTAxNDFcIjogXCJMXCIsXG4gICAgICAgIFwiXFx1MDE0M1wiOiBcIk5cIixcbiAgICAgICAgXCJcXHUwMTVBXCI6IFwiU1wiLFxuICAgICAgICBcIlxcdTAxNzlcIjogXCJaXCIsXG4gICAgICAgIFwiXFx1MDE3QlwiOiBcIlpcIixcbiAgICAgICAgLy8gVWtyYW5pYW5cbiAgICAgICAgXCJcXHUwNDA0XCI6IFwiWWVcIixcbiAgICAgICAgXCJcXHUwNDA2XCI6IFwiSVwiLFxuICAgICAgICBcIlxcdTA0MDdcIjogXCJZaVwiLFxuICAgICAgICBcIlxcdTA0OTBcIjogXCJHXCIsXG4gICAgICAgIFwiXFx1MDQ1NFwiOiBcInllXCIsXG4gICAgICAgIFwiXFx1MDQ1NlwiOiBcImlcIixcbiAgICAgICAgXCJcXHUwNDU3XCI6IFwieWlcIixcbiAgICAgICAgXCJcXHUwNDkxXCI6IFwiZ1wiLFxuICAgICAgICAvLyBSb21hbmlhblxuICAgICAgICBcIlxcdTAxMDNcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MDEwMlwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUwMjE5XCI6IFwic1wiLFxuICAgICAgICBcIlxcdTAyMThcIjogXCJTXCIsXG4gICAgICAgIC8vICfFnyc6ICdzJywgLy8gZHVwbGljYXRlXG4gICAgICAgIC8vICfFnic6ICdTJywgLy8gZHVwbGljYXRlXG4gICAgICAgIFwiXFx1MDIxQlwiOiBcInRcIixcbiAgICAgICAgXCJcXHUwMjFBXCI6IFwiVFwiLFxuICAgICAgICBcIlxcdTAxNjNcIjogXCJ0XCIsXG4gICAgICAgIFwiXFx1MDE2MlwiOiBcIlRcIixcbiAgICAgICAgLy8gUnVzc2lhbiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Sb21hbml6YXRpb25fb2ZfUnVzc2lhblxuICAgICAgICAvLyBJQ0FPXG4gICAgICAgIFwiXFx1MDQzMFwiOiBcImFcIixcbiAgICAgICAgXCJcXHUwNDMxXCI6IFwiYlwiLFxuICAgICAgICBcIlxcdTA0MzJcIjogXCJ2XCIsXG4gICAgICAgIFwiXFx1MDQzM1wiOiBcImdcIixcbiAgICAgICAgXCJcXHUwNDM0XCI6IFwiZFwiLFxuICAgICAgICBcIlxcdTA0MzVcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MDQ1MVwiOiBcInlvXCIsXG4gICAgICAgIFwiXFx1MDQzNlwiOiBcInpoXCIsXG4gICAgICAgIFwiXFx1MDQzN1wiOiBcInpcIixcbiAgICAgICAgXCJcXHUwNDM4XCI6IFwiaVwiLFxuICAgICAgICBcIlxcdTA0MzlcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDQzQVwiOiBcImtcIixcbiAgICAgICAgXCJcXHUwNDNCXCI6IFwibFwiLFxuICAgICAgICBcIlxcdTA0M0NcIjogXCJtXCIsXG4gICAgICAgIFwiXFx1MDQzRFwiOiBcIm5cIixcbiAgICAgICAgXCJcXHUwNDNFXCI6IFwib1wiLFxuICAgICAgICBcIlxcdTA0M0ZcIjogXCJwXCIsXG4gICAgICAgIFwiXFx1MDQ0MFwiOiBcInJcIixcbiAgICAgICAgXCJcXHUwNDQxXCI6IFwic1wiLFxuICAgICAgICBcIlxcdTA0NDJcIjogXCJ0XCIsXG4gICAgICAgIFwiXFx1MDQ0M1wiOiBcInVcIixcbiAgICAgICAgXCJcXHUwNDQ0XCI6IFwiZlwiLFxuICAgICAgICBcIlxcdTA0NDVcIjogXCJraFwiLFxuICAgICAgICBcIlxcdTA0NDZcIjogXCJjXCIsXG4gICAgICAgIFwiXFx1MDQ0N1wiOiBcImNoXCIsXG4gICAgICAgIFwiXFx1MDQ0OFwiOiBcInNoXCIsXG4gICAgICAgIFwiXFx1MDQ0OVwiOiBcInNoXCIsXG4gICAgICAgIFwiXFx1MDQ0QVwiOiBcIlwiLFxuICAgICAgICBcIlxcdTA0NEJcIjogXCJ5XCIsXG4gICAgICAgIFwiXFx1MDQ0Q1wiOiBcIlwiLFxuICAgICAgICBcIlxcdTA0NERcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MDQ0RVwiOiBcInl1XCIsXG4gICAgICAgIFwiXFx1MDQ0RlwiOiBcInlhXCIsXG4gICAgICAgIFwiXFx1MDQxMFwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUwNDExXCI6IFwiQlwiLFxuICAgICAgICBcIlxcdTA0MTJcIjogXCJWXCIsXG4gICAgICAgIFwiXFx1MDQxM1wiOiBcIkdcIixcbiAgICAgICAgXCJcXHUwNDE0XCI6IFwiRFwiLFxuICAgICAgICBcIlxcdTA0MTVcIjogXCJFXCIsXG4gICAgICAgIFwiXFx1MDQwMVwiOiBcIllvXCIsXG4gICAgICAgIFwiXFx1MDQxNlwiOiBcIlpoXCIsXG4gICAgICAgIFwiXFx1MDQxN1wiOiBcIlpcIixcbiAgICAgICAgXCJcXHUwNDE4XCI6IFwiSVwiLFxuICAgICAgICBcIlxcdTA0MTlcIjogXCJJXCIsXG4gICAgICAgIFwiXFx1MDQxQVwiOiBcIktcIixcbiAgICAgICAgXCJcXHUwNDFCXCI6IFwiTFwiLFxuICAgICAgICBcIlxcdTA0MUNcIjogXCJNXCIsXG4gICAgICAgIFwiXFx1MDQxRFwiOiBcIk5cIixcbiAgICAgICAgXCJcXHUwNDFFXCI6IFwiT1wiLFxuICAgICAgICBcIlxcdTA0MUZcIjogXCJQXCIsXG4gICAgICAgIFwiXFx1MDQyMFwiOiBcIlJcIixcbiAgICAgICAgXCJcXHUwNDIxXCI6IFwiU1wiLFxuICAgICAgICBcIlxcdTA0MjJcIjogXCJUXCIsXG4gICAgICAgIFwiXFx1MDQyM1wiOiBcIlVcIixcbiAgICAgICAgXCJcXHUwNDI0XCI6IFwiRlwiLFxuICAgICAgICBcIlxcdTA0MjVcIjogXCJLaFwiLFxuICAgICAgICBcIlxcdTA0MjZcIjogXCJDXCIsXG4gICAgICAgIFwiXFx1MDQyN1wiOiBcIkNoXCIsXG4gICAgICAgIFwiXFx1MDQyOFwiOiBcIlNoXCIsXG4gICAgICAgIFwiXFx1MDQyOVwiOiBcIlNoXCIsXG4gICAgICAgIFwiXFx1MDQyQVwiOiBcIlwiLFxuICAgICAgICBcIlxcdTA0MkJcIjogXCJZXCIsXG4gICAgICAgIFwiXFx1MDQyQ1wiOiBcIlwiLFxuICAgICAgICBcIlxcdTA0MkRcIjogXCJFXCIsXG4gICAgICAgIFwiXFx1MDQyRVwiOiBcIll1XCIsXG4gICAgICAgIFwiXFx1MDQyRlwiOiBcIllhXCIsXG4gICAgICAgIC8vIFNlcmJpYW5cbiAgICAgICAgXCJcXHUwNDUyXCI6IFwiZGpcIixcbiAgICAgICAgXCJcXHUwNDU4XCI6IFwialwiLFxuICAgICAgICAvLyAn0ZknOiAnbGonLCAgLy8gZHVwbGljYXRlXG4gICAgICAgIC8vICfRmic6ICduaicsIC8vIGR1cGxpY2F0ZVxuICAgICAgICBcIlxcdTA0NUJcIjogXCJjXCIsXG4gICAgICAgIFwiXFx1MDQ1RlwiOiBcImR6XCIsXG4gICAgICAgIFwiXFx1MDQwMlwiOiBcIkRqXCIsXG4gICAgICAgIFwiXFx1MDQwOFwiOiBcImpcIixcbiAgICAgICAgLy8gJ9CJJzogJ0xqJywgLy8gZHVwbGljYXRlXG4gICAgICAgIC8vICfQiic6ICdOaicsIC8vIGR1cGxpY2F0ZVxuICAgICAgICBcIlxcdTA0MEJcIjogXCJDXCIsXG4gICAgICAgIFwiXFx1MDQwRlwiOiBcIkR6XCIsXG4gICAgICAgIC8vIFNsb3Zha1xuICAgICAgICBcIlxcdTAxM0VcIjogXCJsXCIsXG4gICAgICAgIFwiXFx1MDEzQVwiOiBcImxcIixcbiAgICAgICAgXCJcXHUwMTU1XCI6IFwiclwiLFxuICAgICAgICBcIlxcdTAxM0RcIjogXCJMXCIsXG4gICAgICAgIFwiXFx1MDEzOVwiOiBcIkxcIixcbiAgICAgICAgXCJcXHUwMTU0XCI6IFwiUlwiLFxuICAgICAgICAvLyBUdXJraXNoXG4gICAgICAgIFwiXFx1MDE1RlwiOiBcInNcIixcbiAgICAgICAgXCJcXHUwMTVFXCI6IFwiU1wiLFxuICAgICAgICBcIlxcdTAxMzFcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDEzMFwiOiBcIklcIixcbiAgICAgICAgLy8gJ8OnJzogJ2MnLCAvLyBkdXBsaWNhdGVcbiAgICAgICAgLy8gJ8OHJzogJ0MnLCAvLyBkdXBsaWNhdGVcbiAgICAgICAgLy8gJ8O8JzogJ3UnLCAvLyBkdXBsaWNhdGUsIHNlZSBsYW5nQ2hhck1hcFxuICAgICAgICAvLyAnw5wnOiAnVScsIC8vIGR1cGxpY2F0ZSwgc2VlIGxhbmdDaGFyTWFwXG4gICAgICAgIC8vICfDtic6ICdvJywgLy8gZHVwbGljYXRlLCBzZWUgbGFuZ0NoYXJNYXBcbiAgICAgICAgLy8gJ8OWJzogJ08nLCAvLyBkdXBsaWNhdGUsIHNlZSBsYW5nQ2hhck1hcFxuICAgICAgICBcIlxcdTAxMUZcIjogXCJnXCIsXG4gICAgICAgIFwiXFx1MDExRVwiOiBcIkdcIixcbiAgICAgICAgLy8gVmlldG5hbWVzZVxuICAgICAgICBcIlxcdTFFQTNcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MUVBMlwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUxRUIzXCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTFFQjJcIjogXCJBXCIsXG4gICAgICAgIFwiXFx1MUVBOVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUxRUE4XCI6IFwiQVwiLFxuICAgICAgICBcIlxcdTAxMTFcIjogXCJkXCIsXG4gICAgICAgIFwiXFx1MDExMFwiOiBcIkRcIixcbiAgICAgICAgXCJcXHUxRUI5XCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTFFQjhcIjogXCJFXCIsXG4gICAgICAgIFwiXFx1MUVCRFwiOiBcImVcIixcbiAgICAgICAgXCJcXHUxRUJDXCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTFFQkJcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MUVCQVwiOiBcIkVcIixcbiAgICAgICAgXCJcXHUxRUJGXCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTFFQkVcIjogXCJFXCIsXG4gICAgICAgIFwiXFx1MUVDMVwiOiBcImVcIixcbiAgICAgICAgXCJcXHUxRUMwXCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTFFQzdcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MUVDNlwiOiBcIkVcIixcbiAgICAgICAgXCJcXHUxRUM1XCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTFFQzRcIjogXCJFXCIsXG4gICAgICAgIFwiXFx1MUVDM1wiOiBcImVcIixcbiAgICAgICAgXCJcXHUxRUMyXCI6IFwiRVwiLFxuICAgICAgICBcIlxcdTFFQ0ZcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MUVDRFwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUxRUNDXCI6IFwib1wiLFxuICAgICAgICBcIlxcdTFFRDFcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MUVEMFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUxRUQzXCI6IFwib1wiLFxuICAgICAgICBcIlxcdTFFRDJcIjogXCJPXCIsXG4gICAgICAgIFwiXFx1MUVENVwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUxRUQ0XCI6IFwiT1wiLFxuICAgICAgICBcIlxcdTFFRDlcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MUVEOFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUxRUQ3XCI6IFwib1wiLFxuICAgICAgICBcIlxcdTFFRDZcIjogXCJPXCIsXG4gICAgICAgIFwiXFx1MDFBMVwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUwMUEwXCI6IFwiT1wiLFxuICAgICAgICBcIlxcdTFFREJcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MUVEQVwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUxRUREXCI6IFwib1wiLFxuICAgICAgICBcIlxcdTFFRENcIjogXCJPXCIsXG4gICAgICAgIFwiXFx1MUVFM1wiOiBcIm9cIixcbiAgICAgICAgXCJcXHUxRUUyXCI6IFwiT1wiLFxuICAgICAgICBcIlxcdTFFRTFcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MUVFMFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUxRURFXCI6IFwib1wiLFxuICAgICAgICBcIlxcdTFFREZcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MUVDQlwiOiBcImlcIixcbiAgICAgICAgXCJcXHUxRUNBXCI6IFwiSVwiLFxuICAgICAgICBcIlxcdTAxMjlcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MDEyOFwiOiBcIklcIixcbiAgICAgICAgXCJcXHUxRUM5XCI6IFwiaVwiLFxuICAgICAgICBcIlxcdTFFQzhcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MUVFN1wiOiBcInVcIixcbiAgICAgICAgXCJcXHUxRUU2XCI6IFwiVVwiLFxuICAgICAgICBcIlxcdTFFRTVcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx1MUVFNFwiOiBcIlVcIixcbiAgICAgICAgXCJcXHUwMTY5XCI6IFwidVwiLFxuICAgICAgICBcIlxcdTAxNjhcIjogXCJVXCIsXG4gICAgICAgIFwiXFx1MDFCMFwiOiBcInVcIixcbiAgICAgICAgXCJcXHUwMUFGXCI6IFwiVVwiLFxuICAgICAgICBcIlxcdTFFRTlcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx1MUVFOFwiOiBcIlVcIixcbiAgICAgICAgXCJcXHUxRUVCXCI6IFwidVwiLFxuICAgICAgICBcIlxcdTFFRUFcIjogXCJVXCIsXG4gICAgICAgIFwiXFx1MUVGMVwiOiBcInVcIixcbiAgICAgICAgXCJcXHUxRUYwXCI6IFwiVVwiLFxuICAgICAgICBcIlxcdTFFRUZcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx1MUVFRVwiOiBcIlVcIixcbiAgICAgICAgXCJcXHUxRUVEXCI6IFwidVwiLFxuICAgICAgICBcIlxcdTFFRUNcIjogXCJcXHUwMUIwXCIsXG4gICAgICAgIFwiXFx1MUVGN1wiOiBcInlcIixcbiAgICAgICAgXCJcXHUxRUY2XCI6IFwieVwiLFxuICAgICAgICBcIlxcdTFFRjNcIjogXCJ5XCIsXG4gICAgICAgIFwiXFx1MUVGMlwiOiBcIllcIixcbiAgICAgICAgXCJcXHUxRUY1XCI6IFwieVwiLFxuICAgICAgICBcIlxcdTFFRjRcIjogXCJZXCIsXG4gICAgICAgIFwiXFx1MUVGOVwiOiBcInlcIixcbiAgICAgICAgXCJcXHUxRUY4XCI6IFwiWVwiLFxuICAgICAgICBcIlxcdTFFQTFcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MUVBMFwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUxRUE1XCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTFFQTRcIjogXCJBXCIsXG4gICAgICAgIFwiXFx1MUVBN1wiOiBcImFcIixcbiAgICAgICAgXCJcXHUxRUE2XCI6IFwiQVwiLFxuICAgICAgICBcIlxcdTFFQURcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MUVBQ1wiOiBcIkFcIixcbiAgICAgICAgXCJcXHUxRUFCXCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTFFQUFcIjogXCJBXCIsXG4gICAgICAgIC8vICfEgyc6ICdhJywgLy8gZHVwbGljYXRlXG4gICAgICAgIC8vICfEgic6ICdBJywgLy8gZHVwbGljYXRlXG4gICAgICAgIFwiXFx1MUVBRlwiOiBcImFcIixcbiAgICAgICAgXCJcXHUxRUFFXCI6IFwiQVwiLFxuICAgICAgICBcIlxcdTFFQjFcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MUVCMFwiOiBcIkFcIixcbiAgICAgICAgXCJcXHUxRUI3XCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTFFQjZcIjogXCJBXCIsXG4gICAgICAgIFwiXFx1MUVCNVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUxRUI0XCI6IFwiQVwiLFxuICAgICAgICBcIlxcdTI0RUFcIjogXCIwXCIsXG4gICAgICAgIFwiXFx1MjQ2MFwiOiBcIjFcIixcbiAgICAgICAgXCJcXHUyNDYxXCI6IFwiMlwiLFxuICAgICAgICBcIlxcdTI0NjJcIjogXCIzXCIsXG4gICAgICAgIFwiXFx1MjQ2M1wiOiBcIjRcIixcbiAgICAgICAgXCJcXHUyNDY0XCI6IFwiNVwiLFxuICAgICAgICBcIlxcdTI0NjVcIjogXCI2XCIsXG4gICAgICAgIFwiXFx1MjQ2NlwiOiBcIjdcIixcbiAgICAgICAgXCJcXHUyNDY3XCI6IFwiOFwiLFxuICAgICAgICBcIlxcdTI0NjhcIjogXCI5XCIsXG4gICAgICAgIFwiXFx1MjQ2OVwiOiBcIjEwXCIsXG4gICAgICAgIFwiXFx1MjQ2QVwiOiBcIjExXCIsXG4gICAgICAgIFwiXFx1MjQ2QlwiOiBcIjEyXCIsXG4gICAgICAgIFwiXFx1MjQ2Q1wiOiBcIjEzXCIsXG4gICAgICAgIFwiXFx1MjQ2RFwiOiBcIjE0XCIsXG4gICAgICAgIFwiXFx1MjQ2RVwiOiBcIjE1XCIsXG4gICAgICAgIFwiXFx1MjQ2RlwiOiBcIjE2XCIsXG4gICAgICAgIFwiXFx1MjQ3MFwiOiBcIjE3XCIsXG4gICAgICAgIFwiXFx1MjQ3MVwiOiBcIjE4XCIsXG4gICAgICAgIFwiXFx1MjQ3MlwiOiBcIjE4XCIsXG4gICAgICAgIFwiXFx1MjQ3M1wiOiBcIjE4XCIsXG4gICAgICAgIFwiXFx1MjRGNVwiOiBcIjFcIixcbiAgICAgICAgXCJcXHUyNEY2XCI6IFwiMlwiLFxuICAgICAgICBcIlxcdTI0RjdcIjogXCIzXCIsXG4gICAgICAgIFwiXFx1MjRGOFwiOiBcIjRcIixcbiAgICAgICAgXCJcXHUyNEY5XCI6IFwiNVwiLFxuICAgICAgICBcIlxcdTI0RkFcIjogXCI2XCIsXG4gICAgICAgIFwiXFx1MjRGQlwiOiBcIjdcIixcbiAgICAgICAgXCJcXHUyNEZDXCI6IFwiOFwiLFxuICAgICAgICBcIlxcdTI0RkRcIjogXCI5XCIsXG4gICAgICAgIFwiXFx1MjRGRVwiOiBcIjEwXCIsXG4gICAgICAgIFwiXFx1MjRGRlwiOiBcIjBcIixcbiAgICAgICAgXCJcXHUyNEVCXCI6IFwiMTFcIixcbiAgICAgICAgXCJcXHUyNEVDXCI6IFwiMTJcIixcbiAgICAgICAgXCJcXHUyNEVEXCI6IFwiMTNcIixcbiAgICAgICAgXCJcXHUyNEVFXCI6IFwiMTRcIixcbiAgICAgICAgXCJcXHUyNEVGXCI6IFwiMTVcIixcbiAgICAgICAgXCJcXHUyNEYwXCI6IFwiMTZcIixcbiAgICAgICAgXCJcXHUyNEYxXCI6IFwiMTdcIixcbiAgICAgICAgXCJcXHUyNEYyXCI6IFwiMThcIixcbiAgICAgICAgXCJcXHUyNEYzXCI6IFwiMTlcIixcbiAgICAgICAgXCJcXHUyNEY0XCI6IFwiMjBcIixcbiAgICAgICAgXCJcXHUyNEI2XCI6IFwiQVwiLFxuICAgICAgICBcIlxcdTI0QjdcIjogXCJCXCIsXG4gICAgICAgIFwiXFx1MjRCOFwiOiBcIkNcIixcbiAgICAgICAgXCJcXHUyNEI5XCI6IFwiRFwiLFxuICAgICAgICBcIlxcdTI0QkFcIjogXCJFXCIsXG4gICAgICAgIFwiXFx1MjRCQlwiOiBcIkZcIixcbiAgICAgICAgXCJcXHUyNEJDXCI6IFwiR1wiLFxuICAgICAgICBcIlxcdTI0QkRcIjogXCJIXCIsXG4gICAgICAgIFwiXFx1MjRCRVwiOiBcIklcIixcbiAgICAgICAgXCJcXHUyNEJGXCI6IFwiSlwiLFxuICAgICAgICBcIlxcdTI0QzBcIjogXCJLXCIsXG4gICAgICAgIFwiXFx1MjRDMVwiOiBcIkxcIixcbiAgICAgICAgXCJcXHUyNEMyXCI6IFwiTVwiLFxuICAgICAgICBcIlxcdTI0QzNcIjogXCJOXCIsXG4gICAgICAgIFwiXFx1MjRDNFwiOiBcIk9cIixcbiAgICAgICAgXCJcXHUyNEM1XCI6IFwiUFwiLFxuICAgICAgICBcIlxcdTI0QzZcIjogXCJRXCIsXG4gICAgICAgIFwiXFx1MjRDN1wiOiBcIlJcIixcbiAgICAgICAgXCJcXHUyNEM4XCI6IFwiU1wiLFxuICAgICAgICBcIlxcdTI0QzlcIjogXCJUXCIsXG4gICAgICAgIFwiXFx1MjRDQVwiOiBcIlVcIixcbiAgICAgICAgXCJcXHUyNENCXCI6IFwiVlwiLFxuICAgICAgICBcIlxcdTI0Q0NcIjogXCJXXCIsXG4gICAgICAgIFwiXFx1MjRDRFwiOiBcIlhcIixcbiAgICAgICAgXCJcXHUyNENFXCI6IFwiWVwiLFxuICAgICAgICBcIlxcdTI0Q0ZcIjogXCJaXCIsXG4gICAgICAgIFwiXFx1MjREMFwiOiBcImFcIixcbiAgICAgICAgXCJcXHUyNEQxXCI6IFwiYlwiLFxuICAgICAgICBcIlxcdTI0RDJcIjogXCJjXCIsXG4gICAgICAgIFwiXFx1MjREM1wiOiBcImRcIixcbiAgICAgICAgXCJcXHUyNEQ0XCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTI0RDVcIjogXCJmXCIsXG4gICAgICAgIFwiXFx1MjRENlwiOiBcImdcIixcbiAgICAgICAgXCJcXHUyNEQ3XCI6IFwiaFwiLFxuICAgICAgICBcIlxcdTI0RDhcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MjREOVwiOiBcImpcIixcbiAgICAgICAgXCJcXHUyNERBXCI6IFwia1wiLFxuICAgICAgICBcIlxcdTI0REJcIjogXCJsXCIsXG4gICAgICAgIFwiXFx1MjREQ1wiOiBcIm1cIixcbiAgICAgICAgXCJcXHUyNEREXCI6IFwiblwiLFxuICAgICAgICBcIlxcdTI0REVcIjogXCJvXCIsXG4gICAgICAgIFwiXFx1MjRERlwiOiBcInBcIixcbiAgICAgICAgXCJcXHUyNEUwXCI6IFwicVwiLFxuICAgICAgICBcIlxcdTI0RTFcIjogXCJyXCIsXG4gICAgICAgIFwiXFx1MjRFMlwiOiBcInNcIixcbiAgICAgICAgXCJcXHUyNEUzXCI6IFwidFwiLFxuICAgICAgICBcIlxcdTI0RTRcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx1MjRFNlwiOiBcInZcIixcbiAgICAgICAgXCJcXHUyNEU1XCI6IFwid1wiLFxuICAgICAgICBcIlxcdTI0RTdcIjogXCJ4XCIsXG4gICAgICAgIFwiXFx1MjRFOFwiOiBcInlcIixcbiAgICAgICAgXCJcXHUyNEU5XCI6IFwielwiLFxuICAgICAgICAvLyBzeW1ib2xzXG4gICAgICAgIFwiXFx1MjAxQ1wiOiAnXCInLFxuICAgICAgICBcIlxcdTIwMURcIjogJ1wiJyxcbiAgICAgICAgXCJcXHUyMDE4XCI6IFwiJ1wiLFxuICAgICAgICBcIlxcdTIwMTlcIjogXCInXCIsXG4gICAgICAgIFwiXFx1MjIwMlwiOiBcImRcIixcbiAgICAgICAgXCJcXHUwMTkyXCI6IFwiZlwiLFxuICAgICAgICBcIlxcdTIxMjJcIjogXCIoVE0pXCIsXG4gICAgICAgIFwiXFx4QTlcIjogXCIoQylcIixcbiAgICAgICAgXCJcXHUwMTUzXCI6IFwib2VcIixcbiAgICAgICAgXCJcXHUwMTUyXCI6IFwiT0VcIixcbiAgICAgICAgXCJcXHhBRVwiOiBcIihSKVwiLFxuICAgICAgICBcIlxcdTIwMjBcIjogXCIrXCIsXG4gICAgICAgIFwiXFx1MjEyMFwiOiBcIihTTSlcIixcbiAgICAgICAgXCJcXHUyMDI2XCI6IFwiLi4uXCIsXG4gICAgICAgIFwiXFx1MDJEQVwiOiBcIm9cIixcbiAgICAgICAgXCJcXHhCQVwiOiBcIm9cIixcbiAgICAgICAgXCJcXHhBQVwiOiBcImFcIixcbiAgICAgICAgXCJcXHUyMDIyXCI6IFwiKlwiLFxuICAgICAgICBcIlxcdTEwNEFcIjogXCIsXCIsXG4gICAgICAgIFwiXFx1MTA0QlwiOiBcIi5cIixcbiAgICAgICAgLy8gY3VycmVuY3lcbiAgICAgICAgXCIkXCI6IFwiVVNEXCIsXG4gICAgICAgIFwiXFx1MjBBQ1wiOiBcIkVVUlwiLFxuICAgICAgICBcIlxcdTIwQTJcIjogXCJCUk5cIixcbiAgICAgICAgXCJcXHUyMEEzXCI6IFwiRlJGXCIsXG4gICAgICAgIFwiXFx4QTNcIjogXCJHQlBcIixcbiAgICAgICAgXCJcXHUyMEE0XCI6IFwiSVRMXCIsXG4gICAgICAgIFwiXFx1MjBBNlwiOiBcIk5HTlwiLFxuICAgICAgICBcIlxcdTIwQTdcIjogXCJFU1BcIixcbiAgICAgICAgXCJcXHUyMEE5XCI6IFwiS1JXXCIsXG4gICAgICAgIFwiXFx1MjBBQVwiOiBcIklMU1wiLFxuICAgICAgICBcIlxcdTIwQUJcIjogXCJWTkRcIixcbiAgICAgICAgXCJcXHUyMEFEXCI6IFwiTEFLXCIsXG4gICAgICAgIFwiXFx1MjBBRVwiOiBcIk1OVFwiLFxuICAgICAgICBcIlxcdTIwQUZcIjogXCJHUkRcIixcbiAgICAgICAgXCJcXHUyMEIxXCI6IFwiQVJTXCIsXG4gICAgICAgIFwiXFx1MjBCMlwiOiBcIlBZR1wiLFxuICAgICAgICBcIlxcdTIwQjNcIjogXCJBUkFcIixcbiAgICAgICAgXCJcXHUyMEI0XCI6IFwiVUFIXCIsXG4gICAgICAgIFwiXFx1MjBCNVwiOiBcIkdIU1wiLFxuICAgICAgICBcIlxceEEyXCI6IFwiY2VudFwiLFxuICAgICAgICBcIlxceEE1XCI6IFwiQ05ZXCIsXG4gICAgICAgIFwiXFx1NTE0M1wiOiBcIkNOWVwiLFxuICAgICAgICBcIlxcdTUxODZcIjogXCJZRU5cIixcbiAgICAgICAgXCJcXHVGREZDXCI6IFwiSVJSXCIsXG4gICAgICAgIFwiXFx1MjBBMFwiOiBcIkVXRVwiLFxuICAgICAgICBcIlxcdTBFM0ZcIjogXCJUSEJcIixcbiAgICAgICAgXCJcXHUyMEE4XCI6IFwiSU5SXCIsXG4gICAgICAgIFwiXFx1MjBCOVwiOiBcIklOUlwiLFxuICAgICAgICBcIlxcdTIwQjBcIjogXCJQRlwiLFxuICAgICAgICBcIlxcdTIwQkFcIjogXCJUUllcIixcbiAgICAgICAgXCJcXHUwNjBCXCI6IFwiQUZOXCIsXG4gICAgICAgIFwiXFx1MjBCQ1wiOiBcIkFaTlwiLFxuICAgICAgICBcIlxcdTA0M0JcXHUwNDMyXCI6IFwiQkdOXCIsXG4gICAgICAgIFwiXFx1MTdEQlwiOiBcIktIUlwiLFxuICAgICAgICBcIlxcdTIwQTFcIjogXCJDUkNcIixcbiAgICAgICAgXCJcXHUyMEI4XCI6IFwiS1pUXCIsXG4gICAgICAgIFwiXFx1MDQzNFxcdTA0MzVcXHUwNDNEXCI6IFwiTUtEXCIsXG4gICAgICAgIFwielxcdTAxNDJcIjogXCJQTE5cIixcbiAgICAgICAgXCJcXHUyMEJEXCI6IFwiUlVCXCIsXG4gICAgICAgIFwiXFx1MjBCRVwiOiBcIkdFTFwiXG4gICAgICB9O1xuICAgICAgdmFyIGxvb2tBaGVhZENoYXJBcnJheSA9IFtcbiAgICAgICAgLy8gYnVybWVzZVxuICAgICAgICBcIlxcdTEwM0FcIixcbiAgICAgICAgLy8gRGhpdmVoaVxuICAgICAgICBcIlxcdTA3QjBcIlxuICAgICAgXTtcbiAgICAgIHZhciBkaWF0cmljTWFwID0ge1xuICAgICAgICAvLyBCdXJtZXNlXG4gICAgICAgIC8vIGRlcGVuZGVudCB2b3dlbHNcbiAgICAgICAgXCJcXHUxMDJDXCI6IFwiYVwiLFxuICAgICAgICBcIlxcdTEwMkJcIjogXCJhXCIsXG4gICAgICAgIFwiXFx1MTAzMVwiOiBcImVcIixcbiAgICAgICAgXCJcXHUxMDMyXCI6IFwiZVwiLFxuICAgICAgICBcIlxcdTEwMkRcIjogXCJpXCIsXG4gICAgICAgIFwiXFx1MTAyRVwiOiBcImlcIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAyRlwiOiBcIm9cIixcbiAgICAgICAgXCJcXHUxMDJGXCI6IFwidVwiLFxuICAgICAgICBcIlxcdTEwMzBcIjogXCJ1XCIsXG4gICAgICAgIFwiXFx1MTAzMVxcdTEwMkJcXHUxMDA0XFx1MTAzQVwiOiBcImF1bmdcIixcbiAgICAgICAgXCJcXHUxMDMxXFx1MTAyQ1wiOiBcImF3XCIsXG4gICAgICAgIFwiXFx1MTAzMVxcdTEwMkNcXHUxMDNBXCI6IFwiYXdcIixcbiAgICAgICAgXCJcXHUxMDMxXFx1MTAyQlwiOiBcImF3XCIsXG4gICAgICAgIFwiXFx1MTAzMVxcdTEwMkJcXHUxMDNBXCI6IFwiYXdcIixcbiAgICAgICAgXCJcXHUxMDNBXCI6IFwiXFx1MTAzQVwiLFxuICAgICAgICAvLyB0aGlzIGlzIHNwZWNpYWwgY2FzZSBidXQgdGhlIGNoYXJhY3RlciB3aWxsIGJlIGNvbnZlcnRlZCB0byBsYXRpbiBpbiB0aGUgY29kZVxuICAgICAgICBcIlxcdTEwMDBcXHUxMDNBXCI6IFwiZXRcIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAyRlxcdTEwMDBcXHUxMDNBXCI6IFwiYWlrXCIsXG4gICAgICAgIFwiXFx1MTAzMVxcdTEwMkNcXHUxMDAwXFx1MTAzQVwiOiBcImF1a1wiLFxuICAgICAgICBcIlxcdTEwMDRcXHUxMDNBXCI6IFwiaW5cIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAyRlxcdTEwMDRcXHUxMDNBXCI6IFwiYWluZ1wiLFxuICAgICAgICBcIlxcdTEwMzFcXHUxMDJDXFx1MTAwNFxcdTEwM0FcIjogXCJhdW5nXCIsXG4gICAgICAgIFwiXFx1MTAwNVxcdTEwM0FcIjogXCJpdFwiLFxuICAgICAgICBcIlxcdTEwMEFcXHUxMDNBXCI6IFwiaVwiLFxuICAgICAgICBcIlxcdTEwMTBcXHUxMDNBXCI6IFwiYXRcIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAxMFxcdTEwM0FcIjogXCJlaWtcIixcbiAgICAgICAgXCJcXHUxMDJGXFx1MTAxMFxcdTEwM0FcIjogXCJva1wiLFxuICAgICAgICBcIlxcdTEwM0RcXHUxMDEwXFx1MTAzQVwiOiBcInV0XCIsXG4gICAgICAgIFwiXFx1MTAzMVxcdTEwMTBcXHUxMDNBXCI6IFwiaXRcIixcbiAgICAgICAgXCJcXHUxMDEyXFx1MTAzQVwiOiBcImRcIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAyRlxcdTEwMTJcXHUxMDNBXCI6IFwib2tcIixcbiAgICAgICAgXCJcXHUxMDJGXFx1MTAxMlxcdTEwM0FcIjogXCJhaXRcIixcbiAgICAgICAgXCJcXHUxMDE0XFx1MTAzQVwiOiBcImFuXCIsXG4gICAgICAgIFwiXFx1MTAyQ1xcdTEwMTRcXHUxMDNBXCI6IFwiYW5cIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAxNFxcdTEwM0FcIjogXCJlaW5cIixcbiAgICAgICAgXCJcXHUxMDJGXFx1MTAxNFxcdTEwM0FcIjogXCJvblwiLFxuICAgICAgICBcIlxcdTEwM0RcXHUxMDE0XFx1MTAzQVwiOiBcInVuXCIsXG4gICAgICAgIFwiXFx1MTAxNVxcdTEwM0FcIjogXCJhdFwiLFxuICAgICAgICBcIlxcdTEwMkRcXHUxMDE1XFx1MTAzQVwiOiBcImVpa1wiLFxuICAgICAgICBcIlxcdTEwMkZcXHUxMDE1XFx1MTAzQVwiOiBcIm9rXCIsXG4gICAgICAgIFwiXFx1MTAzRFxcdTEwMTVcXHUxMDNBXCI6IFwidXRcIixcbiAgICAgICAgXCJcXHUxMDE0XFx1MTAzQVxcdTEwMkZcXHUxMDE1XFx1MTAzQVwiOiBcIm51YlwiLFxuICAgICAgICBcIlxcdTEwMTlcXHUxMDNBXCI6IFwiYW5cIixcbiAgICAgICAgXCJcXHUxMDJEXFx1MTAxOVxcdTEwM0FcIjogXCJlaW5cIixcbiAgICAgICAgXCJcXHUxMDJGXFx1MTAxOVxcdTEwM0FcIjogXCJvblwiLFxuICAgICAgICBcIlxcdTEwM0RcXHUxMDE5XFx1MTAzQVwiOiBcInVuXCIsXG4gICAgICAgIFwiXFx1MTAxQVxcdTEwM0FcIjogXCJlXCIsXG4gICAgICAgIFwiXFx1MTAyRFxcdTEwMkZcXHUxMDFDXFx1MTAzQVwiOiBcIm9sXCIsXG4gICAgICAgIFwiXFx1MTAwOVxcdTEwM0FcIjogXCJpblwiLFxuICAgICAgICBcIlxcdTEwMzZcIjogXCJhblwiLFxuICAgICAgICBcIlxcdTEwMkRcXHUxMDM2XCI6IFwiZWluXCIsXG4gICAgICAgIFwiXFx1MTAyRlxcdTEwMzZcIjogXCJvblwiLFxuICAgICAgICAvLyBEaGl2ZWhpXG4gICAgICAgIFwiXFx1MDdBNlxcdTA3ODdcXHUwN0IwXCI6IFwiYWhcIixcbiAgICAgICAgXCJcXHUwN0E2XFx1MDc4MVxcdTA3QjBcIjogXCJhaFwiXG4gICAgICB9O1xuICAgICAgdmFyIGxhbmdDaGFyTWFwID0ge1xuICAgICAgICBcImVuXCI6IHt9LFxuICAgICAgICAvLyBkZWZhdWx0IGxhbmd1YWdlXG4gICAgICAgIFwiYXpcIjoge1xuICAgICAgICAgIC8vIEF6ZXJiYWlqYW5pXG4gICAgICAgICAgXCJcXHhFN1wiOiBcImNcIixcbiAgICAgICAgICBcIlxcdTAyNTlcIjogXCJlXCIsXG4gICAgICAgICAgXCJcXHUwMTFGXCI6IFwiZ1wiLFxuICAgICAgICAgIFwiXFx1MDEzMVwiOiBcImlcIixcbiAgICAgICAgICBcIlxceEY2XCI6IFwib1wiLFxuICAgICAgICAgIFwiXFx1MDE1RlwiOiBcInNcIixcbiAgICAgICAgICBcIlxceEZDXCI6IFwidVwiLFxuICAgICAgICAgIFwiXFx4QzdcIjogXCJDXCIsXG4gICAgICAgICAgXCJcXHUwMThGXCI6IFwiRVwiLFxuICAgICAgICAgIFwiXFx1MDExRVwiOiBcIkdcIixcbiAgICAgICAgICBcIlxcdTAxMzBcIjogXCJJXCIsXG4gICAgICAgICAgXCJcXHhENlwiOiBcIk9cIixcbiAgICAgICAgICBcIlxcdTAxNUVcIjogXCJTXCIsXG4gICAgICAgICAgXCJcXHhEQ1wiOiBcIlVcIlxuICAgICAgICB9LFxuICAgICAgICBcImNzXCI6IHtcbiAgICAgICAgICAvLyBDemVjaFxuICAgICAgICAgIFwiXFx1MDEwRFwiOiBcImNcIixcbiAgICAgICAgICBcIlxcdTAxMEZcIjogXCJkXCIsXG4gICAgICAgICAgXCJcXHUwMTFCXCI6IFwiZVwiLFxuICAgICAgICAgIFwiXFx1MDE0OFwiOiBcIm5cIixcbiAgICAgICAgICBcIlxcdTAxNTlcIjogXCJyXCIsXG4gICAgICAgICAgXCJcXHUwMTYxXCI6IFwic1wiLFxuICAgICAgICAgIFwiXFx1MDE2NVwiOiBcInRcIixcbiAgICAgICAgICBcIlxcdTAxNkZcIjogXCJ1XCIsXG4gICAgICAgICAgXCJcXHUwMTdFXCI6IFwielwiLFxuICAgICAgICAgIFwiXFx1MDEwQ1wiOiBcIkNcIixcbiAgICAgICAgICBcIlxcdTAxMEVcIjogXCJEXCIsXG4gICAgICAgICAgXCJcXHUwMTFBXCI6IFwiRVwiLFxuICAgICAgICAgIFwiXFx1MDE0N1wiOiBcIk5cIixcbiAgICAgICAgICBcIlxcdTAxNThcIjogXCJSXCIsXG4gICAgICAgICAgXCJcXHUwMTYwXCI6IFwiU1wiLFxuICAgICAgICAgIFwiXFx1MDE2NFwiOiBcIlRcIixcbiAgICAgICAgICBcIlxcdTAxNkVcIjogXCJVXCIsXG4gICAgICAgICAgXCJcXHUwMTdEXCI6IFwiWlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZmlcIjoge1xuICAgICAgICAgIC8vIEZpbm5pc2hcbiAgICAgICAgICAvLyAnw6UnOiAnYScsIGR1cGxpY2F0ZSBzZWUgY2hhck1hcC9sYXRpblxuICAgICAgICAgIC8vICfDhSc6ICdBJywgZHVwbGljYXRlIHNlZSBjaGFyTWFwL2xhdGluXG4gICAgICAgICAgXCJcXHhFNFwiOiBcImFcIixcbiAgICAgICAgICAvLyBva1xuICAgICAgICAgIFwiXFx4QzRcIjogXCJBXCIsXG4gICAgICAgICAgLy8gb2tcbiAgICAgICAgICBcIlxceEY2XCI6IFwib1wiLFxuICAgICAgICAgIC8vIG9rXG4gICAgICAgICAgXCJcXHhENlwiOiBcIk9cIlxuICAgICAgICAgIC8vIG9rXG4gICAgICAgIH0sXG4gICAgICAgIFwiaHVcIjoge1xuICAgICAgICAgIC8vIEh1bmdhcmlhblxuICAgICAgICAgIFwiXFx4RTRcIjogXCJhXCIsXG4gICAgICAgICAgLy8gb2tcbiAgICAgICAgICBcIlxceEM0XCI6IFwiQVwiLFxuICAgICAgICAgIC8vIG9rXG4gICAgICAgICAgLy8gJ8OhJzogJ2EnLCBkdXBsaWNhdGUgc2VlIGNoYXJNYXAvbGF0aW5cbiAgICAgICAgICAvLyAnw4EnOiAnQScsIGR1cGxpY2F0ZSBzZWUgY2hhck1hcC9sYXRpblxuICAgICAgICAgIFwiXFx4RjZcIjogXCJvXCIsXG4gICAgICAgICAgLy8gb2tcbiAgICAgICAgICBcIlxceEQ2XCI6IFwiT1wiLFxuICAgICAgICAgIC8vIG9rXG4gICAgICAgICAgLy8gJ8WRJzogJ28nLCBkdXBsaWNhdGUgc2VlIGNoYXJNYXAvbGF0aW5cbiAgICAgICAgICAvLyAnxZAnOiAnTycsIGR1cGxpY2F0ZSBzZWUgY2hhck1hcC9sYXRpblxuICAgICAgICAgIFwiXFx4RkNcIjogXCJ1XCIsXG4gICAgICAgICAgXCJcXHhEQ1wiOiBcIlVcIixcbiAgICAgICAgICBcIlxcdTAxNzFcIjogXCJ1XCIsXG4gICAgICAgICAgXCJcXHUwMTcwXCI6IFwiVVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibHRcIjoge1xuICAgICAgICAgIC8vIExpdGh1YW5pYW5cbiAgICAgICAgICBcIlxcdTAxMDVcIjogXCJhXCIsXG4gICAgICAgICAgXCJcXHUwMTBEXCI6IFwiY1wiLFxuICAgICAgICAgIFwiXFx1MDExOVwiOiBcImVcIixcbiAgICAgICAgICBcIlxcdTAxMTdcIjogXCJlXCIsXG4gICAgICAgICAgXCJcXHUwMTJGXCI6IFwiaVwiLFxuICAgICAgICAgIFwiXFx1MDE2MVwiOiBcInNcIixcbiAgICAgICAgICBcIlxcdTAxNzNcIjogXCJ1XCIsXG4gICAgICAgICAgXCJcXHUwMTZCXCI6IFwidVwiLFxuICAgICAgICAgIFwiXFx1MDE3RVwiOiBcInpcIixcbiAgICAgICAgICBcIlxcdTAxMDRcIjogXCJBXCIsXG4gICAgICAgICAgXCJcXHUwMTBDXCI6IFwiQ1wiLFxuICAgICAgICAgIFwiXFx1MDExOFwiOiBcIkVcIixcbiAgICAgICAgICBcIlxcdTAxMTZcIjogXCJFXCIsXG4gICAgICAgICAgXCJcXHUwMTJFXCI6IFwiSVwiLFxuICAgICAgICAgIFwiXFx1MDE2MFwiOiBcIlNcIixcbiAgICAgICAgICBcIlxcdTAxNzJcIjogXCJVXCIsXG4gICAgICAgICAgXCJcXHUwMTZBXCI6IFwiVVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibHZcIjoge1xuICAgICAgICAgIC8vIExhdHZpYW5cbiAgICAgICAgICBcIlxcdTAxMDFcIjogXCJhXCIsXG4gICAgICAgICAgXCJcXHUwMTBEXCI6IFwiY1wiLFxuICAgICAgICAgIFwiXFx1MDExM1wiOiBcImVcIixcbiAgICAgICAgICBcIlxcdTAxMjNcIjogXCJnXCIsXG4gICAgICAgICAgXCJcXHUwMTJCXCI6IFwiaVwiLFxuICAgICAgICAgIFwiXFx1MDEzN1wiOiBcImtcIixcbiAgICAgICAgICBcIlxcdTAxM0NcIjogXCJsXCIsXG4gICAgICAgICAgXCJcXHUwMTQ2XCI6IFwiblwiLFxuICAgICAgICAgIFwiXFx1MDE2MVwiOiBcInNcIixcbiAgICAgICAgICBcIlxcdTAxNkJcIjogXCJ1XCIsXG4gICAgICAgICAgXCJcXHUwMTdFXCI6IFwielwiLFxuICAgICAgICAgIFwiXFx1MDEwMFwiOiBcIkFcIixcbiAgICAgICAgICBcIlxcdTAxMENcIjogXCJDXCIsXG4gICAgICAgICAgXCJcXHUwMTEyXCI6IFwiRVwiLFxuICAgICAgICAgIFwiXFx1MDEyMlwiOiBcIkdcIixcbiAgICAgICAgICBcIlxcdTAxMkFcIjogXCJpXCIsXG4gICAgICAgICAgXCJcXHUwMTM2XCI6IFwia1wiLFxuICAgICAgICAgIFwiXFx1MDEzQlwiOiBcIkxcIixcbiAgICAgICAgICBcIlxcdTAxNDVcIjogXCJOXCIsXG4gICAgICAgICAgXCJcXHUwMTYwXCI6IFwiU1wiLFxuICAgICAgICAgIFwiXFx1MDE2QVwiOiBcInVcIixcbiAgICAgICAgICBcIlxcdTAxN0RcIjogXCJaXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbFwiOiB7XG4gICAgICAgICAgLy8gUG9saXNoXG4gICAgICAgICAgXCJcXHUwMTA1XCI6IFwiYVwiLFxuICAgICAgICAgIFwiXFx1MDEwN1wiOiBcImNcIixcbiAgICAgICAgICBcIlxcdTAxMTlcIjogXCJlXCIsXG4gICAgICAgICAgXCJcXHUwMTQyXCI6IFwibFwiLFxuICAgICAgICAgIFwiXFx1MDE0NFwiOiBcIm5cIixcbiAgICAgICAgICBcIlxceEYzXCI6IFwib1wiLFxuICAgICAgICAgIFwiXFx1MDE1QlwiOiBcInNcIixcbiAgICAgICAgICBcIlxcdTAxN0FcIjogXCJ6XCIsXG4gICAgICAgICAgXCJcXHUwMTdDXCI6IFwielwiLFxuICAgICAgICAgIFwiXFx1MDEwNFwiOiBcIkFcIixcbiAgICAgICAgICBcIlxcdTAxMDZcIjogXCJDXCIsXG4gICAgICAgICAgXCJcXHUwMTE4XCI6IFwiZVwiLFxuICAgICAgICAgIFwiXFx1MDE0MVwiOiBcIkxcIixcbiAgICAgICAgICBcIlxcdTAxNDNcIjogXCJOXCIsXG4gICAgICAgICAgXCJcXHhEM1wiOiBcIk9cIixcbiAgICAgICAgICBcIlxcdTAxNUFcIjogXCJTXCIsXG4gICAgICAgICAgXCJcXHUwMTc5XCI6IFwiWlwiLFxuICAgICAgICAgIFwiXFx1MDE3QlwiOiBcIlpcIlxuICAgICAgICB9LFxuICAgICAgICBcInN2XCI6IHtcbiAgICAgICAgICAvLyBTd2VkaXNoXG4gICAgICAgICAgLy8gJ8OlJzogJ2EnLCBkdXBsaWNhdGUgc2VlIGNoYXJNYXAvbGF0aW5cbiAgICAgICAgICAvLyAnw4UnOiAnQScsIGR1cGxpY2F0ZSBzZWUgY2hhck1hcC9sYXRpblxuICAgICAgICAgIFwiXFx4RTRcIjogXCJhXCIsXG4gICAgICAgICAgLy8gb2tcbiAgICAgICAgICBcIlxceEM0XCI6IFwiQVwiLFxuICAgICAgICAgIC8vIG9rXG4gICAgICAgICAgXCJcXHhGNlwiOiBcIm9cIixcbiAgICAgICAgICAvLyBva1xuICAgICAgICAgIFwiXFx4RDZcIjogXCJPXCJcbiAgICAgICAgICAvLyBva1xuICAgICAgICB9LFxuICAgICAgICBcInNrXCI6IHtcbiAgICAgICAgICAvLyBTbG92YWtcbiAgICAgICAgICBcIlxceEU0XCI6IFwiYVwiLFxuICAgICAgICAgIFwiXFx4QzRcIjogXCJBXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzclwiOiB7XG4gICAgICAgICAgLy8gU2VyYmlhblxuICAgICAgICAgIFwiXFx1MDQ1OVwiOiBcImxqXCIsXG4gICAgICAgICAgXCJcXHUwNDVBXCI6IFwibmpcIixcbiAgICAgICAgICBcIlxcdTA0MDlcIjogXCJMalwiLFxuICAgICAgICAgIFwiXFx1MDQwQVwiOiBcIk5qXCIsXG4gICAgICAgICAgXCJcXHUwMTExXCI6IFwiZGpcIixcbiAgICAgICAgICBcIlxcdTAxMTBcIjogXCJEalwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidHJcIjoge1xuICAgICAgICAgIC8vIFR1cmtpc2hcbiAgICAgICAgICBcIlxceERDXCI6IFwiVVwiLFxuICAgICAgICAgIFwiXFx4RDZcIjogXCJPXCIsXG4gICAgICAgICAgXCJcXHhGQ1wiOiBcInVcIixcbiAgICAgICAgICBcIlxceEY2XCI6IFwib1wiXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgc3ltYm9sTWFwID0ge1xuICAgICAgICBcImFyXCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJkZWx0YVwiLFxuICAgICAgICAgIFwiXFx1MjIxRVwiOiBcImxhLW5paGF5YVwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcImhvYlwiLFxuICAgICAgICAgIFwiJlwiOiBcIndhXCIsXG4gICAgICAgICAgXCJ8XCI6IFwiYXdcIixcbiAgICAgICAgICBcIjxcIjogXCJhcWFsLW1lblwiLFxuICAgICAgICAgIFwiPlwiOiBcImFrYmFyLW1lblwiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcIm1ham1vdVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJvbWxhXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJhelwiOiB7fSxcbiAgICAgICAgXCJjYVwiOiB7XG4gICAgICAgICAgXCJcXHUyMjA2XCI6IFwiZGVsdGFcIixcbiAgICAgICAgICBcIlxcdTIyMUVcIjogXCJpbmZpbml0XCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwiYW1vclwiLFxuICAgICAgICAgIFwiJlwiOiBcImlcIixcbiAgICAgICAgICBcInxcIjogXCJvXCIsXG4gICAgICAgICAgXCI8XCI6IFwibWVueXMgcXVlXCIsXG4gICAgICAgICAgXCI+XCI6IFwibWVzIHF1ZVwiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcInN1bWEgZGVsc1wiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJtb25lZGFcIlxuICAgICAgICB9LFxuICAgICAgICBcImNzXCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJkZWx0YVwiLFxuICAgICAgICAgIFwiXFx1MjIxRVwiOiBcIm5la29uZWNub1wiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcImxhc2thXCIsXG4gICAgICAgICAgXCImXCI6IFwiYVwiLFxuICAgICAgICAgIFwifFwiOiBcIm5lYm9cIixcbiAgICAgICAgICBcIjxcIjogXCJtZW5zaSBuZXpcIixcbiAgICAgICAgICBcIj5cIjogXCJ2ZXRzaSBuZXpcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzb3VjZXRcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwibWVuYVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwidW5lbmRsaWNoXCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwiTGllYmVcIixcbiAgICAgICAgICBcIiZcIjogXCJ1bmRcIixcbiAgICAgICAgICBcInxcIjogXCJvZGVyXCIsXG4gICAgICAgICAgXCI8XCI6IFwia2xlaW5lciBhbHNcIixcbiAgICAgICAgICBcIj5cIjogXCJncm9lc3NlciBhbHNcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJTdW1tZSB2b25cIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwiV2FlaHJ1bmdcIlxuICAgICAgICB9LFxuICAgICAgICBcImR2XCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJkZWx0YVwiLFxuICAgICAgICAgIFwiXFx1MjIxRVwiOiBcImtvbHVudWxhYVwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcImxvYWJpXCIsXG4gICAgICAgICAgXCImXCI6IFwiYWFpXCIsXG4gICAgICAgICAgXCJ8XCI6IFwibm9vbmVlXCIsXG4gICAgICAgICAgXCI8XCI6IFwiYWggdnVyZSBrdWRhXCIsXG4gICAgICAgICAgXCI+XCI6IFwiYWggdnVyZSBib2R1XCIsXG4gICAgICAgICAgXCJcXHUyMjExXCI6IFwianVtdWxhXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcImZhaXNhYVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZW5cIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiaW5maW5pdHlcIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJsb3ZlXCIsXG4gICAgICAgICAgXCImXCI6IFwiYW5kXCIsXG4gICAgICAgICAgXCJ8XCI6IFwib3JcIixcbiAgICAgICAgICBcIjxcIjogXCJsZXNzIHRoYW5cIixcbiAgICAgICAgICBcIj5cIjogXCJncmVhdGVyIHRoYW5cIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzdW1cIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwiY3VycmVuY3lcIlxuICAgICAgICB9LFxuICAgICAgICBcImVzXCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJkZWx0YVwiLFxuICAgICAgICAgIFwiXFx1MjIxRVwiOiBcImluZmluaXRvXCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwiYW1vclwiLFxuICAgICAgICAgIFwiJlwiOiBcInlcIixcbiAgICAgICAgICBcInxcIjogXCJ1XCIsXG4gICAgICAgICAgXCI8XCI6IFwibWVub3MgcXVlXCIsXG4gICAgICAgICAgXCI+XCI6IFwibWFzIHF1ZVwiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcInN1bWEgZGUgbG9zXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcIm1vbmVkYVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZmFcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiYmktbmFoYXlhdFwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcImVzaGdoXCIsXG4gICAgICAgICAgXCImXCI6IFwidmFcIixcbiAgICAgICAgICBcInxcIjogXCJ5YVwiLFxuICAgICAgICAgIFwiPFwiOiBcImthbXRhci1helwiLFxuICAgICAgICAgIFwiPlwiOiBcImJpc2h0YXItYXpcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJtYWptb29lXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcInZhaGVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJmaVwiOiB7XG4gICAgICAgICAgXCJcXHUyMjA2XCI6IFwiZGVsdGFcIixcbiAgICAgICAgICBcIlxcdTIyMUVcIjogXCJhYXJldHRvbXl5c1wiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcInJha2thdXNcIixcbiAgICAgICAgICBcIiZcIjogXCJqYVwiLFxuICAgICAgICAgIFwifFwiOiBcInRhaVwiLFxuICAgICAgICAgIFwiPFwiOiBcInBpZW5lbXBpIGt1aW5cIixcbiAgICAgICAgICBcIj5cIjogXCJzdXVyZW1waSBrdWluXCIsXG4gICAgICAgICAgXCJcXHUyMjExXCI6IFwic3VtbWFcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwidmFsdXV0dGFcIlxuICAgICAgICB9LFxuICAgICAgICBcImZyXCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJkZWx0YVwiLFxuICAgICAgICAgIFwiXFx1MjIxRVwiOiBcImluZmluaW1lbnRcIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJBbW91clwiLFxuICAgICAgICAgIFwiJlwiOiBcImV0XCIsXG4gICAgICAgICAgXCJ8XCI6IFwib3VcIixcbiAgICAgICAgICBcIjxcIjogXCJtb2lucyBxdWVcIixcbiAgICAgICAgICBcIj5cIjogXCJzdXBlcmlldXJlIGFcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzb21tZSBkZXNcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwibW9ubmFpZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2VcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwidXNhc3J1bG9iYVwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcInNpcXZhcnVsaVwiLFxuICAgICAgICAgIFwiJlwiOiBcImRhXCIsXG4gICAgICAgICAgXCJ8XCI6IFwiYW5cIixcbiAgICAgICAgICBcIjxcIjogXCJuYWtsZWJpXCIsXG4gICAgICAgICAgXCI+XCI6IFwibWV0aVwiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcImphbWlcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwidmFsdXRhXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJnclwiOiB7fSxcbiAgICAgICAgXCJodVwiOiB7XG4gICAgICAgICAgXCJcXHUyMjA2XCI6IFwiZGVsdGFcIixcbiAgICAgICAgICBcIlxcdTIyMUVcIjogXCJ2ZWd0ZWxlblwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcInN6ZXJlbGVtXCIsXG4gICAgICAgICAgXCImXCI6IFwiZXNcIixcbiAgICAgICAgICBcInxcIjogXCJ2YWd5XCIsXG4gICAgICAgICAgXCI8XCI6IFwia2lzZWJiIG1pbnRcIixcbiAgICAgICAgICBcIj5cIjogXCJuYWd5b2JiIG1pbnRcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzenVtbWFcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwicGVuem5lbVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiaXRcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiaW5maW5pdG9cIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJhbW9yZVwiLFxuICAgICAgICAgIFwiJlwiOiBcImVcIixcbiAgICAgICAgICBcInxcIjogXCJvXCIsXG4gICAgICAgICAgXCI8XCI6IFwibWlub3JlIGRpXCIsXG4gICAgICAgICAgXCI+XCI6IFwibWFnZ2lvcmUgZGlcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzb21tYVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJtb25ldGFcIlxuICAgICAgICB9LFxuICAgICAgICBcImx0XCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJkZWx0YVwiLFxuICAgICAgICAgIFwiXFx1MjIxRVwiOiBcImJlZ2FseWJlXCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwibWVpbGVcIixcbiAgICAgICAgICBcIiZcIjogXCJpclwiLFxuICAgICAgICAgIFwifFwiOiBcImFyXCIsXG4gICAgICAgICAgXCI8XCI6IFwibWF6aWF1IG5laVwiLFxuICAgICAgICAgIFwiPlwiOiBcImRhdWdpYXUgbmVpXCIsXG4gICAgICAgICAgXCJcXHUyMjExXCI6IFwic3VtYVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJ2YWxpdXRhXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJsdlwiOiB7XG4gICAgICAgICAgXCJcXHUyMjA2XCI6IFwiZGVsdGFcIixcbiAgICAgICAgICBcIlxcdTIyMUVcIjogXCJiZXpnYWxpYmFcIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJtaWxlc3RpYmFcIixcbiAgICAgICAgICBcIiZcIjogXCJ1blwiLFxuICAgICAgICAgIFwifFwiOiBcInZhaVwiLFxuICAgICAgICAgIFwiPFwiOiBcIm1hemFrIG5la2FcIixcbiAgICAgICAgICBcIj5cIjogXCJsaWVsYWtzIG5la2FcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzdW1tYVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJ2YWx1dGFcIlxuICAgICAgICB9LFxuICAgICAgICBcIm15XCI6IHtcbiAgICAgICAgICBcIlxcdTIyMDZcIjogXCJrd2Foa2h5YWV0XCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiYXNhb25hc21lXCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwiYWtoeWFpdFwiLFxuICAgICAgICAgIFwiJlwiOiBcIm5oaW5cIixcbiAgICAgICAgICBcInxcIjogXCJ0aG9cIixcbiAgICAgICAgICBcIjxcIjogXCJuZ2V0aGF3XCIsXG4gICAgICAgICAgXCI+XCI6IFwia3lpdGhhd1wiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcInBhdW5nbGRcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwibmd3ZWt5ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWtcIjoge30sXG4gICAgICAgIFwibmxcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwib25laW5kaWdcIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJsaWVmZGVcIixcbiAgICAgICAgICBcIiZcIjogXCJlblwiLFxuICAgICAgICAgIFwifFwiOiBcIm9mXCIsXG4gICAgICAgICAgXCI8XCI6IFwia2xlaW5lciBkYW5cIixcbiAgICAgICAgICBcIj5cIjogXCJncm90ZXIgZGFuXCIsXG4gICAgICAgICAgXCJcXHUyMjExXCI6IFwic29tXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcInZhbHV0YVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicGxcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwibmllc2tvbmN6b25vc2NcIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJtaWxvc2NcIixcbiAgICAgICAgICBcIiZcIjogXCJpXCIsXG4gICAgICAgICAgXCJ8XCI6IFwibHViXCIsXG4gICAgICAgICAgXCI8XCI6IFwibW5pZWpzemUgbml6XCIsXG4gICAgICAgICAgXCI+XCI6IFwid2lla3N6ZSBuaXpcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzdW1hXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcIndhbHV0YVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicHRcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiaW5maW5pdG9cIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJhbW9yXCIsXG4gICAgICAgICAgXCImXCI6IFwiZVwiLFxuICAgICAgICAgIFwifFwiOiBcIm91XCIsXG4gICAgICAgICAgXCI8XCI6IFwibWVub3IgcXVlXCIsXG4gICAgICAgICAgXCI+XCI6IFwibWFpb3IgcXVlXCIsXG4gICAgICAgICAgXCJcXHUyMjExXCI6IFwic29tYVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJtb2VkYVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicm9cIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiaW5maW5pdFwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcImRyYWdvc3RlXCIsXG4gICAgICAgICAgXCImXCI6IFwic2lcIixcbiAgICAgICAgICBcInxcIjogXCJzYXVcIixcbiAgICAgICAgICBcIjxcIjogXCJtYWkgbWljIGNhXCIsXG4gICAgICAgICAgXCI+XCI6IFwibWFpIG1hcmUgY2FcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzdW1hXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcInZhbHV0YVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicnVcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiYmVza29uZWNobm9cIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJsdWJvdlwiLFxuICAgICAgICAgIFwiJlwiOiBcImlcIixcbiAgICAgICAgICBcInxcIjogXCJpbGlcIixcbiAgICAgICAgICBcIjxcIjogXCJtZW5zaGVcIixcbiAgICAgICAgICBcIj5cIjogXCJib2xzaGVcIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJzdW1tYVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJ2YWxqdXRhXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJza1wiOiB7XG4gICAgICAgICAgXCJcXHUyMjA2XCI6IFwiZGVsdGFcIixcbiAgICAgICAgICBcIlxcdTIyMUVcIjogXCJuZWtvbmVjbm9cIixcbiAgICAgICAgICBcIlxcdTI2NjVcIjogXCJsYXNrYVwiLFxuICAgICAgICAgIFwiJlwiOiBcImFcIixcbiAgICAgICAgICBcInxcIjogXCJhbGVib1wiLFxuICAgICAgICAgIFwiPFwiOiBcIm1lbmVqIGFrb1wiLFxuICAgICAgICAgIFwiPlwiOiBcInZpYWMgYWtvXCIsXG4gICAgICAgICAgXCJcXHUyMjExXCI6IFwic3VjZXRcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwibWVuYVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic3JcIjoge30sXG4gICAgICAgIFwidHJcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwic29uc3V6bHVrXCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwiYXNrXCIsXG4gICAgICAgICAgXCImXCI6IFwidmVcIixcbiAgICAgICAgICBcInxcIjogXCJ2ZXlhXCIsXG4gICAgICAgICAgXCI8XCI6IFwia3VjdWt0dXJcIixcbiAgICAgICAgICBcIj5cIjogXCJidXl1a3R1clwiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcInRvcGxhbVwiLFxuICAgICAgICAgIFwiXFx4QTRcIjogXCJwYXJhIGJpcmltaVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidWtcIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwiYmV6a2luZWNobmlzdFwiLFxuICAgICAgICAgIFwiXFx1MjY2NVwiOiBcImx1Ym92XCIsXG4gICAgICAgICAgXCImXCI6IFwiaVwiLFxuICAgICAgICAgIFwifFwiOiBcImFib1wiLFxuICAgICAgICAgIFwiPFwiOiBcIm1lbnNoZVwiLFxuICAgICAgICAgIFwiPlwiOiBcImJpbHNoZVwiLFxuICAgICAgICAgIFwiXFx1MjIxMVwiOiBcInN1bWFcIixcbiAgICAgICAgICBcIlxceEE0XCI6IFwidmFsanV0YVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidm5cIjoge1xuICAgICAgICAgIFwiXFx1MjIwNlwiOiBcImRlbHRhXCIsXG4gICAgICAgICAgXCJcXHUyMjFFXCI6IFwidm8gY3VjXCIsXG4gICAgICAgICAgXCJcXHUyNjY1XCI6IFwieWV1XCIsXG4gICAgICAgICAgXCImXCI6IFwidmFcIixcbiAgICAgICAgICBcInxcIjogXCJob2FjXCIsXG4gICAgICAgICAgXCI8XCI6IFwibmhvIGhvblwiLFxuICAgICAgICAgIFwiPlwiOiBcImxvbiBob25cIixcbiAgICAgICAgICBcIlxcdTIyMTFcIjogXCJ0b25nXCIsXG4gICAgICAgICAgXCJcXHhBNFwiOiBcInRpZW4gdGVcIlxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIHVyaWNDaGFycyA9IFtcIjtcIiwgXCI/XCIsIFwiOlwiLCBcIkBcIiwgXCImXCIsIFwiPVwiLCBcIitcIiwgXCIkXCIsIFwiLFwiLCBcIi9cIl0uam9pbihcIlwiKTtcbiAgICAgIHZhciB1cmljTm9TbGFzaENoYXJzID0gW1wiO1wiLCBcIj9cIiwgXCI6XCIsIFwiQFwiLCBcIiZcIiwgXCI9XCIsIFwiK1wiLCBcIiRcIiwgXCIsXCJdLmpvaW4oXCJcIik7XG4gICAgICB2YXIgbWFya0NoYXJzID0gW1wiLlwiLCBcIiFcIiwgXCJ+XCIsIFwiKlwiLCBcIidcIiwgXCIoXCIsIFwiKVwiXS5qb2luKFwiXCIpO1xuICAgICAgdmFyIGdldFNsdWcgPSBmdW5jdGlvbiBnZXRTbHVnMihpbnB1dCwgb3B0cykge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gXCItXCI7XG4gICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgICAgICB2YXIgZGlhdHJpY1N0cmluZyA9IFwiXCI7XG4gICAgICAgIHZhciBjb252ZXJ0U3ltYm9scyA9IHRydWU7XG4gICAgICAgIHZhciBjdXN0b21SZXBsYWNlbWVudHMgPSB7fTtcbiAgICAgICAgdmFyIG1haW50YWluQ2FzZTtcbiAgICAgICAgdmFyIHRpdGxlQ2FzZTtcbiAgICAgICAgdmFyIHRydW5jYXRlO1xuICAgICAgICB2YXIgdXJpY0ZsYWc7XG4gICAgICAgIHZhciB1cmljTm9TbGFzaEZsYWc7XG4gICAgICAgIHZhciBtYXJrRmxhZztcbiAgICAgICAgdmFyIHN5bWJvbDtcbiAgICAgICAgdmFyIGxhbmdDaGFyO1xuICAgICAgICB2YXIgbHVja3k7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgY2g7XG4gICAgICAgIHZhciBsO1xuICAgICAgICB2YXIgbGFzdENoYXJXYXNTeW1ib2w7XG4gICAgICAgIHZhciBsYXN0Q2hhcldhc0RpYXRyaWM7XG4gICAgICAgIHZhciBhbGxvd2VkQ2hhcnMgPSBcIlwiO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgc2VwYXJhdG9yID0gb3B0cztcbiAgICAgICAgfVxuICAgICAgICBzeW1ib2wgPSBzeW1ib2xNYXAuZW47XG4gICAgICAgIGxhbmdDaGFyID0gbGFuZ0NoYXJNYXAuZW47XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIG1haW50YWluQ2FzZSA9IG9wdHMubWFpbnRhaW5DYXNlIHx8IGZhbHNlO1xuICAgICAgICAgIGN1c3RvbVJlcGxhY2VtZW50cyA9IG9wdHMuY3VzdG9tICYmIHR5cGVvZiBvcHRzLmN1c3RvbSA9PT0gXCJvYmplY3RcIiA/IG9wdHMuY3VzdG9tIDogY3VzdG9tUmVwbGFjZW1lbnRzO1xuICAgICAgICAgIHRydW5jYXRlID0gK29wdHMudHJ1bmNhdGUgPiAxICYmIG9wdHMudHJ1bmNhdGUgfHwgZmFsc2U7XG4gICAgICAgICAgdXJpY0ZsYWcgPSBvcHRzLnVyaWMgfHwgZmFsc2U7XG4gICAgICAgICAgdXJpY05vU2xhc2hGbGFnID0gb3B0cy51cmljTm9TbGFzaCB8fCBmYWxzZTtcbiAgICAgICAgICBtYXJrRmxhZyA9IG9wdHMubWFyayB8fCBmYWxzZTtcbiAgICAgICAgICBjb252ZXJ0U3ltYm9scyA9IG9wdHMuc3ltYm9scyA9PT0gZmFsc2UgfHwgb3B0cy5sYW5nID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgICBzZXBhcmF0b3IgPSBvcHRzLnNlcGFyYXRvciB8fCBzZXBhcmF0b3I7XG4gICAgICAgICAgaWYgKHVyaWNGbGFnKSB7XG4gICAgICAgICAgICBhbGxvd2VkQ2hhcnMgKz0gdXJpY0NoYXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodXJpY05vU2xhc2hGbGFnKSB7XG4gICAgICAgICAgICBhbGxvd2VkQ2hhcnMgKz0gdXJpY05vU2xhc2hDaGFycztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1hcmtGbGFnKSB7XG4gICAgICAgICAgICBhbGxvd2VkQ2hhcnMgKz0gbWFya0NoYXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzeW1ib2wgPSBvcHRzLmxhbmcgJiYgc3ltYm9sTWFwW29wdHMubGFuZ10gJiYgY29udmVydFN5bWJvbHMgPyBzeW1ib2xNYXBbb3B0cy5sYW5nXSA6IGNvbnZlcnRTeW1ib2xzID8gc3ltYm9sTWFwLmVuIDoge307XG4gICAgICAgICAgbGFuZ0NoYXIgPSBvcHRzLmxhbmcgJiYgbGFuZ0NoYXJNYXBbb3B0cy5sYW5nXSA/IGxhbmdDaGFyTWFwW29wdHMubGFuZ10gOiBvcHRzLmxhbmcgPT09IGZhbHNlIHx8IG9wdHMubGFuZyA9PT0gdHJ1ZSA/IHt9IDogbGFuZ0NoYXJNYXAuZW47XG4gICAgICAgICAgaWYgKG9wdHMudGl0bGVDYXNlICYmIHR5cGVvZiBvcHRzLnRpdGxlQ2FzZS5sZW5ndGggPT09IFwibnVtYmVyXCIgJiYgQXJyYXkucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob3B0cy50aXRsZUNhc2UpKSB7XG4gICAgICAgICAgICBvcHRzLnRpdGxlQ2FzZS5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgY3VzdG9tUmVwbGFjZW1lbnRzW3YgKyBcIlwiXSA9IHYgKyBcIlwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aXRsZUNhc2UgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZUNhc2UgPSAhIW9wdHMudGl0bGVDYXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob3B0cy5jdXN0b20gJiYgdHlwZW9mIG9wdHMuY3VzdG9tLmxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBBcnJheS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvcHRzLmN1c3RvbSkpIHtcbiAgICAgICAgICAgIG9wdHMuY3VzdG9tLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICBjdXN0b21SZXBsYWNlbWVudHNbdiArIFwiXCJdID0gdiArIFwiXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgT2JqZWN0LmtleXMoY3VzdG9tUmVwbGFjZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciByO1xuICAgICAgICAgICAgaWYgKHYubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICByID0gbmV3IFJlZ0V4cChcIlxcXFxiXCIgKyBlc2NhcGVDaGFycyh2KSArIFwiXFxcXGJcIiwgXCJnaVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHIgPSBuZXcgUmVnRXhwKGVzY2FwZUNoYXJzKHYpLCBcImdpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKHIsIGN1c3RvbVJlcGxhY2VtZW50c1t2XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yIChjaCBpbiBjdXN0b21SZXBsYWNlbWVudHMpIHtcbiAgICAgICAgICAgIGFsbG93ZWRDaGFycyArPSBjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWxsb3dlZENoYXJzICs9IHNlcGFyYXRvcjtcbiAgICAgICAgYWxsb3dlZENoYXJzID0gZXNjYXBlQ2hhcnMoYWxsb3dlZENoYXJzKTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oXlxccyt8XFxzKyQpL2csIFwiXCIpO1xuICAgICAgICBsYXN0Q2hhcldhc1N5bWJvbCA9IGZhbHNlO1xuICAgICAgICBsYXN0Q2hhcldhc0RpYXRyaWMgPSBmYWxzZTtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGlucHV0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNoID0gaW5wdXRbaV07XG4gICAgICAgICAgaWYgKGlzUmVwbGFjZWRDdXN0b21DaGFyKGNoLCBjdXN0b21SZXBsYWNlbWVudHMpKSB7XG4gICAgICAgICAgICBsYXN0Q2hhcldhc1N5bWJvbCA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFuZ0NoYXJbY2hdKSB7XG4gICAgICAgICAgICBjaCA9IGxhc3RDaGFyV2FzU3ltYm9sICYmIGxhbmdDaGFyW2NoXS5tYXRjaCgvW0EtWmEtejAtOV0vKSA/IFwiIFwiICsgbGFuZ0NoYXJbY2hdIDogbGFuZ0NoYXJbY2hdO1xuICAgICAgICAgICAgbGFzdENoYXJXYXNTeW1ib2wgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoIGluIGNoYXJNYXApIHtcbiAgICAgICAgICAgIGlmIChpICsgMSA8IGwgJiYgbG9va0FoZWFkQ2hhckFycmF5LmluZGV4T2YoaW5wdXRbaSArIDFdKSA+PSAwKSB7XG4gICAgICAgICAgICAgIGRpYXRyaWNTdHJpbmcgKz0gY2g7XG4gICAgICAgICAgICAgIGNoID0gXCJcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdENoYXJXYXNEaWF0cmljID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGNoID0gZGlhdHJpY01hcFtkaWF0cmljU3RyaW5nXSArIGNoYXJNYXBbY2hdO1xuICAgICAgICAgICAgICBkaWF0cmljU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoID0gbGFzdENoYXJXYXNTeW1ib2wgJiYgY2hhck1hcFtjaF0ubWF0Y2goL1tBLVphLXowLTldLykgPyBcIiBcIiArIGNoYXJNYXBbY2hdIDogY2hhck1hcFtjaF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Q2hhcldhc1N5bWJvbCA9IGZhbHNlO1xuICAgICAgICAgICAgbGFzdENoYXJXYXNEaWF0cmljID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaCBpbiBkaWF0cmljTWFwKSB7XG4gICAgICAgICAgICBkaWF0cmljU3RyaW5nICs9IGNoO1xuICAgICAgICAgICAgY2ggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGkgPT09IGwgLSAxKSB7XG4gICAgICAgICAgICAgIGNoID0gZGlhdHJpY01hcFtkaWF0cmljU3RyaW5nXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RDaGFyV2FzRGlhdHJpYyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIC8vIHByb2Nlc3Mgc3ltYm9sIGNoYXJzXG4gICAgICAgICAgICBzeW1ib2xbY2hdICYmICEodXJpY0ZsYWcgJiYgdXJpY0NoYXJzLmluZGV4T2YoY2gpICE9PSAtMSkgJiYgISh1cmljTm9TbGFzaEZsYWcgJiYgdXJpY05vU2xhc2hDaGFycy5pbmRleE9mKGNoKSAhPT0gLTEpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaCA9IGxhc3RDaGFyV2FzU3ltYm9sIHx8IHJlc3VsdC5zdWJzdHIoLTEpLm1hdGNoKC9bQS1aYS16MC05XS8pID8gc2VwYXJhdG9yICsgc3ltYm9sW2NoXSA6IHN5bWJvbFtjaF07XG4gICAgICAgICAgICBjaCArPSBpbnB1dFtpICsgMV0gIT09IHZvaWQgMCAmJiBpbnB1dFtpICsgMV0ubWF0Y2goL1tBLVphLXowLTldLykgPyBzZXBhcmF0b3IgOiBcIlwiO1xuICAgICAgICAgICAgbGFzdENoYXJXYXNTeW1ib2wgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobGFzdENoYXJXYXNEaWF0cmljID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGNoID0gZGlhdHJpY01hcFtkaWF0cmljU3RyaW5nXSArIGNoO1xuICAgICAgICAgICAgICBkaWF0cmljU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgbGFzdENoYXJXYXNEaWF0cmljID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RDaGFyV2FzU3ltYm9sICYmICgvW0EtWmEtejAtOV0vLnRlc3QoY2gpIHx8IHJlc3VsdC5zdWJzdHIoLTEpLm1hdGNoKC9BLVphLXowLTldLykpKSB7XG4gICAgICAgICAgICAgIGNoID0gXCIgXCIgKyBjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RDaGFyV2FzU3ltYm9sID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCArPSBjaC5yZXBsYWNlKG5ldyBSZWdFeHAoXCJbXlxcXFx3XFxcXHNcIiArIGFsbG93ZWRDaGFycyArIFwiXy1dXCIsIFwiZ1wiKSwgc2VwYXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGl0bGVDYXNlKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLyhcXHcpKFxcUyopL2csIGZ1bmN0aW9uKF8sIGkyLCByKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGkyLnRvVXBwZXJDYXNlKCkgKyAociAhPT0gbnVsbCA/IHIgOiBcIlwiKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhjdXN0b21SZXBsYWNlbWVudHMpLmluZGV4T2Yoai50b0xvd2VyQ2FzZSgpKSA8IDAgPyBqIDogai50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXHMrL2csIHNlcGFyYXRvcikucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXFwiICsgc2VwYXJhdG9yICsgXCIrXCIsIFwiZ1wiKSwgc2VwYXJhdG9yKS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXlxcXFxcIiArIHNlcGFyYXRvciArIFwiK3xcXFxcXCIgKyBzZXBhcmF0b3IgKyBcIiskKVwiLCBcImdcIiksIFwiXCIpO1xuICAgICAgICBpZiAodHJ1bmNhdGUgJiYgcmVzdWx0Lmxlbmd0aCA+IHRydW5jYXRlKSB7XG4gICAgICAgICAgbHVja3kgPSByZXN1bHQuY2hhckF0KHRydW5jYXRlKSA9PT0gc2VwYXJhdG9yO1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCB0cnVuY2F0ZSk7XG4gICAgICAgICAgaWYgKCFsdWNreSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYWludGFpbkNhc2UgJiYgIXRpdGxlQ2FzZSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgdmFyIGNyZWF0ZVNsdWcgPSBmdW5jdGlvbiBjcmVhdGVTbHVnMihvcHRzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBnZXRTbHVnV2l0aENvbmZpZyhpbnB1dCkge1xuICAgICAgICAgIHJldHVybiBnZXRTbHVnKGlucHV0LCBvcHRzKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICB2YXIgZXNjYXBlQ2hhcnMgPSBmdW5jdGlvbiBlc2NhcGVDaGFyczIoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1stXFxcXF4kKis/LigpfFtcXF17fVxcL10vZywgXCJcXFxcJCZcIik7XG4gICAgICB9O1xuICAgICAgdmFyIGlzUmVwbGFjZWRDdXN0b21DaGFyID0gZnVuY3Rpb24oY2gsIGN1c3RvbVJlcGxhY2VtZW50cykge1xuICAgICAgICBmb3IgKHZhciBjIGluIGN1c3RvbVJlcGxhY2VtZW50cykge1xuICAgICAgICAgIGlmIChjdXN0b21SZXBsYWNlbWVudHNbY10gPT09IGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGdldFNsdWc7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzLmNyZWF0ZVNsdWcgPSBjcmVhdGVTbHVnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0U2x1ZztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChyb290LmdldFNsdWcgfHwgcm9vdC5jcmVhdGVTbHVnKSB7XG4gICAgICAgICAgICB0aHJvdyBcInNwZWFraW5ndXJsOiBnbG9iYWxzIGV4aXN0cyAvKGdldFNsdWd8Y3JlYXRlU2x1ZykvXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvb3QuZ2V0U2x1ZyA9IGdldFNsdWc7XG4gICAgICAgICAgICByb290LmNyZWF0ZVNsdWcgPSBjcmVhdGVTbHVnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkoZXhwb3J0cyk7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3BlYWtpbmd1cmxAMTQuMC4xL25vZGVfbW9kdWxlcy9zcGVha2luZ3VybC9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3BlYWtpbmd1cmwyID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3NwZWFraW5ndXJsQDE0LjAuMS9ub2RlX21vZHVsZXMvc3BlYWtpbmd1cmwvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpbml0X2VzbV9zaGltcygpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZV9zcGVha2luZ3VybCgpO1xuICB9XG59KTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvY29yZS9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGlzTnV4dEFwcCwgdGFyZ2V0IGFzIHRhcmdldDEzIH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG5cbi8vIHNyYy9jb21wYXQvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbmZ1bmN0aW9uIG9uTGVnYWN5RGV2VG9vbHNQbHVnaW5BcGlBdmFpbGFibGUoY2IpIHtcbiAgaWYgKHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fKSB7XG4gICAgY2IoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgXCJfX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fXCIsIHtcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgY2IoKTtcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8gc3JjL2N0eC9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQxMSB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuXG4vLyBzcmMvY3R4L2FwaS50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQ5IH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC1oaWdobGlnaHRlci9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL2JvdW5kaW5nLXJlY3QudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC91dGlscy9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGJhc2VuYW1lLCBjbGFzc2lmeSB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50VHlwZU5hbWUob3B0aW9ucykge1xuICB2YXIgX2EyNTtcbiAgY29uc3QgbmFtZSA9IG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLl9jb21wb25lbnRUYWcgfHwgb3B0aW9ucy5fX1ZVRV9ERVZUT09MU19DT01QT05FTlRfR1VTU0VEX05BTUVfXyB8fCBvcHRpb25zLl9fbmFtZTtcbiAgaWYgKG5hbWUgPT09IFwiaW5kZXhcIiAmJiAoKF9hMjUgPSBvcHRpb25zLl9fZmlsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUuZW5kc1dpdGgoXCJpbmRleC52dWVcIikpKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRGaWxlTmFtZShvcHRpb25zKSB7XG4gIGNvbnN0IGZpbGUgPSBvcHRpb25zLl9fZmlsZTtcbiAgaWYgKGZpbGUpXG4gICAgcmV0dXJuIGNsYXNzaWZ5KGJhc2VuYW1lKGZpbGUsIFwiLnZ1ZVwiKSk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKG9wdGlvbnMpIHtcbiAgY29uc3QgbmFtZSA9IG9wdGlvbnMuZGlzcGxheU5hbWUgfHwgb3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMuX2NvbXBvbmVudFRhZztcbiAgaWYgKG5hbWUpXG4gICAgcmV0dXJuIG5hbWU7XG4gIHJldHVybiBnZXRDb21wb25lbnRGaWxlTmFtZShvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHNhdmVDb21wb25lbnRHdXNzZWROYW1lKGluc3RhbmNlLCBuYW1lKSB7XG4gIGluc3RhbmNlLnR5cGUuX19WVUVfREVWVE9PTFNfQ09NUE9ORU5UX0dVU1NFRF9OQU1FX18gPSBuYW1lO1xuICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGdldEFwcFJlY29yZChpbnN0YW5jZSkge1xuICBpZiAoaW5zdGFuY2UuX19WVUVfREVWVE9PTFNfTkVYVF9BUFBfUkVDT1JEX18pXG4gICAgcmV0dXJuIGluc3RhbmNlLl9fVlVFX0RFVlRPT0xTX05FWFRfQVBQX1JFQ09SRF9fO1xuICBlbHNlIGlmIChpbnN0YW5jZS5yb290KVxuICAgIHJldHVybiBpbnN0YW5jZS5hcHBDb250ZXh0LmFwcC5fX1ZVRV9ERVZUT09MU19ORVhUX0FQUF9SRUNPUkRfXztcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBvbmVudElkKG9wdGlvbnMpIHtcbiAgY29uc3QgeyBhcHAsIHVpZCwgaW5zdGFuY2UgfSA9IG9wdGlvbnM7XG4gIHRyeSB7XG4gICAgaWYgKGluc3RhbmNlLl9fVlVFX0RFVlRPT0xTX05FWFRfVUlEX18pXG4gICAgICByZXR1cm4gaW5zdGFuY2UuX19WVUVfREVWVE9PTFNfTkVYVF9VSURfXztcbiAgICBjb25zdCBhcHBSZWNvcmQgPSBhd2FpdCBnZXRBcHBSZWNvcmQoYXBwKTtcbiAgICBpZiAoIWFwcFJlY29yZClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGlzUm9vdCA9IGFwcFJlY29yZC5yb290SW5zdGFuY2UgPT09IGluc3RhbmNlO1xuICAgIHJldHVybiBgJHthcHBSZWNvcmQuaWR9OiR7aXNSb290ID8gXCJyb290XCIgOiB1aWR9YDtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG59XG5mdW5jdGlvbiBpc0ZyYWdtZW50KGluc3RhbmNlKSB7XG4gIHZhciBfYTI1LCBfYjI1O1xuICBjb25zdCBzdWJUcmVlVHlwZSA9IChfYTI1ID0gaW5zdGFuY2Uuc3ViVHJlZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUudHlwZTtcbiAgY29uc3QgYXBwUmVjb3JkID0gZ2V0QXBwUmVjb3JkKGluc3RhbmNlKTtcbiAgaWYgKGFwcFJlY29yZCkge1xuICAgIHJldHVybiAoKF9iMjUgPSBhcHBSZWNvcmQgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcFJlY29yZC50eXBlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMjUuRnJhZ21lbnQpID09PSBzdWJUcmVlVHlwZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc0JlaW5nRGVzdHJveWVkKGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS5faXNCZWluZ0Rlc3Ryb3llZCB8fCBpbnN0YW5jZS5pc1VubW91bnRlZDtcbn1cbmZ1bmN0aW9uIGdldEluc3RhbmNlTmFtZShpbnN0YW5jZSkge1xuICB2YXIgX2EyNSwgX2IyNSwgX2M7XG4gIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnRUeXBlTmFtZSgoaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnR5cGUpIHx8IHt9KTtcbiAgaWYgKG5hbWUpXG4gICAgcmV0dXJuIG5hbWU7XG4gIGlmICgoaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnJvb3QpID09PSBpbnN0YW5jZSlcbiAgICByZXR1cm4gXCJSb290XCI7XG4gIGZvciAoY29uc3Qga2V5IGluIChfYjI1ID0gKF9hMjUgPSBpbnN0YW5jZS5wYXJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYjI1LmNvbXBvbmVudHMpIHtcbiAgICBpZiAoaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1trZXldID09PSAoaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnR5cGUpKVxuICAgICAgcmV0dXJuIHNhdmVDb21wb25lbnRHdXNzZWROYW1lKGluc3RhbmNlLCBrZXkpO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIChfYyA9IGluc3RhbmNlLmFwcENvbnRleHQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jb21wb25lbnRzKSB7XG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50c1trZXldID09PSAoaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnR5cGUpKVxuICAgICAgcmV0dXJuIHNhdmVDb21wb25lbnRHdXNzZWROYW1lKGluc3RhbmNlLCBrZXkpO1xuICB9XG4gIGNvbnN0IGZpbGVOYW1lID0gZ2V0Q29tcG9uZW50RmlsZU5hbWUoKGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS50eXBlKSB8fCB7fSk7XG4gIGlmIChmaWxlTmFtZSlcbiAgICByZXR1cm4gZmlsZU5hbWU7XG4gIHJldHVybiBcIkFub255bW91cyBDb21wb25lbnRcIjtcbn1cbmZ1bmN0aW9uIGdldFVuaXF1ZUNvbXBvbmVudElkKGluc3RhbmNlKSB7XG4gIHZhciBfYTI1LCBfYjI1LCBfYztcbiAgY29uc3QgYXBwSWQgPSAoX2MgPSAoX2IyNSA9IChfYTI1ID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmFwcENvbnRleHQpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmFwcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMjUuX19WVUVfREVWVE9PTFNfTkVYVF9BUFBfUkVDT1JEX0lEX18pICE9IG51bGwgPyBfYyA6IDA7XG4gIGNvbnN0IGluc3RhbmNlSWQgPSBpbnN0YW5jZSA9PT0gKGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5yb290KSA/IFwicm9vdFwiIDogaW5zdGFuY2UudWlkO1xuICByZXR1cm4gYCR7YXBwSWR9OiR7aW5zdGFuY2VJZH1gO1xufVxuZnVuY3Rpb24gZ2V0UmVuZGVyS2V5KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgIHJldHVybiBcIlwiO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKVxuICAgIHJldHVybiB2YWx1ZTtcbiAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBgJyR7dmFsdWV9J2A7XG4gIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgIHJldHVybiBcIkFycmF5XCI7XG4gIGVsc2VcbiAgICByZXR1cm4gXCJPYmplY3RcIjtcbn1cbmZ1bmN0aW9uIHJldHVybkVycm9yKGNiKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNiKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50SW5zdGFuY2UoYXBwUmVjb3JkLCBpbnN0YW5jZUlkKSB7XG4gIGluc3RhbmNlSWQgPSBpbnN0YW5jZUlkIHx8IGAke2FwcFJlY29yZC5pZH06cm9vdGA7XG4gIGNvbnN0IGluc3RhbmNlID0gYXBwUmVjb3JkLmluc3RhbmNlTWFwLmdldChpbnN0YW5jZUlkKTtcbiAgcmV0dXJuIGluc3RhbmNlIHx8IGFwcFJlY29yZC5pbnN0YW5jZU1hcC5nZXQoXCI6cm9vdFwiKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZVByb3BlcnR5RXhpc3RzKG9iaiwga2V5LCBza2lwT2JqQ2hlY2sgPSBmYWxzZSkge1xuICByZXR1cm4gc2tpcE9iakNoZWNrID8ga2V5IGluIG9iaiA6IHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsID8ga2V5IGluIG9iaiA6IGZhbHNlO1xufVxuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvc3RhdGUvYm91bmRpbmctcmVjdC50c1xuZnVuY3Rpb24gY3JlYXRlUmVjdCgpIHtcbiAgY29uc3QgcmVjdCA9IHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgcmV0dXJuIHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgfSxcbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVjdDtcbn1cbnZhciByYW5nZTtcbmZ1bmN0aW9uIGdldFRleHRSZWN0KG5vZGUpIHtcbiAgaWYgKCFyYW5nZSlcbiAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIHJhbmdlLnNlbGVjdE5vZGUobm9kZSk7XG4gIHJldHVybiByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cbmZ1bmN0aW9uIGdldEZyYWdtZW50UmVjdCh2bm9kZSkge1xuICBjb25zdCByZWN0ID0gY3JlYXRlUmVjdCgpO1xuICBpZiAoIXZub2RlLmNoaWxkcmVuKVxuICAgIHJldHVybiByZWN0O1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkVm5vZGUgPSB2bm9kZS5jaGlsZHJlbltpXTtcbiAgICBsZXQgY2hpbGRSZWN0O1xuICAgIGlmIChjaGlsZFZub2RlLmNvbXBvbmVudCkge1xuICAgICAgY2hpbGRSZWN0ID0gZ2V0Q29tcG9uZW50Qm91bmRpbmdSZWN0KGNoaWxkVm5vZGUuY29tcG9uZW50KTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkVm5vZGUuZWwpIHtcbiAgICAgIGNvbnN0IGVsID0gY2hpbGRWbm9kZS5lbDtcbiAgICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSB8fCBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpXG4gICAgICAgIGNoaWxkUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgZWxzZSBpZiAoZWwubm9kZVR5cGUgPT09IDMgJiYgZWwuZGF0YS50cmltKCkpXG4gICAgICAgIGNoaWxkUmVjdCA9IGdldFRleHRSZWN0KGVsKTtcbiAgICB9XG4gICAgaWYgKGNoaWxkUmVjdClcbiAgICAgIG1lcmdlUmVjdHMocmVjdCwgY2hpbGRSZWN0KTtcbiAgfVxuICByZXR1cm4gcmVjdDtcbn1cbmZ1bmN0aW9uIG1lcmdlUmVjdHMoYSwgYikge1xuICBpZiAoIWEudG9wIHx8IGIudG9wIDwgYS50b3ApXG4gICAgYS50b3AgPSBiLnRvcDtcbiAgaWYgKCFhLmJvdHRvbSB8fCBiLmJvdHRvbSA+IGEuYm90dG9tKVxuICAgIGEuYm90dG9tID0gYi5ib3R0b207XG4gIGlmICghYS5sZWZ0IHx8IGIubGVmdCA8IGEubGVmdClcbiAgICBhLmxlZnQgPSBiLmxlZnQ7XG4gIGlmICghYS5yaWdodCB8fCBiLnJpZ2h0ID4gYS5yaWdodClcbiAgICBhLnJpZ2h0ID0gYi5yaWdodDtcbiAgcmV0dXJuIGE7XG59XG52YXIgREVGQVVMVF9SRUNUID0ge1xuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIHJpZ2h0OiAwLFxuICBib3R0b206IDAsXG4gIHdpZHRoOiAwLFxuICBoZWlnaHQ6IDBcbn07XG5mdW5jdGlvbiBnZXRDb21wb25lbnRCb3VuZGluZ1JlY3QoaW5zdGFuY2UpIHtcbiAgY29uc3QgZWwgPSBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBERUZBVUxUX1JFQ1Q7XG4gIH1cbiAgaWYgKGlzRnJhZ21lbnQoaW5zdGFuY2UpKVxuICAgIHJldHVybiBnZXRGcmFnbWVudFJlY3QoaW5zdGFuY2Uuc3ViVHJlZSk7XG4gIGVsc2UgaWYgKChlbCA9PSBudWxsID8gdm9pZCAwIDogZWwubm9kZVR5cGUpID09PSAxKVxuICAgIHJldHVybiBlbCA9PSBudWxsID8gdm9pZCAwIDogZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGVsc2UgaWYgKGluc3RhbmNlLnN1YlRyZWUuY29tcG9uZW50KVxuICAgIHJldHVybiBnZXRDb21wb25lbnRCb3VuZGluZ1JlY3QoaW5zdGFuY2Uuc3ViVHJlZS5jb21wb25lbnQpO1xuICBlbHNlXG4gICAgcmV0dXJuIERFRkFVTFRfUkVDVDtcbn1cblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3RyZWUvZWwudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5mdW5jdGlvbiBnZXRSb290RWxlbWVudHNGcm9tQ29tcG9uZW50SW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgaWYgKGlzRnJhZ21lbnQoaW5zdGFuY2UpKVxuICAgIHJldHVybiBnZXRGcmFnbWVudFJvb3RFbGVtZW50cyhpbnN0YW5jZS5zdWJUcmVlKTtcbiAgaWYgKCFpbnN0YW5jZS5zdWJUcmVlKVxuICAgIHJldHVybiBbXTtcbiAgcmV0dXJuIFtpbnN0YW5jZS5zdWJUcmVlLmVsXTtcbn1cbmZ1bmN0aW9uIGdldEZyYWdtZW50Um9vdEVsZW1lbnRzKHZub2RlKSB7XG4gIGlmICghdm5vZGUuY2hpbGRyZW4pXG4gICAgcmV0dXJuIFtdO1xuICBjb25zdCBsaXN0ID0gW107XG4gIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkVm5vZGUpID0+IHtcbiAgICBpZiAoY2hpbGRWbm9kZS5jb21wb25lbnQpXG4gICAgICBsaXN0LnB1c2goLi4uZ2V0Um9vdEVsZW1lbnRzRnJvbUNvbXBvbmVudEluc3RhbmNlKGNoaWxkVm5vZGUuY29tcG9uZW50KSk7XG4gICAgZWxzZSBpZiAoY2hpbGRWbm9kZSA9PSBudWxsID8gdm9pZCAwIDogY2hpbGRWbm9kZS5lbClcbiAgICAgIGxpc3QucHVzaChjaGlsZFZub2RlLmVsKTtcbiAgfSk7XG4gIHJldHVybiBsaXN0O1xufVxuXG4vLyBzcmMvY29yZS9jb21wb25lbnQtaGlnaGxpZ2h0ZXIvaW5kZXgudHNcbnZhciBDT05UQUlORVJfRUxFTUVOVF9JRCA9IFwiX192dWUtZGV2dG9vbHMtY29tcG9uZW50LWluc3BlY3Rvcl9fXCI7XG52YXIgQ0FSRF9FTEVNRU5UX0lEID0gXCJfX3Z1ZS1kZXZ0b29scy1jb21wb25lbnQtaW5zcGVjdG9yX19jYXJkX19cIjtcbnZhciBDT01QT05FTlRfTkFNRV9FTEVNRU5UX0lEID0gXCJfX3Z1ZS1kZXZ0b29scy1jb21wb25lbnQtaW5zcGVjdG9yX19uYW1lX19cIjtcbnZhciBJTkRJQ0FUT1JfRUxFTUVOVF9JRCA9IFwiX192dWUtZGV2dG9vbHMtY29tcG9uZW50LWluc3BlY3Rvcl9faW5kaWNhdG9yX19cIjtcbnZhciBjb250YWluZXJTdHlsZXMgPSB7XG4gIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgekluZGV4OiAyMTQ3NDgzNjQwLFxuICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzQyYjg4MzI1XCIsXG4gIGJvcmRlcjogXCIxcHggc29saWQgIzQyYjg4MzUwXCIsXG4gIGJvcmRlclJhZGl1czogXCI1cHhcIixcbiAgdHJhbnNpdGlvbjogXCJhbGwgMC4xcyBlYXNlLWluXCIsXG4gIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG59O1xudmFyIGNhcmRTdHlsZXMgPSB7XG4gIGZvbnRGYW1pbHk6IFwiQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZlwiLFxuICBwYWRkaW5nOiBcIjVweCA4cHhcIixcbiAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICB0ZXh0QWxpZ246IFwibGVmdFwiLFxuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICBsZWZ0OiAwLFxuICBjb2xvcjogXCIjZTllOWU5XCIsXG4gIGZvbnRTaXplOiBcIjE0cHhcIixcbiAgZm9udFdlaWdodDogNjAwLFxuICBsaW5lSGVpZ2h0OiBcIjI0cHhcIixcbiAgYmFja2dyb3VuZENvbG9yOiBcIiM0MmI4ODNcIixcbiAgYm94U2hhZG93OiBcIjAgMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC4xKSwgMCAxcHggMnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpXCJcbn07XG52YXIgaW5kaWNhdG9yU3R5bGVzID0ge1xuICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICBmb250V2VpZ2h0OiA0MDAsXG4gIGZvbnRTdHlsZTogXCJub3JtYWxcIixcbiAgZm9udFNpemU6IFwiMTJweFwiLFxuICBvcGFjaXR5OiAwLjdcbn07XG5mdW5jdGlvbiBnZXRDb250YWluZXJFbGVtZW50KCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoQ09OVEFJTkVSX0VMRU1FTlRfSUQpO1xufVxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChDQVJEX0VMRU1FTlRfSUQpO1xufVxuZnVuY3Rpb24gZ2V0SW5kaWNhdG9yRWxlbWVudCgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElORElDQVRPUl9FTEVNRU5UX0lEKTtcbn1cbmZ1bmN0aW9uIGdldE5hbWVFbGVtZW50KCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoQ09NUE9ORU5UX05BTUVfRUxFTUVOVF9JRCk7XG59XG5mdW5jdGlvbiBnZXRTdHlsZXMoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgbGVmdDogYCR7TWF0aC5yb3VuZChib3VuZHMubGVmdCAqIDEwMCkgLyAxMDB9cHhgLFxuICAgIHRvcDogYCR7TWF0aC5yb3VuZChib3VuZHMudG9wICogMTAwKSAvIDEwMH1weGAsXG4gICAgd2lkdGg6IGAke01hdGgucm91bmQoYm91bmRzLndpZHRoICogMTAwKSAvIDEwMH1weGAsXG4gICAgaGVpZ2h0OiBgJHtNYXRoLnJvdW5kKGJvdW5kcy5oZWlnaHQgKiAxMDApIC8gMTAwfXB4YFxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlKG9wdGlvbnMpIHtcbiAgdmFyIF9hMjU7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29udGFpbmVyRWwuaWQgPSAoX2EyNSA9IG9wdGlvbnMuZWxlbWVudElkKSAhPSBudWxsID8gX2EyNSA6IENPTlRBSU5FUl9FTEVNRU5UX0lEO1xuICBPYmplY3QuYXNzaWduKGNvbnRhaW5lckVsLnN0eWxlLCB7XG4gICAgLi4uY29udGFpbmVyU3R5bGVzLFxuICAgIC4uLmdldFN0eWxlcyhvcHRpb25zLmJvdW5kcyksXG4gICAgLi4ub3B0aW9ucy5zdHlsZVxuICB9KTtcbiAgY29uc3QgY2FyZEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGNhcmRFbC5pZCA9IENBUkRfRUxFTUVOVF9JRDtcbiAgT2JqZWN0LmFzc2lnbihjYXJkRWwuc3R5bGUsIHtcbiAgICAuLi5jYXJkU3R5bGVzLFxuICAgIHRvcDogb3B0aW9ucy5ib3VuZHMudG9wIDwgMzUgPyAwIDogXCItMzVweFwiXG4gIH0pO1xuICBjb25zdCBuYW1lRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgbmFtZUVsLmlkID0gQ09NUE9ORU5UX05BTUVfRUxFTUVOVF9JRDtcbiAgbmFtZUVsLmlubmVySFRNTCA9IGAmbHQ7JHtvcHRpb25zLm5hbWV9Jmd0OyZuYnNwOyZuYnNwO2A7XG4gIGNvbnN0IGluZGljYXRvckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gIGluZGljYXRvckVsLmlkID0gSU5ESUNBVE9SX0VMRU1FTlRfSUQ7XG4gIGluZGljYXRvckVsLmlubmVySFRNTCA9IGAke01hdGgucm91bmQob3B0aW9ucy5ib3VuZHMud2lkdGggKiAxMDApIC8gMTAwfSB4ICR7TWF0aC5yb3VuZChvcHRpb25zLmJvdW5kcy5oZWlnaHQgKiAxMDApIC8gMTAwfWA7XG4gIE9iamVjdC5hc3NpZ24oaW5kaWNhdG9yRWwuc3R5bGUsIGluZGljYXRvclN0eWxlcyk7XG4gIGNhcmRFbC5hcHBlbmRDaGlsZChuYW1lRWwpO1xuICBjYXJkRWwuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yRWwpO1xuICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChjYXJkRWwpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lckVsKTtcbiAgcmV0dXJuIGNvbnRhaW5lckVsO1xufVxuZnVuY3Rpb24gdXBkYXRlKG9wdGlvbnMpIHtcbiAgY29uc3QgY29udGFpbmVyRWwgPSBnZXRDb250YWluZXJFbGVtZW50KCk7XG4gIGNvbnN0IGNhcmRFbCA9IGdldENhcmRFbGVtZW50KCk7XG4gIGNvbnN0IG5hbWVFbCA9IGdldE5hbWVFbGVtZW50KCk7XG4gIGNvbnN0IGluZGljYXRvckVsID0gZ2V0SW5kaWNhdG9yRWxlbWVudCgpO1xuICBpZiAoY29udGFpbmVyRWwpIHtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRhaW5lckVsLnN0eWxlLCB7XG4gICAgICAuLi5jb250YWluZXJTdHlsZXMsXG4gICAgICAuLi5nZXRTdHlsZXMob3B0aW9ucy5ib3VuZHMpXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjYXJkRWwuc3R5bGUsIHtcbiAgICAgIHRvcDogb3B0aW9ucy5ib3VuZHMudG9wIDwgMzUgPyAwIDogXCItMzVweFwiXG4gICAgfSk7XG4gICAgbmFtZUVsLmlubmVySFRNTCA9IGAmbHQ7JHtvcHRpb25zLm5hbWV9Jmd0OyZuYnNwOyZuYnNwO2A7XG4gICAgaW5kaWNhdG9yRWwuaW5uZXJIVE1MID0gYCR7TWF0aC5yb3VuZChvcHRpb25zLmJvdW5kcy53aWR0aCAqIDEwMCkgLyAxMDB9IHggJHtNYXRoLnJvdW5kKG9wdGlvbnMuYm91bmRzLmhlaWdodCAqIDEwMCkgLyAxMDB9YDtcbiAgfVxufVxuZnVuY3Rpb24gaGlnaGxpZ2h0KGluc3RhbmNlKSB7XG4gIGNvbnN0IGJvdW5kcyA9IGdldENvbXBvbmVudEJvdW5kaW5nUmVjdChpbnN0YW5jZSk7XG4gIGlmICghYm91bmRzLndpZHRoICYmICFib3VuZHMuaGVpZ2h0KVxuICAgIHJldHVybjtcbiAgY29uc3QgbmFtZSA9IGdldEluc3RhbmNlTmFtZShpbnN0YW5jZSk7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lckVsZW1lbnQoKTtcbiAgY29udGFpbmVyID8gdXBkYXRlKHsgYm91bmRzLCBuYW1lIH0pIDogY3JlYXRlKHsgYm91bmRzLCBuYW1lIH0pO1xufVxuZnVuY3Rpb24gdW5oaWdobGlnaHQoKSB7XG4gIGNvbnN0IGVsID0gZ2V0Q29udGFpbmVyRWxlbWVudCgpO1xuICBpZiAoZWwpXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufVxudmFyIGluc3BlY3RJbnN0YW5jZSA9IG51bGw7XG5mdW5jdGlvbiBpbnNwZWN0Rm4oZSkge1xuICBjb25zdCB0YXJnZXQyMiA9IGUudGFyZ2V0O1xuICBpZiAodGFyZ2V0MjIpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHRhcmdldDIyLl9fdnVlUGFyZW50Q29tcG9uZW50O1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgaW5zcGVjdEluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICBjb25zdCBlbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldENvbXBvbmVudEJvdW5kaW5nUmVjdChpbnN0YW5jZSk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXJFbGVtZW50KCk7XG4gICAgICAgIGNvbnRhaW5lciA/IHVwZGF0ZSh7IGJvdW5kcywgbmFtZSB9KSA6IGNyZWF0ZSh7IGJvdW5kcywgbmFtZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdENvbXBvbmVudEZuKGUsIGNiKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgaWYgKGluc3BlY3RJbnN0YW5jZSkge1xuICAgIGNvbnN0IHVuaXF1ZUNvbXBvbmVudElkID0gZ2V0VW5pcXVlQ29tcG9uZW50SWQoaW5zcGVjdEluc3RhbmNlKTtcbiAgICBjYih1bmlxdWVDb21wb25lbnRJZCk7XG4gIH1cbn1cbnZhciBpbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXJTZWxlY3RGbiA9IG51bGw7XG5mdW5jdGlvbiBjYW5jZWxJbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXIoKSB7XG4gIHVuaGlnaGxpZ2h0KCk7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGluc3BlY3RGbik7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaW5zcGVjdENvbXBvbmVudEhpZ2hMaWdodGVyU2VsZWN0Rm4sIHRydWUpO1xuICBpbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXJTZWxlY3RGbiA9IG51bGw7XG59XG5mdW5jdGlvbiBpbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXIoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGluc3BlY3RGbik7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGZ1bmN0aW9uIG9uU2VsZWN0KGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBzZWxlY3RDb21wb25lbnRGbihlLCAoaWQpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvblNlbGVjdCwgdHJ1ZSk7XG4gICAgICAgIGluc3BlY3RDb21wb25lbnRIaWdoTGlnaHRlclNlbGVjdEZuID0gbnVsbDtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgaW5zcGVjdEZuKTtcbiAgICAgICAgY29uc3QgZWwgPSBnZXRDb250YWluZXJFbGVtZW50KCk7XG4gICAgICAgIGlmIChlbClcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJlc29sdmUoSlNPTi5zdHJpbmdpZnkoeyBpZCB9KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaW5zcGVjdENvbXBvbmVudEhpZ2hMaWdodGVyU2VsZWN0Rm4gPSBvblNlbGVjdDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uU2VsZWN0LCB0cnVlKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBzY3JvbGxUb0NvbXBvbmVudChvcHRpb25zKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q29tcG9uZW50SW5zdGFuY2UoYWN0aXZlQXBwUmVjb3JkLnZhbHVlLCBvcHRpb25zLmlkKTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY29uc3QgW2VsXSA9IGdldFJvb3RFbGVtZW50c0Zyb21Db21wb25lbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgaWYgKHR5cGVvZiBlbC5zY3JvbGxJbnRvVmlldyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBlbC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm91bmRzID0gZ2V0Q29tcG9uZW50Qm91bmRpbmdSZWN0KGluc3RhbmNlKTtcbiAgICAgIGNvbnN0IHNjcm9sbFRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgIC4uLmdldFN0eWxlcyhib3VuZHMpLFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgICB9O1xuICAgICAgT2JqZWN0LmFzc2lnbihzY3JvbGxUYXJnZXQuc3R5bGUsIHN0eWxlcyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbFRhcmdldCk7XG4gICAgICBzY3JvbGxUYXJnZXQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxuICAgICAgfSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxUYXJnZXQpO1xuICAgICAgfSwgMmUzKTtcbiAgICB9XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBib3VuZHMgPSBnZXRDb21wb25lbnRCb3VuZGluZ1JlY3QoaW5zdGFuY2UpO1xuICAgICAgaWYgKGJvdW5kcy53aWR0aCB8fCBib3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UpO1xuICAgICAgICBjb25zdCBlbDIgPSBnZXRDb250YWluZXJFbGVtZW50KCk7XG4gICAgICAgIGVsMiA/IHVwZGF0ZSh7IC4uLm9wdGlvbnMsIG5hbWUsIGJvdW5kcyB9KSA6IGNyZWF0ZSh7IC4uLm9wdGlvbnMsIG5hbWUsIGJvdW5kcyB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGVsMilcbiAgICAgICAgICAgIGVsMi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH0sIDE1MDApO1xuICAgICAgfVxuICAgIH0sIDEyMDApO1xuICB9XG59XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC1pbnNwZWN0b3IvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0MiB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xudmFyIF9hLCBfYjtcbihfYiA9IChfYSA9IHRhcmdldDIpLl9fVlVFX0RFVlRPT0xTX0NPTVBPTkVOVF9JTlNQRUNUT1JfRU5BQkxFRF9fKSAhPSBudWxsID8gX2IgOiBfYS5fX1ZVRV9ERVZUT09MU19DT01QT05FTlRfSU5TUEVDVE9SX0VOQUJMRURfXyA9IHRydWU7XG5mdW5jdGlvbiB0b2dnbGVDb21wb25lbnRJbnNwZWN0b3JFbmFibGVkKGVuYWJsZWQpIHtcbiAgdGFyZ2V0Mi5fX1ZVRV9ERVZUT09MU19DT01QT05FTlRfSU5TUEVDVE9SX0VOQUJMRURfXyA9IGVuYWJsZWQ7XG59XG5mdW5jdGlvbiB3YWl0Rm9ySW5zcGVjdG9ySW5pdChjYikge1xuICBsZXQgdG90YWwgPSAwO1xuICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBpZiAodGFyZ2V0Mi5fX1ZVRV9JTlNQRUNUT1JfXykge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICB0b3RhbCArPSAzMDtcbiAgICAgIGNiKCk7XG4gICAgfVxuICAgIGlmICh0b3RhbCA+PSAvKiA1cyAqL1xuICAgIDVlMylcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICB9LCAzMCk7XG59XG5mdW5jdGlvbiBzZXR1cEluc3BlY3RvcigpIHtcbiAgY29uc3QgaW5zcGVjdG9yID0gdGFyZ2V0Mi5fX1ZVRV9JTlNQRUNUT1JfXztcbiAgY29uc3QgX29wZW5JbkVkaXRvciA9IGluc3BlY3Rvci5vcGVuSW5FZGl0b3I7XG4gIGluc3BlY3Rvci5vcGVuSW5FZGl0b3IgPSBhc3luYyAoLi4ucGFyYW1zKSA9PiB7XG4gICAgaW5zcGVjdG9yLmRpc2FibGUoKTtcbiAgICBfb3BlbkluRWRpdG9yKC4uLnBhcmFtcyk7XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRJbnNwZWN0b3IoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICAgc2V0dXBJbnNwZWN0b3IoKTtcbiAgICAgIHJlc29sdmUodGFyZ2V0Mi5fX1ZVRV9JTlNQRUNUT1JfXyk7XG4gICAgfVxuICAgIGlmICghdGFyZ2V0Mi5fX1ZVRV9JTlNQRUNUT1JfXykge1xuICAgICAgd2FpdEZvckluc3BlY3RvckluaXQoKCkgPT4ge1xuICAgICAgICBzZXR1cCgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL2VkaXRvci50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL3NoYXJlZC9zdHViLXZ1ZS50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10pO1xufVxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xuICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dKTtcbiAgfVxuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovXSk7XG59XG5mdW5jdGlvbiBpc1JlZihyKSB7XG4gIHJldHVybiAhIShyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL107XG4gIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XG59XG52YXIgRnJhZ21lbnQgPSBTeW1ib2wuZm9yKFwidi1mZ3RcIik7XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC9zdGF0ZS9lZGl0b3IudHNcbnZhciBTdGF0ZUVkaXRvciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZWZFZGl0b3IgPSBuZXcgUmVmU3RhdGVFZGl0b3IoKTtcbiAgfVxuICBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY2IpIHtcbiAgICBjb25zdCBzZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyBwYXRoIDogcGF0aC5zcGxpdChcIi5cIik7XG4gICAgY29uc3QgbWFya1JlZiA9IGZhbHNlO1xuICAgIHdoaWxlIChzZWN0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnMuc2hpZnQoKTtcbiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBNYXApXG4gICAgICAgIG9iamVjdCA9IG9iamVjdC5nZXQoc2VjdGlvbik7XG4gICAgICBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTZXQpXG4gICAgICAgIG9iamVjdCA9IEFycmF5LmZyb20ob2JqZWN0LnZhbHVlcygpKVtzZWN0aW9uXTtcbiAgICAgIGVsc2Ugb2JqZWN0ID0gb2JqZWN0W3NlY3Rpb25dO1xuICAgICAgaWYgKHRoaXMucmVmRWRpdG9yLmlzUmVmKG9iamVjdCkpXG4gICAgICAgIG9iamVjdCA9IHRoaXMucmVmRWRpdG9yLmdldChvYmplY3QpO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IHNlY3Rpb25zWzBdO1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnJlZkVkaXRvci5nZXQob2JqZWN0KVtmaWVsZF07XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYihvYmplY3QsIGZpZWxkLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnJlZkVkaXRvci5pc1JlZihpdGVtKSlcbiAgICAgICAgdGhpcy5yZWZFZGl0b3Iuc2V0KGl0ZW0sIHZhbHVlKTtcbiAgICAgIGVsc2UgaWYgKG1hcmtSZWYpXG4gICAgICAgIG9iamVjdFtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgIGVsc2VcbiAgICAgICAgb2JqZWN0W2ZpZWxkXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBnZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgY29uc3Qgc2VjdGlvbnMgPSBBcnJheS5pc0FycmF5KHBhdGgpID8gcGF0aCA6IHBhdGguc3BsaXQoXCIuXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBNYXApXG4gICAgICAgIG9iamVjdCA9IG9iamVjdC5nZXQoc2VjdGlvbnNbaV0pO1xuICAgICAgZWxzZVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rbc2VjdGlvbnNbaV1dO1xuICAgICAgaWYgKHRoaXMucmVmRWRpdG9yLmlzUmVmKG9iamVjdCkpXG4gICAgICAgIG9iamVjdCA9IHRoaXMucmVmRWRpdG9yLmdldChvYmplY3QpO1xuICAgICAgaWYgKCFvYmplY3QpXG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgaGFzKG9iamVjdCwgcGF0aCwgcGFyZW50ID0gZmFsc2UpIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBzZWN0aW9ucyA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyBwYXRoLnNsaWNlKCkgOiBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgICBjb25zdCBzaXplID0gIXBhcmVudCA/IDEgOiAyO1xuICAgIHdoaWxlIChvYmplY3QgJiYgc2VjdGlvbnMubGVuZ3RoID4gc2l6ZSkge1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IHNlY3Rpb25zLnNoaWZ0KCk7XG4gICAgICBvYmplY3QgPSBvYmplY3Rbc2VjdGlvbl07XG4gICAgICBpZiAodGhpcy5yZWZFZGl0b3IuaXNSZWYob2JqZWN0KSlcbiAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWZFZGl0b3IuZ2V0KG9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBzZWN0aW9uc1swXSk7XG4gIH1cbiAgY3JlYXRlRGVmYXVsdFNldENhbGxiYWNrKHN0YXRlKSB7XG4gICAgcmV0dXJuIChvYmplY3QsIGZpZWxkLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHN0YXRlLnJlbW92ZSB8fCBzdGF0ZS5uZXdLZXkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICBvYmplY3Quc3BsaWNlKGZpZWxkLCAxKTtcbiAgICAgICAgZWxzZSBpZiAodG9SYXcob2JqZWN0KSBpbnN0YW5jZW9mIE1hcClcbiAgICAgICAgICBvYmplY3QuZGVsZXRlKGZpZWxkKTtcbiAgICAgICAgZWxzZSBpZiAodG9SYXcob2JqZWN0KSBpbnN0YW5jZW9mIFNldClcbiAgICAgICAgICBvYmplY3QuZGVsZXRlKEFycmF5LmZyb20ob2JqZWN0LnZhbHVlcygpKVtmaWVsZF0pO1xuICAgICAgICBlbHNlIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkob2JqZWN0LCBmaWVsZCk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXRlLnJlbW92ZSkge1xuICAgICAgICBjb25zdCB0YXJnZXQyMiA9IG9iamVjdFtzdGF0ZS5uZXdLZXkgfHwgZmllbGRdO1xuICAgICAgICBpZiAodGhpcy5yZWZFZGl0b3IuaXNSZWYodGFyZ2V0MjIpKVxuICAgICAgICAgIHRoaXMucmVmRWRpdG9yLnNldCh0YXJnZXQyMiwgdmFsdWUpO1xuICAgICAgICBlbHNlIGlmICh0b1JhdyhvYmplY3QpIGluc3RhbmNlb2YgTWFwKVxuICAgICAgICAgIG9iamVjdC5zZXQoc3RhdGUubmV3S2V5IHx8IGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgIGVsc2UgaWYgKHRvUmF3KG9iamVjdCkgaW5zdGFuY2VvZiBTZXQpXG4gICAgICAgICAgb2JqZWN0LmFkZCh2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvYmplY3Rbc3RhdGUubmV3S2V5IHx8IGZpZWxkXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgUmVmU3RhdGVFZGl0b3IgPSBjbGFzcyB7XG4gIHNldChyZWYsIHZhbHVlKSB7XG4gICAgaWYgKGlzUmVmKHJlZikpIHtcbiAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVmIGluc3RhbmNlb2YgU2V0ICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJlZi5jbGVhcigpO1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiByZWYuYWRkKHYpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudEtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gICAgICBpZiAocmVmIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzS2V5c1NldDIgPSBuZXcgU2V0KHJlZi5rZXlzKCkpO1xuICAgICAgICBjdXJyZW50S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICByZWYuc2V0KGtleSwgUmVmbGVjdC5nZXQodmFsdWUsIGtleSkpO1xuICAgICAgICAgIHByZXZpb3VzS2V5c1NldDIuZGVsZXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2aW91c0tleXNTZXQyLmZvckVhY2goKGtleSkgPT4gcmVmLmRlbGV0ZShrZXkpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlvdXNLZXlzU2V0ID0gbmV3IFNldChPYmplY3Qua2V5cyhyZWYpKTtcbiAgICAgIGN1cnJlbnRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBSZWZsZWN0LnNldChyZWYsIGtleSwgUmVmbGVjdC5nZXQodmFsdWUsIGtleSkpO1xuICAgICAgICBwcmV2aW91c0tleXNTZXQuZGVsZXRlKGtleSk7XG4gICAgICB9KTtcbiAgICAgIHByZXZpb3VzS2V5c1NldC5mb3JFYWNoKChrZXkpID0+IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkocmVmLCBrZXkpKTtcbiAgICB9XG4gIH1cbiAgZ2V0KHJlZikge1xuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xuICB9XG4gIGlzUmVmKHJlZikge1xuICAgIHJldHVybiBpc1JlZihyZWYpIHx8IGlzUmVhY3RpdmUocmVmKTtcbiAgfVxufTtcbmFzeW5jIGZ1bmN0aW9uIGVkaXRDb21wb25lbnRTdGF0ZShwYXlsb2FkLCBzdGF0ZUVkaXRvcjIpIHtcbiAgY29uc3QgeyBwYXRoLCBub2RlSWQsIHN0YXRlLCB0eXBlIH0gPSBwYXlsb2FkO1xuICBjb25zdCBpbnN0YW5jZSA9IGdldENvbXBvbmVudEluc3RhbmNlKGFjdGl2ZUFwcFJlY29yZC52YWx1ZSwgbm9kZUlkKTtcbiAgaWYgKCFpbnN0YW5jZSlcbiAgICByZXR1cm47XG4gIGNvbnN0IHRhcmdldFBhdGggPSBwYXRoLnNsaWNlKCk7XG4gIGxldCB0YXJnZXQyMjtcbiAgaWYgKE9iamVjdC5rZXlzKGluc3RhbmNlLnByb3BzKS5pbmNsdWRlcyhwYXRoWzBdKSkge1xuICAgIHRhcmdldDIyID0gaW5zdGFuY2UucHJvcHM7XG4gIH0gZWxzZSBpZiAoaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlICYmIE9iamVjdC5rZXlzKGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSkuaW5jbHVkZXMocGF0aFswXSkpIHtcbiAgICB0YXJnZXQyMiA9IGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZTtcbiAgfSBlbHNlIGlmIChpbnN0YW5jZS5kYXRhICYmIE9iamVjdC5rZXlzKGluc3RhbmNlLmRhdGEpLmluY2x1ZGVzKHBhdGhbMF0pKSB7XG4gICAgdGFyZ2V0MjIgPSBpbnN0YW5jZS5kYXRhO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldDIyID0gaW5zdGFuY2UucHJveHk7XG4gIH1cbiAgaWYgKHRhcmdldDIyICYmIHRhcmdldFBhdGgpIHtcbiAgICBpZiAoc3RhdGUudHlwZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlID09PSBcInJlYWN0aXZlXCIpIHtcbiAgICB9XG4gICAgc3RhdGVFZGl0b3IyLnNldCh0YXJnZXQyMiwgdGFyZ2V0UGF0aCwgc3RhdGUudmFsdWUsIHN0YXRlRWRpdG9yMi5jcmVhdGVEZWZhdWx0U2V0Q2FsbGJhY2soc3RhdGUpKTtcbiAgfVxufVxudmFyIHN0YXRlRWRpdG9yID0gbmV3IFN0YXRlRWRpdG9yKCk7XG5hc3luYyBmdW5jdGlvbiBlZGl0U3RhdGUocGF5bG9hZCkge1xuICBlZGl0Q29tcG9uZW50U3RhdGUocGF5bG9hZCwgc3RhdGVFZGl0b3IpO1xufVxuXG4vLyBzcmMvY29yZS9vcGVuLWluLWVkaXRvci9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQ1IH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG5cbi8vIHNyYy9jdHgvc3RhdGUudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgZ2xvYmFsLCBpc1VybFN0cmluZyB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuaW1wb3J0IHsgZGVib3VuY2UgYXMgZGVib3VuY2UzIH0gZnJvbSBcInBlcmZlY3QtZGVib3VuY2VcIjtcblxuLy8gc3JjL2NvcmUvdGltZWxpbmUvc3RvcmFnZS50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xudmFyIFRJTUVMSU5FX0xBWUVSU19TVEFURV9TVE9SQUdFX0lEID0gXCJfX1ZVRV9ERVZUT09MU19LSVRfVElNRUxJTkVfTEFZRVJTX1NUQVRFX19cIjtcbmZ1bmN0aW9uIGFkZFRpbWVsaW5lTGF5ZXJzU3RhdGVUb1N0b3JhZ2Uoc3RhdGUpIHtcbiAgaWYgKCFpc0Jyb3dzZXIgfHwgdHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBsb2NhbFN0b3JhZ2UgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVElNRUxJTkVfTEFZRVJTX1NUQVRFX1NUT1JBR0VfSUQsIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG59XG5mdW5jdGlvbiBnZXRUaW1lbGluZUxheWVyc1N0YXRlRnJvbVN0b3JhZ2UoKSB7XG4gIGlmICghaXNCcm93c2VyIHx8IHR5cGVvZiBsb2NhbFN0b3JhZ2UgPT09IFwidW5kZWZpbmVkXCIgfHwgbG9jYWxTdG9yYWdlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlY29yZGluZ1N0YXRlOiBmYWxzZSxcbiAgICAgIG1vdXNlRXZlbnRFbmFibGVkOiBmYWxzZSxcbiAgICAgIGtleWJvYXJkRXZlbnRFbmFibGVkOiBmYWxzZSxcbiAgICAgIGNvbXBvbmVudEV2ZW50RW5hYmxlZDogZmFsc2UsXG4gICAgICBwZXJmb3JtYW5jZUV2ZW50RW5hYmxlZDogZmFsc2UsXG4gICAgICBzZWxlY3RlZDogXCJcIlxuICAgIH07XG4gIH1cbiAgY29uc3Qgc3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUSU1FTElORV9MQVlFUlNfU1RBVEVfU1RPUkFHRV9JRCk7XG4gIHJldHVybiBzdGF0ZSA/IEpTT04ucGFyc2Uoc3RhdGUpIDoge1xuICAgIHJlY29yZGluZ1N0YXRlOiBmYWxzZSxcbiAgICBtb3VzZUV2ZW50RW5hYmxlZDogZmFsc2UsXG4gICAga2V5Ym9hcmRFdmVudEVuYWJsZWQ6IGZhbHNlLFxuICAgIGNvbXBvbmVudEV2ZW50RW5hYmxlZDogZmFsc2UsXG4gICAgcGVyZm9ybWFuY2VFdmVudEVuYWJsZWQ6IGZhbHNlLFxuICAgIHNlbGVjdGVkOiBcIlwiXG4gIH07XG59XG5cbi8vIHNyYy9jdHgvaG9vay50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGNyZWF0ZUhvb2tzIH0gZnJvbSBcImhvb2thYmxlXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSBhcyBkZWJvdW5jZTIgfSBmcm9tIFwicGVyZmVjdC1kZWJvdW5jZVwiO1xuXG4vLyBzcmMvY3R4L2luc3BlY3Rvci50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQ0IH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCJwZXJmZWN0LWRlYm91bmNlXCI7XG5cbi8vIHNyYy9jdHgvdGltZWxpbmUudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0MyB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xudmFyIF9hMiwgX2IyO1xuKF9iMiA9IChfYTIgPSB0YXJnZXQzKS5fX1ZVRV9ERVZUT09MU19LSVRfVElNRUxJTkVfTEFZRVJTKSAhPSBudWxsID8gX2IyIDogX2EyLl9fVlVFX0RFVlRPT0xTX0tJVF9USU1FTElORV9MQVlFUlMgPSBbXTtcbnZhciBkZXZ0b29sc1RpbWVsaW5lTGF5ZXJzID0gbmV3IFByb3h5KHRhcmdldDMuX19WVUVfREVWVE9PTFNfS0lUX1RJTUVMSU5FX0xBWUVSUywge1xuICBnZXQodGFyZ2V0MjIsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldDIyLCBwcm9wLCByZWNlaXZlcik7XG4gIH1cbn0pO1xuZnVuY3Rpb24gYWRkVGltZWxpbmVMYXllcihvcHRpb25zLCBkZXNjcmlwdG9yKSB7XG4gIGRldnRvb2xzU3RhdGUudGltZWxpbmVMYXllcnNTdGF0ZVtkZXNjcmlwdG9yLmlkXSA9IGZhbHNlO1xuICBkZXZ0b29sc1RpbWVsaW5lTGF5ZXJzLnB1c2goe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgZGVzY3JpcHRvcklkOiBkZXNjcmlwdG9yLmlkLFxuICAgIGFwcFJlY29yZDogZ2V0QXBwUmVjb3JkKGRlc2NyaXB0b3IuYXBwKVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVRpbWVsaW5lTGF5ZXJzU3RhdGUoc3RhdGUpIHtcbiAgY29uc3QgdXBkYXRlZFN0YXRlID0ge1xuICAgIC4uLmRldnRvb2xzU3RhdGUudGltZWxpbmVMYXllcnNTdGF0ZSxcbiAgICAuLi5zdGF0ZVxuICB9O1xuICBhZGRUaW1lbGluZUxheWVyc1N0YXRlVG9TdG9yYWdlKHVwZGF0ZWRTdGF0ZSk7XG4gIHVwZGF0ZURldlRvb2xzU3RhdGUoe1xuICAgIHRpbWVsaW5lTGF5ZXJzU3RhdGU6IHVwZGF0ZWRTdGF0ZVxuICB9KTtcbn1cblxuLy8gc3JjL2N0eC9pbnNwZWN0b3IudHNcbnZhciBfYTMsIF9iMztcbihfYjMgPSAoX2EzID0gdGFyZ2V0NCkuX19WVUVfREVWVE9PTFNfS0lUX0lOU1BFQ1RPUl9fKSAhPSBudWxsID8gX2IzIDogX2EzLl9fVlVFX0RFVlRPT0xTX0tJVF9JTlNQRUNUT1JfXyA9IFtdO1xudmFyIGRldnRvb2xzSW5zcGVjdG9yID0gbmV3IFByb3h5KHRhcmdldDQuX19WVUVfREVWVE9PTFNfS0lUX0lOU1BFQ1RPUl9fLCB7XG4gIGdldCh0YXJnZXQyMiwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0MjIsIHByb3AsIHJlY2VpdmVyKTtcbiAgfVxufSk7XG52YXIgY2FsbEluc3BlY3RvclVwZGF0ZWRIb29rID0gZGVib3VuY2UoKCkgPT4ge1xuICBkZXZ0b29sc0NvbnRleHQuaG9va3MuY2FsbEhvb2soXCJzZW5kSW5zcGVjdG9yVG9DbGllbnRcIiAvKiBTRU5EX0lOU1BFQ1RPUl9UT19DTElFTlQgKi8sIGdldEFjdGl2ZUluc3BlY3RvcnMoKSk7XG59KTtcbmZ1bmN0aW9uIGFkZEluc3BlY3RvcihpbnNwZWN0b3IsIGRlc2NyaXB0b3IpIHtcbiAgdmFyIF9hMjUsIF9iMjU7XG4gIGRldnRvb2xzSW5zcGVjdG9yLnB1c2goe1xuICAgIG9wdGlvbnM6IGluc3BlY3RvcixcbiAgICBkZXNjcmlwdG9yLFxuICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogKF9hMjUgPSBpbnNwZWN0b3IudHJlZUZpbHRlclBsYWNlaG9sZGVyKSAhPSBudWxsID8gX2EyNSA6IFwiU2VhcmNoIHRyZWUuLi5cIixcbiAgICBzdGF0ZUZpbHRlclBsYWNlaG9sZGVyOiAoX2IyNSA9IGluc3BlY3Rvci5zdGF0ZUZpbHRlclBsYWNlaG9sZGVyKSAhPSBudWxsID8gX2IyNSA6IFwiU2VhcmNoIHN0YXRlLi4uXCIsXG4gICAgdHJlZUZpbHRlcjogXCJcIixcbiAgICBzZWxlY3RlZE5vZGVJZDogXCJcIixcbiAgICBhcHBSZWNvcmQ6IGdldEFwcFJlY29yZChkZXNjcmlwdG9yLmFwcClcbiAgfSk7XG4gIGNhbGxJbnNwZWN0b3JVcGRhdGVkSG9vaygpO1xufVxuZnVuY3Rpb24gZ2V0QWN0aXZlSW5zcGVjdG9ycygpIHtcbiAgcmV0dXJuIGRldnRvb2xzSW5zcGVjdG9yLmZpbHRlcigoaW5zcGVjdG9yKSA9PiBpbnNwZWN0b3IuZGVzY3JpcHRvci5hcHAgPT09IGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5hcHApLmZpbHRlcigoaW5zcGVjdG9yKSA9PiBpbnNwZWN0b3IuZGVzY3JpcHRvci5pZCAhPT0gXCJjb21wb25lbnRzXCIpLm1hcCgoaW5zcGVjdG9yKSA9PiB7XG4gICAgdmFyIF9hMjU7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IGluc3BlY3Rvci5kZXNjcmlwdG9yO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnNwZWN0b3Iub3B0aW9ucztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgICBsYWJlbDogb3B0aW9ucy5sYWJlbCxcbiAgICAgIGxvZ286IGRlc2NyaXB0b3IubG9nbyxcbiAgICAgIGljb246IGBjdXN0b20taWMtYmFzZWxpbmUtJHsoX2EyNSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaWNvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUucmVwbGFjZSgvXy9nLCBcIi1cIil9YCxcbiAgICAgIHBhY2thZ2VOYW1lOiBkZXNjcmlwdG9yLnBhY2thZ2VOYW1lLFxuICAgICAgaG9tZXBhZ2U6IGRlc2NyaXB0b3IuaG9tZXBhZ2UsXG4gICAgICBwbHVnaW5JZDogZGVzY3JpcHRvci5pZFxuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0SW5zcGVjdG9ySW5mbyhpZCkge1xuICBjb25zdCBpbnNwZWN0b3IgPSBnZXRJbnNwZWN0b3IoaWQsIGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5hcHApO1xuICBpZiAoIWluc3BlY3RvcilcbiAgICByZXR1cm47XG4gIGNvbnN0IGRlc2NyaXB0b3IgPSBpbnNwZWN0b3IuZGVzY3JpcHRvcjtcbiAgY29uc3Qgb3B0aW9ucyA9IGluc3BlY3Rvci5vcHRpb25zO1xuICBjb25zdCB0aW1lbGluZUxheWVycyA9IGRldnRvb2xzVGltZWxpbmVMYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIuZGVzY3JpcHRvcklkID09PSBkZXNjcmlwdG9yLmlkKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgaWQ6IGl0ZW0uaWQsXG4gICAgbGFiZWw6IGl0ZW0ubGFiZWwsXG4gICAgY29sb3I6IGl0ZW0uY29sb3JcbiAgfSkpO1xuICByZXR1cm4ge1xuICAgIGlkOiBvcHRpb25zLmlkLFxuICAgIGxhYmVsOiBvcHRpb25zLmxhYmVsLFxuICAgIGxvZ286IGRlc2NyaXB0b3IubG9nbyxcbiAgICBwYWNrYWdlTmFtZTogZGVzY3JpcHRvci5wYWNrYWdlTmFtZSxcbiAgICBob21lcGFnZTogZGVzY3JpcHRvci5ob21lcGFnZSxcbiAgICB0aW1lbGluZUxheWVycyxcbiAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6IGluc3BlY3Rvci50cmVlRmlsdGVyUGxhY2Vob2xkZXIsXG4gICAgc3RhdGVGaWx0ZXJQbGFjZWhvbGRlcjogaW5zcGVjdG9yLnN0YXRlRmlsdGVyUGxhY2Vob2xkZXJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEluc3BlY3RvcihpZCwgYXBwKSB7XG4gIHJldHVybiBkZXZ0b29sc0luc3BlY3Rvci5maW5kKChpbnNwZWN0b3IpID0+IGluc3BlY3Rvci5vcHRpb25zLmlkID09PSBpZCAmJiAoYXBwID8gaW5zcGVjdG9yLmRlc2NyaXB0b3IuYXBwID09PSBhcHAgOiB0cnVlKSk7XG59XG5mdW5jdGlvbiBnZXRJbnNwZWN0b3JBY3Rpb25zKGlkKSB7XG4gIGNvbnN0IGluc3BlY3RvciA9IGdldEluc3BlY3RvcihpZCk7XG4gIHJldHVybiBpbnNwZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3BlY3Rvci5vcHRpb25zLmFjdGlvbnM7XG59XG5mdW5jdGlvbiBnZXRJbnNwZWN0b3JOb2RlQWN0aW9ucyhpZCkge1xuICBjb25zdCBpbnNwZWN0b3IgPSBnZXRJbnNwZWN0b3IoaWQpO1xuICByZXR1cm4gaW5zcGVjdG9yID09IG51bGwgPyB2b2lkIDAgOiBpbnNwZWN0b3Iub3B0aW9ucy5ub2RlQWN0aW9ucztcbn1cblxuLy8gc3JjL2N0eC9ob29rLnRzXG52YXIgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzID0gLyogQF9fUFVSRV9fICovICgoRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzMikgPT4ge1xuICBEZXZUb29sc1Y2UGx1Z2luQVBJSG9va0tleXMyW1wiVklTSVRfQ09NUE9ORU5UX1RSRUVcIl0gPSBcInZpc2l0Q29tcG9uZW50VHJlZVwiO1xuICBEZXZUb29sc1Y2UGx1Z2luQVBJSG9va0tleXMyW1wiSU5TUEVDVF9DT01QT05FTlRcIl0gPSBcImluc3BlY3RDb21wb25lbnRcIjtcbiAgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzMltcIkVESVRfQ09NUE9ORU5UX1NUQVRFXCJdID0gXCJlZGl0Q29tcG9uZW50U3RhdGVcIjtcbiAgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzMltcIkdFVF9JTlNQRUNUT1JfVFJFRVwiXSA9IFwiZ2V0SW5zcGVjdG9yVHJlZVwiO1xuICBEZXZUb29sc1Y2UGx1Z2luQVBJSG9va0tleXMyW1wiR0VUX0lOU1BFQ1RPUl9TVEFURVwiXSA9IFwiZ2V0SW5zcGVjdG9yU3RhdGVcIjtcbiAgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzMltcIkVESVRfSU5TUEVDVE9SX1NUQVRFXCJdID0gXCJlZGl0SW5zcGVjdG9yU3RhdGVcIjtcbiAgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzMltcIklOU1BFQ1RfVElNRUxJTkVfRVZFTlRcIl0gPSBcImluc3BlY3RUaW1lbGluZUV2ZW50XCI7XG4gIERldlRvb2xzVjZQbHVnaW5BUElIb29rS2V5czJbXCJUSU1FTElORV9DTEVBUkVEXCJdID0gXCJ0aW1lbGluZUNsZWFyZWRcIjtcbiAgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzMltcIlNFVF9QTFVHSU5fU0VUVElOR1NcIl0gPSBcInNldFBsdWdpblNldHRpbmdzXCI7XG4gIHJldHVybiBEZXZUb29sc1Y2UGx1Z2luQVBJSG9va0tleXMyO1xufSkoRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzIHx8IHt9KTtcbnZhciBEZXZUb29sc0NvbnRleHRIb29rS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyAoKERldlRvb2xzQ29udGV4dEhvb2tLZXlzMikgPT4ge1xuICBEZXZUb29sc0NvbnRleHRIb29rS2V5czJbXCJBRERfSU5TUEVDVE9SXCJdID0gXCJhZGRJbnNwZWN0b3JcIjtcbiAgRGV2VG9vbHNDb250ZXh0SG9va0tleXMyW1wiU0VORF9JTlNQRUNUT1JfVFJFRVwiXSA9IFwic2VuZEluc3BlY3RvclRyZWVcIjtcbiAgRGV2VG9vbHNDb250ZXh0SG9va0tleXMyW1wiU0VORF9JTlNQRUNUT1JfU1RBVEVcIl0gPSBcInNlbmRJbnNwZWN0b3JTdGF0ZVwiO1xuICBEZXZUb29sc0NvbnRleHRIb29rS2V5czJbXCJDVVNUT01fSU5TUEVDVE9SX1NFTEVDVF9OT0RFXCJdID0gXCJjdXN0b21JbnNwZWN0b3JTZWxlY3ROb2RlXCI7XG4gIERldlRvb2xzQ29udGV4dEhvb2tLZXlzMltcIlRJTUVMSU5FX0xBWUVSX0FEREVEXCJdID0gXCJ0aW1lbGluZUxheWVyQWRkZWRcIjtcbiAgRGV2VG9vbHNDb250ZXh0SG9va0tleXMyW1wiVElNRUxJTkVfRVZFTlRfQURERURcIl0gPSBcInRpbWVsaW5lRXZlbnRBZGRlZFwiO1xuICBEZXZUb29sc0NvbnRleHRIb29rS2V5czJbXCJHRVRfQ09NUE9ORU5UX0lOU1RBTkNFU1wiXSA9IFwiZ2V0Q29tcG9uZW50SW5zdGFuY2VzXCI7XG4gIERldlRvb2xzQ29udGV4dEhvb2tLZXlzMltcIkdFVF9DT01QT05FTlRfQk9VTkRTXCJdID0gXCJnZXRDb21wb25lbnRCb3VuZHNcIjtcbiAgRGV2VG9vbHNDb250ZXh0SG9va0tleXMyW1wiR0VUX0NPTVBPTkVOVF9OQU1FXCJdID0gXCJnZXRDb21wb25lbnROYW1lXCI7XG4gIERldlRvb2xzQ29udGV4dEhvb2tLZXlzMltcIkNPTVBPTkVOVF9ISUdITElHSFRcIl0gPSBcImNvbXBvbmVudEhpZ2hsaWdodFwiO1xuICBEZXZUb29sc0NvbnRleHRIb29rS2V5czJbXCJDT01QT05FTlRfVU5ISUdITElHSFRcIl0gPSBcImNvbXBvbmVudFVuaGlnaGxpZ2h0XCI7XG4gIHJldHVybiBEZXZUb29sc0NvbnRleHRIb29rS2V5czI7XG59KShEZXZUb29sc0NvbnRleHRIb29rS2V5cyB8fCB7fSk7XG52YXIgRGV2VG9vbHNNZXNzYWdpbmdIb29rS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyAoKERldlRvb2xzTWVzc2FnaW5nSG9va0tleXMyKSA9PiB7XG4gIERldlRvb2xzTWVzc2FnaW5nSG9va0tleXMyW1wiU0VORF9JTlNQRUNUT1JfVFJFRV9UT19DTElFTlRcIl0gPSBcInNlbmRJbnNwZWN0b3JUcmVlVG9DbGllbnRcIjtcbiAgRGV2VG9vbHNNZXNzYWdpbmdIb29rS2V5czJbXCJTRU5EX0lOU1BFQ1RPUl9TVEFURV9UT19DTElFTlRcIl0gPSBcInNlbmRJbnNwZWN0b3JTdGF0ZVRvQ2xpZW50XCI7XG4gIERldlRvb2xzTWVzc2FnaW5nSG9va0tleXMyW1wiU0VORF9USU1FTElORV9FVkVOVF9UT19DTElFTlRcIl0gPSBcInNlbmRUaW1lbGluZUV2ZW50VG9DbGllbnRcIjtcbiAgRGV2VG9vbHNNZXNzYWdpbmdIb29rS2V5czJbXCJTRU5EX0lOU1BFQ1RPUl9UT19DTElFTlRcIl0gPSBcInNlbmRJbnNwZWN0b3JUb0NsaWVudFwiO1xuICBEZXZUb29sc01lc3NhZ2luZ0hvb2tLZXlzMltcIlNFTkRfQUNUSVZFX0FQUF9VTk1PVU5URURfVE9fQ0xJRU5UXCJdID0gXCJzZW5kQWN0aXZlQXBwVXBkYXRlZFRvQ2xpZW50XCI7XG4gIERldlRvb2xzTWVzc2FnaW5nSG9va0tleXMyW1wiREVWVE9PTFNfU1RBVEVfVVBEQVRFRFwiXSA9IFwiZGV2dG9vbHNTdGF0ZVVwZGF0ZWRcIjtcbiAgRGV2VG9vbHNNZXNzYWdpbmdIb29rS2V5czJbXCJERVZUT09MU19DT05ORUNURURfVVBEQVRFRFwiXSA9IFwiZGV2dG9vbHNDb25uZWN0ZWRVcGRhdGVkXCI7XG4gIERldlRvb2xzTWVzc2FnaW5nSG9va0tleXMyW1wiUk9VVEVSX0lORk9fVVBEQVRFRFwiXSA9IFwicm91dGVySW5mb1VwZGF0ZWRcIjtcbiAgcmV0dXJuIERldlRvb2xzTWVzc2FnaW5nSG9va0tleXMyO1xufSkoRGV2VG9vbHNNZXNzYWdpbmdIb29rS2V5cyB8fCB7fSk7XG5mdW5jdGlvbiBjcmVhdGVEZXZUb29sc0N0eEhvb2tzKCkge1xuICBjb25zdCBob29rczIgPSBjcmVhdGVIb29rcygpO1xuICBob29rczIuaG9vayhcImFkZEluc3BlY3RvclwiIC8qIEFERF9JTlNQRUNUT1IgKi8sICh7IGluc3BlY3RvciwgcGx1Z2luIH0pID0+IHtcbiAgICBhZGRJbnNwZWN0b3IoaW5zcGVjdG9yLCBwbHVnaW4uZGVzY3JpcHRvcik7XG4gIH0pO1xuICBjb25zdCBkZWJvdW5jZVNlbmRJbnNwZWN0b3JUcmVlID0gZGVib3VuY2UyKGFzeW5jICh7IGluc3BlY3RvcklkLCBwbHVnaW4gfSkgPT4ge1xuICAgIHZhciBfYTI1O1xuICAgIGlmICghaW5zcGVjdG9ySWQgfHwgISgoX2EyNSA9IHBsdWdpbiA9PSBudWxsID8gdm9pZCAwIDogcGx1Z2luLmRlc2NyaXB0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmFwcCkgfHwgZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGluc3BlY3RvciA9IGdldEluc3BlY3RvcihpbnNwZWN0b3JJZCwgcGx1Z2luLmRlc2NyaXB0b3IuYXBwKTtcbiAgICBjb25zdCBfcGF5bG9hZCA9IHtcbiAgICAgIGFwcDogcGx1Z2luLmRlc2NyaXB0b3IuYXBwLFxuICAgICAgaW5zcGVjdG9ySWQsXG4gICAgICBmaWx0ZXI6IChpbnNwZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3BlY3Rvci50cmVlRmlsdGVyKSB8fCBcIlwiLFxuICAgICAgcm9vdE5vZGVzOiBbXVxuICAgIH07XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGhvb2tzMi5jYWxsSG9va1dpdGgoYXN5bmMgKGNhbGxiYWNrcykgPT4ge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja3MubWFwKChjYikgPT4gY2IoX3BheWxvYWQpKSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIFwiZ2V0SW5zcGVjdG9yVHJlZVwiIC8qIEdFVF9JTlNQRUNUT1JfVFJFRSAqLyk7XG4gICAgfSk7XG4gICAgaG9va3MyLmNhbGxIb29rV2l0aChhc3luYyAoY2FsbGJhY2tzKSA9PiB7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja3MubWFwKChjYikgPT4gY2Ioe1xuICAgICAgICBpbnNwZWN0b3JJZCxcbiAgICAgICAgcm9vdE5vZGVzOiBfcGF5bG9hZC5yb290Tm9kZXNcbiAgICAgIH0pKSk7XG4gICAgfSwgXCJzZW5kSW5zcGVjdG9yVHJlZVRvQ2xpZW50XCIgLyogU0VORF9JTlNQRUNUT1JfVFJFRV9UT19DTElFTlQgKi8pO1xuICB9LCAxMjApO1xuICBob29rczIuaG9vayhcInNlbmRJbnNwZWN0b3JUcmVlXCIgLyogU0VORF9JTlNQRUNUT1JfVFJFRSAqLywgZGVib3VuY2VTZW5kSW5zcGVjdG9yVHJlZSk7XG4gIGNvbnN0IGRlYm91bmNlU2VuZEluc3BlY3RvclN0YXRlID0gZGVib3VuY2UyKGFzeW5jICh7IGluc3BlY3RvcklkLCBwbHVnaW4gfSkgPT4ge1xuICAgIHZhciBfYTI1O1xuICAgIGlmICghaW5zcGVjdG9ySWQgfHwgISgoX2EyNSA9IHBsdWdpbiA9PSBudWxsID8gdm9pZCAwIDogcGx1Z2luLmRlc2NyaXB0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmFwcCkgfHwgZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGluc3BlY3RvciA9IGdldEluc3BlY3RvcihpbnNwZWN0b3JJZCwgcGx1Z2luLmRlc2NyaXB0b3IuYXBwKTtcbiAgICBjb25zdCBfcGF5bG9hZCA9IHtcbiAgICAgIGFwcDogcGx1Z2luLmRlc2NyaXB0b3IuYXBwLFxuICAgICAgaW5zcGVjdG9ySWQsXG4gICAgICBub2RlSWQ6IChpbnNwZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3BlY3Rvci5zZWxlY3RlZE5vZGVJZCkgfHwgXCJcIixcbiAgICAgIHN0YXRlOiBudWxsXG4gICAgfTtcbiAgICBjb25zdCBjdHggPSB7XG4gICAgICBjdXJyZW50VGFiOiBgY3VzdG9tLWluc3BlY3Rvcjoke2luc3BlY3RvcklkfWBcbiAgICB9O1xuICAgIGlmIChfcGF5bG9hZC5ub2RlSWQpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGhvb2tzMi5jYWxsSG9va1dpdGgoYXN5bmMgKGNhbGxiYWNrcykgPT4ge1xuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNhbGxiYWNrcy5tYXAoKGNiKSA9PiBjYihfcGF5bG9hZCwgY3R4KSkpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgXCJnZXRJbnNwZWN0b3JTdGF0ZVwiIC8qIEdFVF9JTlNQRUNUT1JfU1RBVEUgKi8pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGhvb2tzMi5jYWxsSG9va1dpdGgoYXN5bmMgKGNhbGxiYWNrcykgPT4ge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tzLm1hcCgoY2IpID0+IGNiKHtcbiAgICAgICAgaW5zcGVjdG9ySWQsXG4gICAgICAgIG5vZGVJZDogX3BheWxvYWQubm9kZUlkLFxuICAgICAgICBzdGF0ZTogX3BheWxvYWQuc3RhdGVcbiAgICAgIH0pKSk7XG4gICAgfSwgXCJzZW5kSW5zcGVjdG9yU3RhdGVUb0NsaWVudFwiIC8qIFNFTkRfSU5TUEVDVE9SX1NUQVRFX1RPX0NMSUVOVCAqLyk7XG4gIH0sIDEyMCk7XG4gIGhvb2tzMi5ob29rKFwic2VuZEluc3BlY3RvclN0YXRlXCIgLyogU0VORF9JTlNQRUNUT1JfU1RBVEUgKi8sIGRlYm91bmNlU2VuZEluc3BlY3RvclN0YXRlKTtcbiAgaG9va3MyLmhvb2soXCJjdXN0b21JbnNwZWN0b3JTZWxlY3ROb2RlXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUl9TRUxFQ1RfTk9ERSAqLywgKHsgaW5zcGVjdG9ySWQsIG5vZGVJZCwgcGx1Z2luIH0pID0+IHtcbiAgICBjb25zdCBpbnNwZWN0b3IgPSBnZXRJbnNwZWN0b3IoaW5zcGVjdG9ySWQsIHBsdWdpbi5kZXNjcmlwdG9yLmFwcCk7XG4gICAgaWYgKCFpbnNwZWN0b3IpXG4gICAgICByZXR1cm47XG4gICAgaW5zcGVjdG9yLnNlbGVjdGVkTm9kZUlkID0gbm9kZUlkO1xuICB9KTtcbiAgaG9va3MyLmhvb2soXCJ0aW1lbGluZUxheWVyQWRkZWRcIiAvKiBUSU1FTElORV9MQVlFUl9BRERFRCAqLywgKHsgb3B0aW9ucywgcGx1Z2luIH0pID0+IHtcbiAgICBhZGRUaW1lbGluZUxheWVyKG9wdGlvbnMsIHBsdWdpbi5kZXNjcmlwdG9yKTtcbiAgfSk7XG4gIGhvb2tzMi5ob29rKFwidGltZWxpbmVFdmVudEFkZGVkXCIgLyogVElNRUxJTkVfRVZFTlRfQURERUQgKi8sICh7IG9wdGlvbnMsIHBsdWdpbiB9KSA9PiB7XG4gICAgdmFyIF9hMjU7XG4gICAgY29uc3QgaW50ZXJuYWxMYXllcklkcyA9IFtcInBlcmZvcm1hbmNlXCIsIFwiY29tcG9uZW50LWV2ZW50XCIsIFwia2V5Ym9hcmRcIiwgXCJtb3VzZVwiXTtcbiAgICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkIHx8ICEoKF9hMjUgPSBkZXZ0b29sc1N0YXRlLnRpbWVsaW5lTGF5ZXJzU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1W3BsdWdpbi5kZXNjcmlwdG9yLmlkXSkgJiYgIWludGVybmFsTGF5ZXJJZHMuaW5jbHVkZXMob3B0aW9ucy5sYXllcklkKSlcbiAgICAgIHJldHVybjtcbiAgICBob29rczIuY2FsbEhvb2tXaXRoKGFzeW5jIChjYWxsYmFja3MpID0+IHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNhbGxiYWNrcy5tYXAoKGNiKSA9PiBjYihvcHRpb25zKSkpO1xuICAgIH0sIFwic2VuZFRpbWVsaW5lRXZlbnRUb0NsaWVudFwiIC8qIFNFTkRfVElNRUxJTkVfRVZFTlRfVE9fQ0xJRU5UICovKTtcbiAgfSk7XG4gIGhvb2tzMi5ob29rKFwiZ2V0Q29tcG9uZW50SW5zdGFuY2VzXCIgLyogR0VUX0NPTVBPTkVOVF9JTlNUQU5DRVMgKi8sIGFzeW5jICh7IGFwcCB9KSA9PiB7XG4gICAgY29uc3QgYXBwUmVjb3JkID0gYXBwLl9fVlVFX0RFVlRPT0xTX05FWFRfQVBQX1JFQ09SRF9fO1xuICAgIGlmICghYXBwUmVjb3JkKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYXBwSWQgPSBhcHBSZWNvcmQuaWQudG9TdHJpbmcoKTtcbiAgICBjb25zdCBpbnN0YW5jZXMgPSBbLi4uYXBwUmVjb3JkLmluc3RhbmNlTWFwXS5maWx0ZXIoKFtrZXldKSA9PiBrZXkuc3BsaXQoXCI6XCIpWzBdID09PSBhcHBJZCkubWFwKChbLCBpbnN0YW5jZV0pID0+IGluc3RhbmNlKTtcbiAgICByZXR1cm4gaW5zdGFuY2VzO1xuICB9KTtcbiAgaG9va3MyLmhvb2soXCJnZXRDb21wb25lbnRCb3VuZHNcIiAvKiBHRVRfQ09NUE9ORU5UX0JPVU5EUyAqLywgYXN5bmMgKHsgaW5zdGFuY2UgfSkgPT4ge1xuICAgIGNvbnN0IGJvdW5kcyA9IGdldENvbXBvbmVudEJvdW5kaW5nUmVjdChpbnN0YW5jZSk7XG4gICAgcmV0dXJuIGJvdW5kcztcbiAgfSk7XG4gIGhvb2tzMi5ob29rKFwiZ2V0Q29tcG9uZW50TmFtZVwiIC8qIEdFVF9DT01QT05FTlRfTkFNRSAqLywgKHsgaW5zdGFuY2UgfSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UpO1xuICAgIHJldHVybiBuYW1lO1xuICB9KTtcbiAgaG9va3MyLmhvb2soXCJjb21wb25lbnRIaWdobGlnaHRcIiAvKiBDT01QT05FTlRfSElHSExJR0hUICovLCAoeyB1aWQgfSkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gYWN0aXZlQXBwUmVjb3JkLnZhbHVlLmluc3RhbmNlTWFwLmdldCh1aWQpO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgaGlnaGxpZ2h0KGluc3RhbmNlKTtcbiAgICB9XG4gIH0pO1xuICBob29rczIuaG9vayhcImNvbXBvbmVudFVuaGlnaGxpZ2h0XCIgLyogQ09NUE9ORU5UX1VOSElHSExJR0hUICovLCAoKSA9PiB7XG4gICAgdW5oaWdobGlnaHQoKTtcbiAgfSk7XG4gIHJldHVybiBob29rczI7XG59XG5cbi8vIHNyYy9jdHgvc3RhdGUudHNcbnZhciBfYTQsIF9iNDtcbihfYjQgPSAoX2E0ID0gZ2xvYmFsKS5fX1ZVRV9ERVZUT09MU19LSVRfQVBQX1JFQ09SRFNfXykgIT0gbnVsbCA/IF9iNCA6IF9hNC5fX1ZVRV9ERVZUT09MU19LSVRfQVBQX1JFQ09SRFNfXyA9IFtdO1xudmFyIF9hNSwgX2I1O1xuKF9iNSA9IChfYTUgPSBnbG9iYWwpLl9fVlVFX0RFVlRPT0xTX0tJVF9BQ1RJVkVfQVBQX1JFQ09SRF9fKSAhPSBudWxsID8gX2I1IDogX2E1Ll9fVlVFX0RFVlRPT0xTX0tJVF9BQ1RJVkVfQVBQX1JFQ09SRF9fID0ge307XG52YXIgX2E2LCBfYjY7XG4oX2I2ID0gKF9hNiA9IGdsb2JhbCkuX19WVUVfREVWVE9PTFNfS0lUX0FDVElWRV9BUFBfUkVDT1JEX0lEX18pICE9IG51bGwgPyBfYjYgOiBfYTYuX19WVUVfREVWVE9PTFNfS0lUX0FDVElWRV9BUFBfUkVDT1JEX0lEX18gPSBcIlwiO1xudmFyIF9hNywgX2I3O1xuKF9iNyA9IChfYTcgPSBnbG9iYWwpLl9fVlVFX0RFVlRPT0xTX0tJVF9DVVNUT01fVEFCU19fKSAhPSBudWxsID8gX2I3IDogX2E3Ll9fVlVFX0RFVlRPT0xTX0tJVF9DVVNUT01fVEFCU19fID0gW107XG52YXIgX2E4LCBfYjg7XG4oX2I4ID0gKF9hOCA9IGdsb2JhbCkuX19WVUVfREVWVE9PTFNfS0lUX0NVU1RPTV9DT01NQU5EU19fKSAhPSBudWxsID8gX2I4IDogX2E4Ll9fVlVFX0RFVlRPT0xTX0tJVF9DVVNUT01fQ09NTUFORFNfXyA9IFtdO1xudmFyIFNUQVRFX0tFWSA9IFwiX19WVUVfREVWVE9PTFNfS0lUX0dMT0JBTF9TVEFURV9fXCI7XG5mdW5jdGlvbiBpbml0U3RhdGVGYWN0b3J5KCkge1xuICByZXR1cm4ge1xuICAgIGNvbm5lY3RlZDogZmFsc2UsXG4gICAgY2xpZW50Q29ubmVjdGVkOiBmYWxzZSxcbiAgICB2aXRlUGx1Z2luRGV0ZWN0ZWQ6IHRydWUsXG4gICAgYXBwUmVjb3JkczogW10sXG4gICAgYWN0aXZlQXBwUmVjb3JkSWQ6IFwiXCIsXG4gICAgdGFiczogW10sXG4gICAgY29tbWFuZHM6IFtdLFxuICAgIGhpZ2hQZXJmTW9kZUVuYWJsZWQ6IHRydWUsXG4gICAgZGV2dG9vbHNDbGllbnREZXRlY3RlZDoge30sXG4gICAgcGVyZlVuaXF1ZUdyb3VwSWQ6IDAsXG4gICAgdGltZWxpbmVMYXllcnNTdGF0ZTogZ2V0VGltZWxpbmVMYXllcnNTdGF0ZUZyb21TdG9yYWdlKClcbiAgfTtcbn1cbnZhciBfYTksIF9iOTtcbihfYjkgPSAoX2E5ID0gZ2xvYmFsKVtTVEFURV9LRVldKSAhPSBudWxsID8gX2I5IDogX2E5W1NUQVRFX0tFWV0gPSBpbml0U3RhdGVGYWN0b3J5KCk7XG52YXIgY2FsbFN0YXRlVXBkYXRlZEhvb2sgPSBkZWJvdW5jZTMoKHN0YXRlKSA9PiB7XG4gIGRldnRvb2xzQ29udGV4dC5ob29rcy5jYWxsSG9vayhcImRldnRvb2xzU3RhdGVVcGRhdGVkXCIgLyogREVWVE9PTFNfU1RBVEVfVVBEQVRFRCAqLywgeyBzdGF0ZSB9KTtcbn0pO1xudmFyIGNhbGxDb25uZWN0ZWRVcGRhdGVkSG9vayA9IGRlYm91bmNlMygoc3RhdGUsIG9sZFN0YXRlKSA9PiB7XG4gIGRldnRvb2xzQ29udGV4dC5ob29rcy5jYWxsSG9vayhcImRldnRvb2xzQ29ubmVjdGVkVXBkYXRlZFwiIC8qIERFVlRPT0xTX0NPTk5FQ1RFRF9VUERBVEVEICovLCB7IHN0YXRlLCBvbGRTdGF0ZSB9KTtcbn0pO1xudmFyIGRldnRvb2xzQXBwUmVjb3JkcyA9IG5ldyBQcm94eShnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0FQUF9SRUNPUkRTX18sIHtcbiAgZ2V0KF90YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgaWYgKHByb3AgPT09IFwidmFsdWVcIilcbiAgICAgIHJldHVybiBnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0FQUF9SRUNPUkRTX187XG4gICAgcmV0dXJuIGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQVBQX1JFQ09SRFNfX1twcm9wXTtcbiAgfVxufSk7XG52YXIgYWRkRGV2VG9vbHNBcHBSZWNvcmQgPSAoYXBwKSA9PiB7XG4gIGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQVBQX1JFQ09SRFNfXyA9IFtcbiAgICAuLi5nbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0FQUF9SRUNPUkRTX18sXG4gICAgYXBwXG4gIF07XG59O1xudmFyIHJlbW92ZURldlRvb2xzQXBwUmVjb3JkID0gKGFwcCkgPT4ge1xuICBnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0FQUF9SRUNPUkRTX18gPSBkZXZ0b29sc0FwcFJlY29yZHMudmFsdWUuZmlsdGVyKChyZWNvcmQpID0+IHJlY29yZC5hcHAgIT09IGFwcCk7XG59O1xudmFyIGFjdGl2ZUFwcFJlY29yZCA9IG5ldyBQcm94eShnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0FDVElWRV9BUFBfUkVDT1JEX18sIHtcbiAgZ2V0KF90YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgaWYgKHByb3AgPT09IFwidmFsdWVcIilcbiAgICAgIHJldHVybiBnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0FDVElWRV9BUFBfUkVDT1JEX187XG4gICAgZWxzZSBpZiAocHJvcCA9PT0gXCJpZFwiKVxuICAgICAgcmV0dXJuIGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQUNUSVZFX0FQUF9SRUNPUkRfSURfXztcbiAgICByZXR1cm4gZ2xvYmFsLl9fVlVFX0RFVlRPT0xTX0tJVF9BQ1RJVkVfQVBQX1JFQ09SRF9fW3Byb3BdO1xuICB9XG59KTtcbmZ1bmN0aW9uIHVwZGF0ZUFsbFN0YXRlcygpIHtcbiAgY2FsbFN0YXRlVXBkYXRlZEhvb2soe1xuICAgIC4uLmdsb2JhbFtTVEFURV9LRVldLFxuICAgIGFwcFJlY29yZHM6IGRldnRvb2xzQXBwUmVjb3Jkcy52YWx1ZSxcbiAgICBhY3RpdmVBcHBSZWNvcmRJZDogYWN0aXZlQXBwUmVjb3JkLmlkLFxuICAgIHRhYnM6IGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQ1VTVE9NX1RBQlNfXyxcbiAgICBjb21tYW5kczogZ2xvYmFsLl9fVlVFX0RFVlRPT0xTX0tJVF9DVVNUT01fQ09NTUFORFNfX1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUFwcFJlY29yZChhcHApIHtcbiAgZ2xvYmFsLl9fVlVFX0RFVlRPT0xTX0tJVF9BQ1RJVkVfQVBQX1JFQ09SRF9fID0gYXBwO1xuICB1cGRhdGVBbGxTdGF0ZXMoKTtcbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUFwcFJlY29yZElkKGlkKSB7XG4gIGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQUNUSVZFX0FQUF9SRUNPUkRfSURfXyA9IGlkO1xuICB1cGRhdGVBbGxTdGF0ZXMoKTtcbn1cbnZhciBkZXZ0b29sc1N0YXRlID0gbmV3IFByb3h5KGdsb2JhbFtTVEFURV9LRVldLCB7XG4gIGdldCh0YXJnZXQyMiwgcHJvcGVydHkpIHtcbiAgICBpZiAocHJvcGVydHkgPT09IFwiYXBwUmVjb3Jkc1wiKSB7XG4gICAgICByZXR1cm4gZGV2dG9vbHNBcHBSZWNvcmRzO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkgPT09IFwiYWN0aXZlQXBwUmVjb3JkSWRcIikge1xuICAgICAgcmV0dXJuIGFjdGl2ZUFwcFJlY29yZC5pZDtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBcInRhYnNcIikge1xuICAgICAgcmV0dXJuIGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQ1VTVE9NX1RBQlNfXztcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBcImNvbW1hbmRzXCIpIHtcbiAgICAgIHJldHVybiBnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0NVU1RPTV9DT01NQU5EU19fO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsW1NUQVRFX0tFWV1bcHJvcGVydHldO1xuICB9LFxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQyMiwgcHJvcGVydHkpIHtcbiAgICBkZWxldGUgdGFyZ2V0MjJbcHJvcGVydHldO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBzZXQodGFyZ2V0MjIsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIGNvbnN0IG9sZFN0YXRlID0geyAuLi5nbG9iYWxbU1RBVEVfS0VZXSB9O1xuICAgIHRhcmdldDIyW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGdsb2JhbFtTVEFURV9LRVldW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbmZ1bmN0aW9uIHJlc2V0RGV2VG9vbHNTdGF0ZSgpIHtcbiAgT2JqZWN0LmFzc2lnbihnbG9iYWxbU1RBVEVfS0VZXSwgaW5pdFN0YXRlRmFjdG9yeSgpKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZURldlRvb2xzU3RhdGUoc3RhdGUpIHtcbiAgY29uc3Qgb2xkU3RhdGUgPSB7XG4gICAgLi4uZ2xvYmFsW1NUQVRFX0tFWV0sXG4gICAgYXBwUmVjb3JkczogZGV2dG9vbHNBcHBSZWNvcmRzLnZhbHVlLFxuICAgIGFjdGl2ZUFwcFJlY29yZElkOiBhY3RpdmVBcHBSZWNvcmQuaWRcbiAgfTtcbiAgaWYgKG9sZFN0YXRlLmNvbm5lY3RlZCAhPT0gc3RhdGUuY29ubmVjdGVkICYmIHN0YXRlLmNvbm5lY3RlZCB8fCBvbGRTdGF0ZS5jbGllbnRDb25uZWN0ZWQgIT09IHN0YXRlLmNsaWVudENvbm5lY3RlZCAmJiBzdGF0ZS5jbGllbnRDb25uZWN0ZWQpIHtcbiAgICBjYWxsQ29ubmVjdGVkVXBkYXRlZEhvb2soZ2xvYmFsW1NUQVRFX0tFWV0sIG9sZFN0YXRlKTtcbiAgfVxuICBPYmplY3QuYXNzaWduKGdsb2JhbFtTVEFURV9LRVldLCBzdGF0ZSk7XG4gIHVwZGF0ZUFsbFN0YXRlcygpO1xufVxuZnVuY3Rpb24gb25EZXZUb29sc0Nvbm5lY3RlZChmbikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoZGV2dG9vbHNTdGF0ZS5jb25uZWN0ZWQpIHtcbiAgICAgIGZuKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICAgIGRldnRvb2xzQ29udGV4dC5ob29rcy5ob29rKFwiZGV2dG9vbHNDb25uZWN0ZWRVcGRhdGVkXCIgLyogREVWVE9PTFNfQ09OTkVDVEVEX1VQREFURUQgKi8sICh7IHN0YXRlIH0pID0+IHtcbiAgICAgIGlmIChzdGF0ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbnZhciByZXNvbHZlSWNvbiA9IChpY29uKSA9PiB7XG4gIGlmICghaWNvbilcbiAgICByZXR1cm47XG4gIGlmIChpY29uLnN0YXJ0c1dpdGgoXCJiYXNlbGluZS1cIikpIHtcbiAgICByZXR1cm4gYGN1c3RvbS1pYy0ke2ljb259YDtcbiAgfVxuICBpZiAoaWNvbi5zdGFydHNXaXRoKFwiaS1cIikgfHwgaXNVcmxTdHJpbmcoaWNvbikpXG4gICAgcmV0dXJuIGljb247XG4gIHJldHVybiBgY3VzdG9tLWljLWJhc2VsaW5lLSR7aWNvbn1gO1xufTtcbmZ1bmN0aW9uIGFkZEN1c3RvbVRhYih0YWIpIHtcbiAgY29uc3QgdGFicyA9IGdsb2JhbC5fX1ZVRV9ERVZUT09MU19LSVRfQ1VTVE9NX1RBQlNfXztcbiAgaWYgKHRhYnMuc29tZSgodCkgPT4gdC5uYW1lID09PSB0YWIubmFtZSkpXG4gICAgcmV0dXJuO1xuICB0YWJzLnB1c2goe1xuICAgIC4uLnRhYixcbiAgICBpY29uOiByZXNvbHZlSWNvbih0YWIuaWNvbilcbiAgfSk7XG4gIHVwZGF0ZUFsbFN0YXRlcygpO1xufVxuZnVuY3Rpb24gYWRkQ3VzdG9tQ29tbWFuZChhY3Rpb24pIHtcbiAgY29uc3QgY29tbWFuZHMgPSBnbG9iYWwuX19WVUVfREVWVE9PTFNfS0lUX0NVU1RPTV9DT01NQU5EU19fO1xuICBpZiAoY29tbWFuZHMuc29tZSgodCkgPT4gdC5pZCA9PT0gYWN0aW9uLmlkKSlcbiAgICByZXR1cm47XG4gIGNvbW1hbmRzLnB1c2goe1xuICAgIC4uLmFjdGlvbixcbiAgICBpY29uOiByZXNvbHZlSWNvbihhY3Rpb24uaWNvbiksXG4gICAgY2hpbGRyZW46IGFjdGlvbi5jaGlsZHJlbiA/IGFjdGlvbi5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiAoe1xuICAgICAgLi4uY2hpbGQsXG4gICAgICBpY29uOiByZXNvbHZlSWNvbihjaGlsZC5pY29uKVxuICAgIH0pKSA6IHZvaWQgMFxuICB9KTtcbiAgdXBkYXRlQWxsU3RhdGVzKCk7XG59XG5mdW5jdGlvbiByZW1vdmVDdXN0b21Db21tYW5kKGFjdGlvbklkKSB7XG4gIGNvbnN0IGNvbW1hbmRzID0gZ2xvYmFsLl9fVlVFX0RFVlRPT0xTX0tJVF9DVVNUT01fQ09NTUFORFNfXztcbiAgY29uc3QgaW5kZXggPSBjb21tYW5kcy5maW5kSW5kZXgoKHQpID0+IHQuaWQgPT09IGFjdGlvbklkKTtcbiAgaWYgKGluZGV4ID09PSAtMSlcbiAgICByZXR1cm47XG4gIGNvbW1hbmRzLnNwbGljZShpbmRleCwgMSk7XG4gIHVwZGF0ZUFsbFN0YXRlcygpO1xufVxuZnVuY3Rpb24gdG9nZ2xlQ2xpZW50Q29ubmVjdGVkKHN0YXRlKSB7XG4gIHVwZGF0ZURldlRvb2xzU3RhdGUoeyBjbGllbnRDb25uZWN0ZWQ6IHN0YXRlIH0pO1xufVxuXG4vLyBzcmMvY29yZS9vcGVuLWluLWVkaXRvci9pbmRleC50c1xuZnVuY3Rpb24gc2V0T3BlbkluRWRpdG9yQmFzZVVybCh1cmwpIHtcbiAgdGFyZ2V0NS5fX1ZVRV9ERVZUT09MU19PUEVOX0lOX0VESVRPUl9CQVNFX1VSTF9fID0gdXJsO1xufVxuZnVuY3Rpb24gb3BlbkluRWRpdG9yKG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EyNSwgX2IyNSwgX2M7XG4gIGNvbnN0IHsgZmlsZSwgaG9zdCwgYmFzZVVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGxpbmUgPSAwLCBjb2x1bW4gPSAwIH0gPSBvcHRpb25zO1xuICBpZiAoZmlsZSkge1xuICAgIGlmIChob3N0ID09PSBcImNocm9tZS1leHRlbnNpb25cIikge1xuICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKTtcbiAgICAgIGNvbnN0IF9iYXNlVXJsID0gKF9iMjUgPSAoX2EyNSA9IHdpbmRvdy5WVUVfREVWVE9PTFNfQ09ORklHKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5vcGVuSW5FZGl0b3JIb3N0KSAhPSBudWxsID8gX2IyNSA6IFwiL1wiO1xuICAgICAgZmV0Y2goYCR7X2Jhc2VVcmx9X19vcGVuLWluLWVkaXRvcj9maWxlPSR7ZW5jb2RlVVJJKGZpbGUpfWApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBtc2cgPSBgT3BlbmluZyBjb21wb25lbnQgJHtmaWxlTmFtZX0gZmFpbGVkYDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgJWMke21zZ31gLCBcImNvbG9yOnJlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkZXZ0b29sc1N0YXRlLnZpdGVQbHVnaW5EZXRlY3RlZCkge1xuICAgICAgY29uc3QgX2Jhc2VVcmwgPSAoX2MgPSB0YXJnZXQ1Ll9fVlVFX0RFVlRPT0xTX09QRU5fSU5fRURJVE9SX0JBU0VfVVJMX18pICE9IG51bGwgPyBfYyA6IGJhc2VVcmw7XG4gICAgICB0YXJnZXQ1Ll9fVlVFX0lOU1BFQ1RPUl9fLm9wZW5JbkVkaXRvcihfYmFzZVVybCwgZmlsZSwgbGluZSwgY29sdW1uKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL2NvcmUvcGx1Z2luL2luZGV4LnRzXG5pbml0X2VzbV9zaGltcygpO1xuaW1wb3J0IHsgdGFyZ2V0IGFzIHRhcmdldDggfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcblxuLy8gc3JjL2FwaS9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2FwaS92Ni9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2NvcmUvcGx1Z2luL3BsdWdpbi1zZXR0aW5ncy50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2N0eC9wbHVnaW4udHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0NiB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xudmFyIF9hMTAsIF9iMTA7XG4oX2IxMCA9IChfYTEwID0gdGFyZ2V0NikuX19WVUVfREVWVE9PTFNfS0lUX1BMVUdJTl9CVUZGRVJfXykgIT0gbnVsbCA/IF9iMTAgOiBfYTEwLl9fVlVFX0RFVlRPT0xTX0tJVF9QTFVHSU5fQlVGRkVSX18gPSBbXTtcbnZhciBkZXZ0b29sc1BsdWdpbkJ1ZmZlciA9IG5ldyBQcm94eSh0YXJnZXQ2Ll9fVlVFX0RFVlRPT0xTX0tJVF9QTFVHSU5fQlVGRkVSX18sIHtcbiAgZ2V0KHRhcmdldDIyLCBwcm9wLCByZWNlaXZlcikge1xuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQyMiwgcHJvcCwgcmVjZWl2ZXIpO1xuICB9XG59KTtcbmZ1bmN0aW9uIGFkZERldlRvb2xzUGx1Z2luVG9CdWZmZXIocGx1Z2luRGVzY3JpcHRvciwgc2V0dXBGbikge1xuICBkZXZ0b29sc1BsdWdpbkJ1ZmZlci5wdXNoKFtwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuXSk7XG59XG5cbi8vIHNyYy9jb3JlL3BsdWdpbi9wbHVnaW4tc2V0dGluZ3MudHNcbmZ1bmN0aW9uIF9nZXRTZXR0aW5ncyhzZXR0aW5ncykge1xuICBjb25zdCBfc2V0dGluZ3MgPSB7fTtcbiAgT2JqZWN0LmtleXMoc2V0dGluZ3MpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIF9zZXR0aW5nc1trZXldID0gc2V0dGluZ3Nba2V5XS5kZWZhdWx0VmFsdWU7XG4gIH0pO1xuICByZXR1cm4gX3NldHRpbmdzO1xufVxuZnVuY3Rpb24gZ2V0UGx1Z2luTG9jYWxLZXkocGx1Z2luSWQpIHtcbiAgcmV0dXJuIGBfX1ZVRV9ERVZUT09MU19ORVhUX1BMVUdJTl9TRVRUSU5HU19fJHtwbHVnaW5JZH1fX2A7XG59XG5mdW5jdGlvbiBnZXRQbHVnaW5TZXR0aW5nc09wdGlvbnMocGx1Z2luSWQpIHtcbiAgdmFyIF9hMjUsIF9iMjUsIF9jO1xuICBjb25zdCBpdGVtID0gKF9iMjUgPSAoX2EyNSA9IGRldnRvb2xzUGx1Z2luQnVmZmVyLmZpbmQoKGl0ZW0yKSA9PiB7XG4gICAgdmFyIF9hMjY7XG4gICAgcmV0dXJuIGl0ZW0yWzBdLmlkID09PSBwbHVnaW5JZCAmJiAhISgoX2EyNiA9IGl0ZW0yWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNi5zZXR0aW5ncyk7XG4gIH0pKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNVswXSkgIT0gbnVsbCA/IF9iMjUgOiBudWxsO1xuICByZXR1cm4gKF9jID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5zZXR0aW5ncykgIT0gbnVsbCA/IF9jIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFBsdWdpblNldHRpbmdzKHBsdWdpbklkLCBmYWxsYmFja1ZhbHVlKSB7XG4gIHZhciBfYTI1LCBfYjI1LCBfYztcbiAgY29uc3QgbG9jYWxLZXkgPSBnZXRQbHVnaW5Mb2NhbEtleShwbHVnaW5JZCk7XG4gIGlmIChsb2NhbEtleSkge1xuICAgIGNvbnN0IGxvY2FsU2V0dGluZ3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbEtleSk7XG4gICAgaWYgKGxvY2FsU2V0dGluZ3MpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU2V0dGluZ3MpO1xuICAgIH1cbiAgfVxuICBpZiAocGx1Z2luSWQpIHtcbiAgICBjb25zdCBpdGVtID0gKF9iMjUgPSAoX2EyNSA9IGRldnRvb2xzUGx1Z2luQnVmZmVyLmZpbmQoKGl0ZW0yKSA9PiBpdGVtMlswXS5pZCA9PT0gcGx1Z2luSWQpKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNVswXSkgIT0gbnVsbCA/IF9iMjUgOiBudWxsO1xuICAgIHJldHVybiBfZ2V0U2V0dGluZ3MoKF9jID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5zZXR0aW5ncykgIT0gbnVsbCA/IF9jIDoge30pO1xuICB9XG4gIHJldHVybiBfZ2V0U2V0dGluZ3MoZmFsbGJhY2tWYWx1ZSk7XG59XG5mdW5jdGlvbiBpbml0UGx1Z2luU2V0dGluZ3MocGx1Z2luSWQsIHNldHRpbmdzKSB7XG4gIGNvbnN0IGxvY2FsS2V5ID0gZ2V0UGx1Z2luTG9jYWxLZXkocGx1Z2luSWQpO1xuICBjb25zdCBsb2NhbFNldHRpbmdzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxLZXkpO1xuICBpZiAoIWxvY2FsU2V0dGluZ3MpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbEtleSwgSlNPTi5zdHJpbmdpZnkoX2dldFNldHRpbmdzKHNldHRpbmdzKSkpO1xuICB9XG59XG5mdW5jdGlvbiBzZXRQbHVnaW5TZXR0aW5ncyhwbHVnaW5JZCwga2V5LCB2YWx1ZSkge1xuICBjb25zdCBsb2NhbEtleSA9IGdldFBsdWdpbkxvY2FsS2V5KHBsdWdpbklkKTtcbiAgY29uc3QgbG9jYWxTZXR0aW5ncyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsS2V5KTtcbiAgY29uc3QgcGFyc2VkTG9jYWxTZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTZXR0aW5ncyB8fCBcInt9XCIpO1xuICBjb25zdCB1cGRhdGVkID0ge1xuICAgIC4uLnBhcnNlZExvY2FsU2V0dGluZ3MsXG4gICAgW2tleV06IHZhbHVlXG4gIH07XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsS2V5LCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSk7XG4gIGRldnRvb2xzQ29udGV4dC5ob29rcy5jYWxsSG9va1dpdGgoKGNhbGxiYWNrcykgPT4ge1xuICAgIGNhbGxiYWNrcy5mb3JFYWNoKChjYikgPT4gY2Ioe1xuICAgICAgcGx1Z2luSWQsXG4gICAgICBrZXksXG4gICAgICBvbGRWYWx1ZTogcGFyc2VkTG9jYWxTZXR0aW5nc1trZXldLFxuICAgICAgbmV3VmFsdWU6IHZhbHVlLFxuICAgICAgc2V0dGluZ3M6IHVwZGF0ZWRcbiAgICB9KSk7XG4gIH0sIFwic2V0UGx1Z2luU2V0dGluZ3NcIiAvKiBTRVRfUExVR0lOX1NFVFRJTkdTICovKTtcbn1cblxuLy8gc3JjL2hvb2svaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0NyB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuaW1wb3J0IHsgY3JlYXRlSG9va3MgYXMgY3JlYXRlSG9va3MyIH0gZnJvbSBcImhvb2thYmxlXCI7XG5cbi8vIHNyYy90eXBlcy9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL3R5cGVzL2FwcC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL3R5cGVzL2NvbW1hbmQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy90eXBlcy9jb21wb25lbnQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy90eXBlcy9ob29rLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvdHlwZXMvaW5zcGVjdG9yLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvdHlwZXMvcGx1Z2luLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvdHlwZXMvcm91dGVyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvdHlwZXMvdGFiLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvdHlwZXMvdGltZWxpbmUudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9ob29rL2luZGV4LnRzXG52YXIgX2ExMSwgX2IxMTtcbnZhciBkZXZ0b29sc0hvb2tzID0gKF9iMTEgPSAoX2ExMSA9IHRhcmdldDcpLl9fVlVFX0RFVlRPT0xTX0hPT0spICE9IG51bGwgPyBfYjExIDogX2ExMS5fX1ZVRV9ERVZUT09MU19IT09LID0gY3JlYXRlSG9va3MyKCk7XG52YXIgb24gPSB7XG4gIHZ1ZUFwcEluaXQoZm4pIHtcbiAgICBkZXZ0b29sc0hvb2tzLmhvb2soXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBmbik7XG4gIH0sXG4gIHZ1ZUFwcFVubW91bnQoZm4pIHtcbiAgICBkZXZ0b29sc0hvb2tzLmhvb2soXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBmbik7XG4gIH0sXG4gIHZ1ZUFwcENvbm5lY3RlZChmbikge1xuICAgIGRldnRvb2xzSG9va3MuaG9vayhcImFwcDpjb25uZWN0ZWRcIiAvKiBBUFBfQ09OTkVDVEVEICovLCBmbik7XG4gIH0sXG4gIGNvbXBvbmVudEFkZGVkKGZuKSB7XG4gICAgcmV0dXJuIGRldnRvb2xzSG9va3MuaG9vayhcImNvbXBvbmVudDphZGRlZFwiIC8qIENPTVBPTkVOVF9BRERFRCAqLywgZm4pO1xuICB9LFxuICBjb21wb25lbnRFbWl0KGZuKSB7XG4gICAgcmV0dXJuIGRldnRvb2xzSG9va3MuaG9vayhcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sIGZuKTtcbiAgfSxcbiAgY29tcG9uZW50VXBkYXRlZChmbikge1xuICAgIHJldHVybiBkZXZ0b29sc0hvb2tzLmhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovLCBmbik7XG4gIH0sXG4gIGNvbXBvbmVudFJlbW92ZWQoZm4pIHtcbiAgICByZXR1cm4gZGV2dG9vbHNIb29rcy5ob29rKFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqLywgZm4pO1xuICB9LFxuICBzZXR1cERldnRvb2xzUGx1Z2luKGZuKSB7XG4gICAgZGV2dG9vbHNIb29rcy5ob29rKFwiZGV2dG9vbHMtcGx1Z2luOnNldHVwXCIgLyogU0VUVVBfREVWVE9PTFNfUExVR0lOICovLCBmbik7XG4gIH0sXG4gIHBlcmZTdGFydChmbikge1xuICAgIHJldHVybiBkZXZ0b29sc0hvb2tzLmhvb2soXCJwZXJmOnN0YXJ0XCIgLyogUEVSRk9STUFOQ0VfU1RBUlQgKi8sIGZuKTtcbiAgfSxcbiAgcGVyZkVuZChmbikge1xuICAgIHJldHVybiBkZXZ0b29sc0hvb2tzLmhvb2soXCJwZXJmOmVuZFwiIC8qIFBFUkZPUk1BTkNFX0VORCAqLywgZm4pO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlRGV2VG9vbHNIb29rKCkge1xuICByZXR1cm4ge1xuICAgIGlkOiBcInZ1ZS1kZXZ0b29scy1uZXh0XCIsXG4gICAgZGV2dG9vbHNWZXJzaW9uOiBcIjcuMFwiLFxuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIGFwcFJlY29yZHM6IFtdLFxuICAgIGFwcHM6IFtdLFxuICAgIGV2ZW50czogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBvbihldmVudCwgZm4pIHtcbiAgICAgIHZhciBfYTI1O1xuICAgICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnQpKVxuICAgICAgICB0aGlzLmV2ZW50cy5zZXQoZXZlbnQsIFtdKTtcbiAgICAgIChfYTI1ID0gdGhpcy5ldmVudHMuZ2V0KGV2ZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUucHVzaChmbik7XG4gICAgICByZXR1cm4gKCkgPT4gdGhpcy5vZmYoZXZlbnQsIGZuKTtcbiAgICB9LFxuICAgIG9uY2UoZXZlbnQsIGZuKSB7XG4gICAgICBjb25zdCBvbmNlRm4gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICB0aGlzLm9mZihldmVudCwgb25jZUZuKTtcbiAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICB9O1xuICAgICAgdGhpcy5vbihldmVudCwgb25jZUZuKTtcbiAgICAgIHJldHVybiBbZXZlbnQsIG9uY2VGbl07XG4gICAgfSxcbiAgICBvZmYoZXZlbnQsIGZuKSB7XG4gICAgICBpZiAodGhpcy5ldmVudHMuaGFzKGV2ZW50KSkge1xuICAgICAgICBjb25zdCBldmVudENhbGxiYWNrcyA9IHRoaXMuZXZlbnRzLmdldChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnRDYWxsYmFja3MuaW5kZXhPZihmbik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgZXZlbnRDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVtaXQoZXZlbnQsIC4uLnBheWxvYWQpIHtcbiAgICAgIGlmICh0aGlzLmV2ZW50cy5oYXMoZXZlbnQpKVxuICAgICAgICB0aGlzLmV2ZW50cy5nZXQoZXZlbnQpLmZvckVhY2goKGZuKSA9PiBmbiguLi5wYXlsb2FkKSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gc3Vic2NyaWJlRGV2VG9vbHNIb29rKGhvb2syKSB7XG4gIGhvb2syLm9uKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgKGFwcCwgdmVyc2lvbiwgdHlwZXMpID0+IHtcbiAgICB2YXIgX2EyNSwgX2IyNSwgX2M7XG4gICAgaWYgKChfYyA9IChfYjI1ID0gKF9hMjUgPSBhcHAgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcC5faW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYjI1LmRldnRvb2xzKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaGlkZSlcbiAgICAgIHJldHVybjtcbiAgICBkZXZ0b29sc0hvb2tzLmNhbGxIb29rKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB0eXBlcyk7XG4gIH0pO1xuICBob29rMi5vbihcImFwcDp1bm1vdW50XCIgLyogQVBQX1VOTU9VTlQgKi8sIChhcHApID0+IHtcbiAgICBkZXZ0b29sc0hvb2tzLmNhbGxIb29rKFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcbiAgfSk7XG4gIGhvb2syLm9uKFwiY29tcG9uZW50OmFkZGVkXCIgLyogQ09NUE9ORU5UX0FEREVEICovLCBhc3luYyAoYXBwLCB1aWQsIHBhcmVudFVpZCwgY29tcG9uZW50KSA9PiB7XG4gICAgdmFyIF9hMjUsIF9iMjUsIF9jO1xuICAgIGlmICgoKF9jID0gKF9iMjUgPSAoX2EyNSA9IGFwcCA9PSBudWxsID8gdm9pZCAwIDogYXBwLl9pbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUudHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMjUuZGV2dG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5oaWRlKSB8fCBkZXZ0b29sc1N0YXRlLmhpZ2hQZXJmTW9kZUVuYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFhcHAgfHwgdHlwZW9mIHVpZCAhPT0gXCJudW1iZXJcIiAmJiAhdWlkIHx8ICFjb21wb25lbnQpXG4gICAgICByZXR1cm47XG4gICAgZGV2dG9vbHNIb29rcy5jYWxsSG9vayhcImNvbXBvbmVudDphZGRlZFwiIC8qIENPTVBPTkVOVF9BRERFRCAqLywgYXBwLCB1aWQsIHBhcmVudFVpZCwgY29tcG9uZW50KTtcbiAgfSk7XG4gIGhvb2syLm9uKFwiY29tcG9uZW50OnVwZGF0ZWRcIiAvKiBDT01QT05FTlRfVVBEQVRFRCAqLywgKGFwcCwgdWlkLCBwYXJlbnRVaWQsIGNvbXBvbmVudCkgPT4ge1xuICAgIGlmICghYXBwIHx8IHR5cGVvZiB1aWQgIT09IFwibnVtYmVyXCIgJiYgIXVpZCB8fCAhY29tcG9uZW50IHx8IGRldnRvb2xzU3RhdGUuaGlnaFBlcmZNb2RlRW5hYmxlZClcbiAgICAgIHJldHVybjtcbiAgICBkZXZ0b29sc0hvb2tzLmNhbGxIb29rKFwiY29tcG9uZW50OnVwZGF0ZWRcIiAvKiBDT01QT05FTlRfVVBEQVRFRCAqLywgYXBwLCB1aWQsIHBhcmVudFVpZCwgY29tcG9uZW50KTtcbiAgfSk7XG4gIGhvb2syLm9uKFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqLywgYXN5bmMgKGFwcCwgdWlkLCBwYXJlbnRVaWQsIGNvbXBvbmVudCkgPT4ge1xuICAgIGlmICghYXBwIHx8IHR5cGVvZiB1aWQgIT09IFwibnVtYmVyXCIgJiYgIXVpZCB8fCAhY29tcG9uZW50IHx8IGRldnRvb2xzU3RhdGUuaGlnaFBlcmZNb2RlRW5hYmxlZClcbiAgICAgIHJldHVybjtcbiAgICBkZXZ0b29sc0hvb2tzLmNhbGxIb29rKFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqLywgYXBwLCB1aWQsIHBhcmVudFVpZCwgY29tcG9uZW50KTtcbiAgfSk7XG4gIGhvb2syLm9uKFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLywgYXN5bmMgKGFwcCwgaW5zdGFuY2UsIGV2ZW50LCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIWFwcCB8fCAhaW5zdGFuY2UgfHwgZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJjb21wb25lbnQ6ZW1pdFwiIC8qIENPTVBPTkVOVF9FTUlUICovLCBhcHAsIGluc3RhbmNlLCBldmVudCwgcGFyYW1zKTtcbiAgfSk7XG4gIGhvb2syLm9uKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovLCAoYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgaWYgKCFhcHAgfHwgZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJwZXJmOnN0YXJ0XCIgLyogUEVSRk9STUFOQ0VfU1RBUlQgKi8sIGFwcCwgdWlkLCB2bSwgdHlwZSwgdGltZSk7XG4gIH0pO1xuICBob29rMi5vbihcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovLCAoYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgaWYgKCFhcHAgfHwgZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJwZXJmOmVuZFwiIC8qIFBFUkZPUk1BTkNFX0VORCAqLywgYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKTtcbiAgfSk7XG4gIGhvb2syLm9uKFwiZGV2dG9vbHMtcGx1Z2luOnNldHVwXCIgLyogU0VUVVBfREVWVE9PTFNfUExVR0lOICovLCAocGx1Z2luRGVzY3JpcHRvciwgc2V0dXBGbiwgb3B0aW9ucykgPT4ge1xuICAgIGlmICgob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50YXJnZXQpID09PSBcImxlZ2FjeVwiKVxuICAgICAgcmV0dXJuO1xuICAgIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJkZXZ0b29scy1wbHVnaW46c2V0dXBcIiAvKiBTRVRVUF9ERVZUT09MU19QTFVHSU4gKi8sIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICB9KTtcbn1cbnZhciBob29rID0ge1xuICBvbixcbiAgc2V0dXBEZXZUb29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgcmV0dXJuIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJkZXZ0b29scy1wbHVnaW46c2V0dXBcIiAvKiBTRVRVUF9ERVZUT09MU19QTFVHSU4gKi8sIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICB9XG59O1xuXG4vLyBzcmMvYXBpL3Y2L2luZGV4LnRzXG52YXIgRGV2VG9vbHNWNlBsdWdpbkFQSSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoeyBwbHVnaW4sIGN0eCB9KSB7XG4gICAgdGhpcy5ob29rcyA9IGN0eC5ob29rcztcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuICBnZXQgb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGNvbXBvbmVudCBpbnNwZWN0b3JcbiAgICAgIHZpc2l0Q29tcG9uZW50VHJlZTogKGhhbmRsZXIpID0+IHtcbiAgICAgICAgdGhpcy5ob29rcy5ob29rKFwidmlzaXRDb21wb25lbnRUcmVlXCIgLyogVklTSVRfQ09NUE9ORU5UX1RSRUUgKi8sIGhhbmRsZXIpO1xuICAgICAgfSxcbiAgICAgIGluc3BlY3RDb21wb25lbnQ6IChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHRoaXMuaG9va3MuaG9vayhcImluc3BlY3RDb21wb25lbnRcIiAvKiBJTlNQRUNUX0NPTVBPTkVOVCAqLywgaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgZWRpdENvbXBvbmVudFN0YXRlOiAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0aGlzLmhvb2tzLmhvb2soXCJlZGl0Q29tcG9uZW50U3RhdGVcIiAvKiBFRElUX0NPTVBPTkVOVF9TVEFURSAqLywgaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgLy8gY3VzdG9tIGluc3BlY3RvclxuICAgICAgZ2V0SW5zcGVjdG9yVHJlZTogKGhhbmRsZXIpID0+IHtcbiAgICAgICAgdGhpcy5ob29rcy5ob29rKFwiZ2V0SW5zcGVjdG9yVHJlZVwiIC8qIEdFVF9JTlNQRUNUT1JfVFJFRSAqLywgaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgZ2V0SW5zcGVjdG9yU3RhdGU6IChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHRoaXMuaG9va3MuaG9vayhcImdldEluc3BlY3RvclN0YXRlXCIgLyogR0VUX0lOU1BFQ1RPUl9TVEFURSAqLywgaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgZWRpdEluc3BlY3RvclN0YXRlOiAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0aGlzLmhvb2tzLmhvb2soXCJlZGl0SW5zcGVjdG9yU3RhdGVcIiAvKiBFRElUX0lOU1BFQ1RPUl9TVEFURSAqLywgaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgLy8gdGltZWxpbmVcbiAgICAgIGluc3BlY3RUaW1lbGluZUV2ZW50OiAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0aGlzLmhvb2tzLmhvb2soXCJpbnNwZWN0VGltZWxpbmVFdmVudFwiIC8qIElOU1BFQ1RfVElNRUxJTkVfRVZFTlQgKi8sIGhhbmRsZXIpO1xuICAgICAgfSxcbiAgICAgIHRpbWVsaW5lQ2xlYXJlZDogKGhhbmRsZXIpID0+IHtcbiAgICAgICAgdGhpcy5ob29rcy5ob29rKFwidGltZWxpbmVDbGVhcmVkXCIgLyogVElNRUxJTkVfQ0xFQVJFRCAqLywgaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgLy8gc2V0dGluZ3NcbiAgICAgIHNldFBsdWdpblNldHRpbmdzOiAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0aGlzLmhvb2tzLmhvb2soXCJzZXRQbHVnaW5TZXR0aW5nc1wiIC8qIFNFVF9QTFVHSU5fU0VUVElOR1MgKi8sIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLy8gY29tcG9uZW50IGluc3BlY3RvclxuICBub3RpZnlDb21wb25lbnRVcGRhdGUoaW5zdGFuY2UpIHtcbiAgICB2YXIgX2EyNTtcbiAgICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluc3BlY3RvciA9IGdldEFjdGl2ZUluc3BlY3RvcnMoKS5maW5kKChpKSA9PiBpLnBhY2thZ2VOYW1lID09PSB0aGlzLnBsdWdpbi5kZXNjcmlwdG9yLnBhY2thZ2VOYW1lKTtcbiAgICBpZiAoaW5zcGVjdG9yID09IG51bGwgPyB2b2lkIDAgOiBpbnNwZWN0b3IuaWQpIHtcbiAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQuYXBwLFxuICAgICAgICAgIGluc3RhbmNlLnVpZCxcbiAgICAgICAgICAoX2EyNSA9IGluc3RhbmNlLnBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUudWlkLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgIF07XG4gICAgICAgIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovLCAuLi5hcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRldnRvb2xzSG9va3MuY2FsbEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaG9va3MuY2FsbEhvb2soXCJzZW5kSW5zcGVjdG9yU3RhdGVcIiAvKiBTRU5EX0lOU1BFQ1RPUl9TVEFURSAqLywgeyBpbnNwZWN0b3JJZDogaW5zcGVjdG9yLmlkLCBwbHVnaW46IHRoaXMucGx1Z2luIH0pO1xuICAgIH1cbiAgfVxuICAvLyBjdXN0b20gaW5zcGVjdG9yXG4gIGFkZEluc3BlY3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5ob29rcy5jYWxsSG9vayhcImFkZEluc3BlY3RvclwiIC8qIEFERF9JTlNQRUNUT1IgKi8sIHsgaW5zcGVjdG9yOiBvcHRpb25zLCBwbHVnaW46IHRoaXMucGx1Z2luIH0pO1xuICAgIGlmICh0aGlzLnBsdWdpbi5kZXNjcmlwdG9yLnNldHRpbmdzKSB7XG4gICAgICBpbml0UGx1Z2luU2V0dGluZ3Mob3B0aW9ucy5pZCwgdGhpcy5wbHVnaW4uZGVzY3JpcHRvci5zZXR0aW5ncyk7XG4gICAgfVxuICB9XG4gIHNlbmRJbnNwZWN0b3JUcmVlKGluc3BlY3RvcklkKSB7XG4gICAgaWYgKGRldnRvb2xzU3RhdGUuaGlnaFBlcmZNb2RlRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhvb2tzLmNhbGxIb29rKFwic2VuZEluc3BlY3RvclRyZWVcIiAvKiBTRU5EX0lOU1BFQ1RPUl9UUkVFICovLCB7IGluc3BlY3RvcklkLCBwbHVnaW46IHRoaXMucGx1Z2luIH0pO1xuICB9XG4gIHNlbmRJbnNwZWN0b3JTdGF0ZShpbnNwZWN0b3JJZCkge1xuICAgIGlmIChkZXZ0b29sc1N0YXRlLmhpZ2hQZXJmTW9kZUVuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ob29rcy5jYWxsSG9vayhcInNlbmRJbnNwZWN0b3JTdGF0ZVwiIC8qIFNFTkRfSU5TUEVDVE9SX1NUQVRFICovLCB7IGluc3BlY3RvcklkLCBwbHVnaW46IHRoaXMucGx1Z2luIH0pO1xuICB9XG4gIHNlbGVjdEluc3BlY3Rvck5vZGUoaW5zcGVjdG9ySWQsIG5vZGVJZCkge1xuICAgIHRoaXMuaG9va3MuY2FsbEhvb2soXCJjdXN0b21JbnNwZWN0b3JTZWxlY3ROb2RlXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUl9TRUxFQ1RfTk9ERSAqLywgeyBpbnNwZWN0b3JJZCwgbm9kZUlkLCBwbHVnaW46IHRoaXMucGx1Z2luIH0pO1xuICB9XG4gIHZpc2l0Q29tcG9uZW50VHJlZShwYXlsb2FkKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9va3MuY2FsbEhvb2soXCJ2aXNpdENvbXBvbmVudFRyZWVcIiAvKiBWSVNJVF9DT01QT05FTlRfVFJFRSAqLywgcGF5bG9hZCk7XG4gIH1cbiAgLy8gdGltZWxpbmVcbiAgbm93KCkge1xuICAgIGlmIChkZXZ0b29sc1N0YXRlLmhpZ2hQZXJmTW9kZUVuYWJsZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxuICBhZGRUaW1lbGluZUxheWVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLmhvb2tzLmNhbGxIb29rKFwidGltZWxpbmVMYXllckFkZGVkXCIgLyogVElNRUxJTkVfTEFZRVJfQURERUQgKi8sIHsgb3B0aW9ucywgcGx1Z2luOiB0aGlzLnBsdWdpbiB9KTtcbiAgfVxuICBhZGRUaW1lbGluZUV2ZW50KG9wdGlvbnMpIHtcbiAgICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaG9va3MuY2FsbEhvb2soXCJ0aW1lbGluZUV2ZW50QWRkZWRcIiAvKiBUSU1FTElORV9FVkVOVF9BRERFRCAqLywgeyBvcHRpb25zLCBwbHVnaW46IHRoaXMucGx1Z2luIH0pO1xuICB9XG4gIC8vIHNldHRpbmdzXG4gIGdldFNldHRpbmdzKHBsdWdpbklkKSB7XG4gICAgcmV0dXJuIGdldFBsdWdpblNldHRpbmdzKHBsdWdpbklkICE9IG51bGwgPyBwbHVnaW5JZCA6IHRoaXMucGx1Z2luLmRlc2NyaXB0b3IuaWQsIHRoaXMucGx1Z2luLmRlc2NyaXB0b3Iuc2V0dGluZ3MpO1xuICB9XG4gIC8vIHV0aWxpdGllc1xuICBnZXRDb21wb25lbnRJbnN0YW5jZXMoYXBwKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9va3MuY2FsbEhvb2soXCJnZXRDb21wb25lbnRJbnN0YW5jZXNcIiAvKiBHRVRfQ09NUE9ORU5UX0lOU1RBTkNFUyAqLywgeyBhcHAgfSk7XG4gIH1cbiAgZ2V0Q29tcG9uZW50Qm91bmRzKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9va3MuY2FsbEhvb2soXCJnZXRDb21wb25lbnRCb3VuZHNcIiAvKiBHRVRfQ09NUE9ORU5UX0JPVU5EUyAqLywgeyBpbnN0YW5jZSB9KTtcbiAgfVxuICBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9va3MuY2FsbEhvb2soXCJnZXRDb21wb25lbnROYW1lXCIgLyogR0VUX0NPTVBPTkVOVF9OQU1FICovLCB7IGluc3RhbmNlIH0pO1xuICB9XG4gIGhpZ2hsaWdodEVsZW1lbnQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCB1aWQgPSBpbnN0YW5jZS5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fO1xuICAgIHJldHVybiB0aGlzLmhvb2tzLmNhbGxIb29rKFwiY29tcG9uZW50SGlnaGxpZ2h0XCIgLyogQ09NUE9ORU5UX0hJR0hMSUdIVCAqLywgeyB1aWQgfSk7XG4gIH1cbiAgdW5oaWdobGlnaHRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmhvb2tzLmNhbGxIb29rKFwiY29tcG9uZW50VW5oaWdobGlnaHRcIiAvKiBDT01QT05FTlRfVU5ISUdITElHSFQgKi8pO1xuICB9XG59O1xuXG4vLyBzcmMvYXBpL2luZGV4LnRzXG52YXIgRGV2VG9vbHNQbHVnaW5BUEkgPSBEZXZUb29sc1Y2UGx1Z2luQVBJO1xuXG4vLyBzcmMvY29yZS9wbHVnaW4vY29tcG9uZW50cy50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGRlYm91bmNlIGFzIGRlYm91bmNlNCB9IGZyb20gXCJwZXJmZWN0LWRlYm91bmNlXCI7XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC9zdGF0ZS9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL3Byb2Nlc3MudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyBjYW1lbGl6ZSB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvc3RhdGUvY29uc3RhbnRzLnRzXG5pbml0X2VzbV9zaGltcygpO1xudmFyIHZ1ZUJ1aWx0aW5zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcIm5leHRUaWNrXCIsXG4gIFwiZGVmaW5lQ29tcG9uZW50XCIsXG4gIFwiZGVmaW5lQXN5bmNDb21wb25lbnRcIixcbiAgXCJkZWZpbmVDdXN0b21FbGVtZW50XCIsXG4gIFwicmVmXCIsXG4gIFwiY29tcHV0ZWRcIixcbiAgXCJyZWFjdGl2ZVwiLFxuICBcInJlYWRvbmx5XCIsXG4gIFwid2F0Y2hFZmZlY3RcIixcbiAgXCJ3YXRjaFBvc3RFZmZlY3RcIixcbiAgXCJ3YXRjaFN5bmNFZmZlY3RcIixcbiAgXCJ3YXRjaFwiLFxuICBcImlzUmVmXCIsXG4gIFwidW5yZWZcIixcbiAgXCJ0b1JlZlwiLFxuICBcInRvUmVmc1wiLFxuICBcImlzUHJveHlcIixcbiAgXCJpc1JlYWN0aXZlXCIsXG4gIFwiaXNSZWFkb25seVwiLFxuICBcInNoYWxsb3dSZWZcIixcbiAgXCJ0cmlnZ2VyUmVmXCIsXG4gIFwiY3VzdG9tUmVmXCIsXG4gIFwic2hhbGxvd1JlYWN0aXZlXCIsXG4gIFwic2hhbGxvd1JlYWRvbmx5XCIsXG4gIFwidG9SYXdcIixcbiAgXCJtYXJrUmF3XCIsXG4gIFwiZWZmZWN0U2NvcGVcIixcbiAgXCJnZXRDdXJyZW50U2NvcGVcIixcbiAgXCJvblNjb3BlRGlzcG9zZVwiLFxuICBcIm9uTW91bnRlZFwiLFxuICBcIm9uVXBkYXRlZFwiLFxuICBcIm9uVW5tb3VudGVkXCIsXG4gIFwib25CZWZvcmVNb3VudFwiLFxuICBcIm9uQmVmb3JlVXBkYXRlXCIsXG4gIFwib25CZWZvcmVVbm1vdW50XCIsXG4gIFwib25FcnJvckNhcHR1cmVkXCIsXG4gIFwib25SZW5kZXJUcmFja2VkXCIsXG4gIFwib25SZW5kZXJUcmlnZ2VyZWRcIixcbiAgXCJvbkFjdGl2YXRlZFwiLFxuICBcIm9uRGVhY3RpdmF0ZWRcIixcbiAgXCJvblNlcnZlclByZWZldGNoXCIsXG4gIFwicHJvdmlkZVwiLFxuICBcImluamVjdFwiLFxuICBcImhcIixcbiAgXCJtZXJnZVByb3BzXCIsXG4gIFwiY2xvbmVWTm9kZVwiLFxuICBcImlzVk5vZGVcIixcbiAgXCJyZXNvbHZlQ29tcG9uZW50XCIsXG4gIFwicmVzb2x2ZURpcmVjdGl2ZVwiLFxuICBcIndpdGhEaXJlY3RpdmVzXCIsXG4gIFwid2l0aE1vZGlmaWVyc1wiXG5dKTtcbnZhciBzeW1ib2xSRSA9IC9eXFxbbmF0aXZlIFN5bWJvbCBTeW1ib2xcXCgoLiopXFwpXFxdJC87XG52YXIgcmF3VHlwZVJFID0gL15cXFtvYmplY3QgKFxcdyspXFxdJC87XG52YXIgc3BlY2lhbFR5cGVSRSA9IC9eXFxbbmF0aXZlIChcXHcrKSAoLio/KSg8PigoW1xcc1xcU10pKikpP1xcXSQvO1xudmFyIGZuVHlwZVJFID0gL14oPzpmdW5jdGlvbnxjbGFzcykgKFxcdyspLztcbnZhciBNQVhfU1RSSU5HX1NJWkUgPSAxZTQ7XG52YXIgTUFYX0FSUkFZX1NJWkUgPSA1ZTM7XG52YXIgVU5ERUZJTkVEID0gXCJfX3Z1ZV9kZXZ0b29sX3VuZGVmaW5lZF9fXCI7XG52YXIgSU5GSU5JVFkgPSBcIl9fdnVlX2RldnRvb2xfaW5maW5pdHlfX1wiO1xudmFyIE5FR0FUSVZFX0lORklOSVRZID0gXCJfX3Z1ZV9kZXZ0b29sX25lZ2F0aXZlX2luZmluaXR5X19cIjtcbnZhciBOQU4gPSBcIl9fdnVlX2RldnRvb2xfbmFuX19cIjtcbnZhciBFU0MgPSB7XG4gIFwiPFwiOiBcIiZsdDtcIixcbiAgXCI+XCI6IFwiJmd0O1wiLFxuICAnXCInOiBcIiZxdW90O1wiLFxuICBcIiZcIjogXCImYW1wO1wiXG59O1xuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvc3RhdGUvdXRpbC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL2lzLnRzXG5pbml0X2VzbV9zaGltcygpO1xuZnVuY3Rpb24gaXNWdWVJbnN0YW5jZSh2YWx1ZSkge1xuICBpZiAoIWVuc3VyZVByb3BlcnR5RXhpc3RzKHZhbHVlLCBcIl9cIikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlLl8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZS5fKS5pbmNsdWRlcyhcInZub2RlXCIpO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xufVxuZnVuY3Rpb24gaXNQcmltaXRpdmUoZGF0YSkge1xuICBpZiAoZGF0YSA9PSBudWxsKVxuICAgIHJldHVybiB0cnVlO1xuICBjb25zdCB0eXBlID0gdHlwZW9mIGRhdGE7XG4gIHJldHVybiB0eXBlID09PSBcInN0cmluZ1wiIHx8IHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJib29sZWFuXCI7XG59XG5mdW5jdGlvbiBpc1JlZjIocmF3KSB7XG4gIHJldHVybiAhIXJhdy5fX3ZfaXNSZWY7XG59XG5mdW5jdGlvbiBpc0NvbXB1dGVkKHJhdykge1xuICByZXR1cm4gaXNSZWYyKHJhdykgJiYgISFyYXcuZWZmZWN0O1xufVxuZnVuY3Rpb24gaXNSZWFjdGl2ZTIocmF3KSB7XG4gIHJldHVybiAhIXJhdy5fX3ZfaXNSZWFjdGl2ZTtcbn1cbmZ1bmN0aW9uIGlzUmVhZE9ubHkocmF3KSB7XG4gIHJldHVybiAhIXJhdy5fX3ZfaXNSZWFkb25seTtcbn1cblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL3V0aWwudHNcbnZhciB0b2tlbk1hcCA9IHtcbiAgW1VOREVGSU5FRF06IFwidW5kZWZpbmVkXCIsXG4gIFtOQU5dOiBcIk5hTlwiLFxuICBbSU5GSU5JVFldOiBcIkluZmluaXR5XCIsXG4gIFtORUdBVElWRV9JTkZJTklUWV06IFwiLUluZmluaXR5XCJcbn07XG52YXIgcmV2ZXJzZWRUb2tlbk1hcCA9IE9iamVjdC5lbnRyaWVzKHRva2VuTWFwKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gIGFjY1t2YWx1ZV0gPSBrZXk7XG4gIHJldHVybiBhY2M7XG59LCB7fSk7XG5mdW5jdGlvbiBpbnRlcm5hbFN0YXRlVG9rZW5Ub1N0cmluZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwpXG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHRva2VuTWFwW3ZhbHVlXSB8fCBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VUb2tlblRvU3RyaW5nKHZhbHVlKSB7XG4gIGNvbnN0IHJlcGxhY2VSZWdleCA9IG5ldyBSZWdFeHAoYFwiKCR7T2JqZWN0LmtleXModG9rZW5NYXApLmpvaW4oXCJ8XCIpfSlcImAsIFwiZ1wiKTtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UocmVwbGFjZVJlZ2V4LCAoXywgZzEpID0+IHRva2VuTWFwW2cxXSk7XG59XG5mdW5jdGlvbiByZXBsYWNlU3RyaW5nVG9Ub2tlbih2YWx1ZSkge1xuICBjb25zdCBsaXRlcmFsVmFsdWUgPSByZXZlcnNlZFRva2VuTWFwW3ZhbHVlLnRyaW0oKV07XG4gIGlmIChsaXRlcmFsVmFsdWUpXG4gICAgcmV0dXJuIGBcIiR7bGl0ZXJhbFZhbHVlfVwiYDtcbiAgY29uc3QgcmVwbGFjZVJlZ2V4ID0gbmV3IFJlZ0V4cChgOlxcXFxzKigke09iamVjdC5rZXlzKHJldmVyc2VkVG9rZW5NYXApLmpvaW4oXCJ8XCIpfSlgLCBcImdcIik7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKHJlcGxhY2VSZWdleCwgKF8sIGcxKSA9PiBgOlwiJHtyZXZlcnNlZFRva2VuTWFwW2cxXX1cImApO1xufVxuZnVuY3Rpb24gZ2V0UHJvcFR5cGUodHlwZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSlcbiAgICByZXR1cm4gdHlwZS5tYXAoKHQpID0+IGdldFByb3BUeXBlKHQpKS5qb2luKFwiIG9yIFwiKTtcbiAgaWYgKHR5cGUgPT0gbnVsbClcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIGNvbnN0IG1hdGNoID0gdHlwZS50b1N0cmluZygpLm1hdGNoKGZuVHlwZVJFKTtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSBcImZ1bmN0aW9uXCIgPyBtYXRjaCAmJiBtYXRjaFsxXSB8fCBcImFueVwiIDogXCJhbnlcIjtcbn1cbmZ1bmN0aW9uIHNhbml0aXplKGRhdGEpIHtcbiAgaWYgKCFpc1ByaW1pdGl2ZShkYXRhKSAmJiAhQXJyYXkuaXNBcnJheShkYXRhKSAmJiAhaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNldHVwU3RhdGVUeXBlKHJhdykge1xuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICByZWY6IGlzUmVmMihyYXcpLFxuICAgICAgY29tcHV0ZWQ6IGlzQ29tcHV0ZWQocmF3KSxcbiAgICAgIHJlYWN0aXZlOiBpc1JlYWN0aXZlMihyYXcpLFxuICAgICAgcmVhZG9ubHk6IGlzUmVhZE9ubHkocmF3KVxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVmOiBmYWxzZSxcbiAgICAgIGNvbXB1dGVkOiBmYWxzZSxcbiAgICAgIHJlYWN0aXZlOiBmYWxzZSxcbiAgICAgIHJlYWRvbmx5OiBmYWxzZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIHRvUmF3Mih2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLl9fdl9yYXcpXG4gICAgcmV0dXJuIHZhbHVlLl9fdl9yYXc7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGVzY2FwZShzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoL1s8PlwiJl0vZywgKHMyKSA9PiB7XG4gICAgcmV0dXJuIEVTQ1tzMl0gfHwgczI7XG4gIH0pO1xufVxuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvc3RhdGUvcHJvY2Vzcy50c1xuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHRvLCBmcm9tLCBpbnN0YW5jZSkge1xuICBpZiAodHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIilcbiAgICBmcm9tID0gZnJvbS5vcHRpb25zO1xuICBpZiAoIWZyb20pXG4gICAgcmV0dXJuIHRvO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XG4gIGV4dGVuZHNPcHRpb25zICYmIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIGluc3RhbmNlKTtcbiAgbWl4aW5zICYmIG1peGlucy5mb3JFYWNoKFxuICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIGluc3RhbmNlKVxuICApO1xuICBmb3IgKGNvbnN0IGtleSBvZiBbXCJjb21wdXRlZFwiLCBcImluamVjdFwiXSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuICAgICAgaWYgKCF0b1trZXldKVxuICAgICAgICB0b1trZXldID0gZnJvbVtrZXldO1xuICAgICAgZWxzZVxuICAgICAgICBPYmplY3QuYXNzaWduKHRvW2tleV0sIGZyb21ba2V5XSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IHJhdyA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS50eXBlO1xuICBpZiAoIXJhdylcbiAgICByZXR1cm4ge307XG4gIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gcmF3O1xuICBjb25zdCBnbG9iYWxNaXhpbnMgPSBpbnN0YW5jZS5hcHBDb250ZXh0Lm1peGlucztcbiAgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKVxuICAgIHJldHVybiByYXc7XG4gIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgZ2xvYmFsTWl4aW5zLmZvckVhY2goKG0pID0+IG1lcmdlT3B0aW9ucyhvcHRpb25zLCBtLCBpbnN0YW5jZSkpO1xuICBtZXJnZU9wdGlvbnMob3B0aW9ucywgcmF3LCBpbnN0YW5jZSk7XG4gIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gcHJvY2Vzc1Byb3BzKGluc3RhbmNlKSB7XG4gIHZhciBfYTI1O1xuICBjb25zdCBwcm9wcyA9IFtdO1xuICBjb25zdCBwcm9wRGVmaW5pdGlvbnMgPSAoX2EyNSA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS50eXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5wcm9wcztcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnByb3BzKSB7XG4gICAgY29uc3QgcHJvcERlZmluaXRpb24gPSBwcm9wRGVmaW5pdGlvbnMgPyBwcm9wRGVmaW5pdGlvbnNba2V5XSA6IG51bGw7XG4gICAgY29uc3QgY2FtZWxpemVLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgIHByb3BzLnB1c2goe1xuICAgICAgdHlwZTogXCJwcm9wc1wiLFxuICAgICAga2V5OiBjYW1lbGl6ZUtleSxcbiAgICAgIHZhbHVlOiByZXR1cm5FcnJvcigoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldKSxcbiAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgbWV0YTogcHJvcERlZmluaXRpb24gPyB7XG4gICAgICAgIHR5cGU6IHByb3BEZWZpbml0aW9uLnR5cGUgPyBnZXRQcm9wVHlwZShwcm9wRGVmaW5pdGlvbi50eXBlKSA6IFwiYW55XCIsXG4gICAgICAgIHJlcXVpcmVkOiAhIXByb3BEZWZpbml0aW9uLnJlcXVpcmVkLFxuICAgICAgICAuLi5wcm9wRGVmaW5pdGlvbi5kZWZhdWx0ID8ge1xuICAgICAgICAgIGRlZmF1bHQ6IHByb3BEZWZpbml0aW9uLmRlZmF1bHQudG9TdHJpbmcoKVxuICAgICAgICB9IDoge31cbiAgICAgIH0gOiB7IHR5cGU6IFwiaW52YWxpZFwiIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBwcm9jZXNzU3RhdGUoaW5zdGFuY2UpIHtcbiAgY29uc3QgdHlwZSA9IGluc3RhbmNlLnR5cGU7XG4gIGNvbnN0IHByb3BzID0gdHlwZSA9PSBudWxsID8gdm9pZCAwIDogdHlwZS5wcm9wcztcbiAgY29uc3QgZ2V0dGVycyA9IHR5cGUudnVleCAmJiB0eXBlLnZ1ZXguZ2V0dGVycztcbiAgY29uc3QgY29tcHV0ZWREZWZzID0gdHlwZS5jb21wdXRlZDtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICAuLi5pbnN0YW5jZS5kYXRhLFxuICAgIC4uLmluc3RhbmNlLnJlbmRlckNvbnRleHRcbiAgfTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGRhdGEpLmZpbHRlcigoa2V5KSA9PiAhKHByb3BzICYmIGtleSBpbiBwcm9wcykgJiYgIShnZXR0ZXJzICYmIGtleSBpbiBnZXR0ZXJzKSAmJiAhKGNvbXB1dGVkRGVmcyAmJiBrZXkgaW4gY29tcHV0ZWREZWZzKSkubWFwKChrZXkpID0+ICh7XG4gICAga2V5LFxuICAgIHR5cGU6IFwiZGF0YVwiLFxuICAgIHZhbHVlOiByZXR1cm5FcnJvcigoKSA9PiBkYXRhW2tleV0pLFxuICAgIGVkaXRhYmxlOiB0cnVlXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGdldFN0YXRlVHlwZUFuZE5hbWUoaW5mbykge1xuICBjb25zdCBzdGF0ZVR5cGUgPSBpbmZvLmNvbXB1dGVkID8gXCJjb21wdXRlZFwiIDogaW5mby5yZWYgPyBcInJlZlwiIDogaW5mby5yZWFjdGl2ZSA/IFwicmVhY3RpdmVcIiA6IG51bGw7XG4gIGNvbnN0IHN0YXRlVHlwZU5hbWUgPSBzdGF0ZVR5cGUgPyBgJHtzdGF0ZVR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHtzdGF0ZVR5cGUuc2xpY2UoMSl9YCA6IG51bGw7XG4gIHJldHVybiB7XG4gICAgc3RhdGVUeXBlLFxuICAgIHN0YXRlVHlwZU5hbWVcbiAgfTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NTZXR1cFN0YXRlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHJhdyA9IGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSB8fCB7fTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGluc3RhbmNlLnNldHVwU3RhdGUpLmZpbHRlcigoa2V5KSA9PiAhdnVlQnVpbHRpbnMuaGFzKGtleSkgJiYga2V5LnNwbGl0KC8oPz1bQS1aXSkvKVswXSAhPT0gXCJ1c2VcIikubWFwKChrZXkpID0+IHtcbiAgICB2YXIgX2EyNSwgX2IyNSwgX2MsIF9kO1xuICAgIGNvbnN0IHZhbHVlID0gcmV0dXJuRXJyb3IoKCkgPT4gdG9SYXcyKGluc3RhbmNlLnNldHVwU3RhdGVba2V5XSkpO1xuICAgIGNvbnN0IGFjY2Vzc0Vycm9yID0gdmFsdWUgaW5zdGFuY2VvZiBFcnJvcjtcbiAgICBjb25zdCByYXdEYXRhID0gcmF3W2tleV07XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgaXNPdGhlclR5cGUgPSBhY2Nlc3NFcnJvciB8fCB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiB8fCBlbnN1cmVQcm9wZXJ0eUV4aXN0cyh2YWx1ZSwgXCJyZW5kZXJcIikgJiYgdHlwZW9mIHZhbHVlLnJlbmRlciA9PT0gXCJmdW5jdGlvblwiIHx8IGVuc3VyZVByb3BlcnR5RXhpc3RzKHZhbHVlLCBcIl9fYXN5bmNMb2FkZXJcIikgJiYgdHlwZW9mIHZhbHVlLl9fYXN5bmNMb2FkZXIgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgJiYgKFwic2V0dXBcIiBpbiB2YWx1ZSB8fCBcInByb3BzXCIgaW4gdmFsdWUpIHx8IC9edltBLVpdLy50ZXN0KGtleSk7XG4gICAgaWYgKHJhd0RhdGEgJiYgIWFjY2Vzc0Vycm9yKSB7XG4gICAgICBjb25zdCBpbmZvID0gZ2V0U2V0dXBTdGF0ZVR5cGUocmF3RGF0YSk7XG4gICAgICBjb25zdCB7IHN0YXRlVHlwZSwgc3RhdGVUeXBlTmFtZSB9ID0gZ2V0U3RhdGVUeXBlQW5kTmFtZShpbmZvKTtcbiAgICAgIGNvbnN0IGlzU3RhdGUgPSBpbmZvLnJlZiB8fCBpbmZvLmNvbXB1dGVkIHx8IGluZm8ucmVhY3RpdmU7XG4gICAgICBjb25zdCByYXcyID0gZW5zdXJlUHJvcGVydHlFeGlzdHMocmF3RGF0YSwgXCJlZmZlY3RcIikgPyAoKF9iMjUgPSAoX2EyNSA9IHJhd0RhdGEuZWZmZWN0KSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5yYXcpID09IG51bGwgPyB2b2lkIDAgOiBfYjI1LnRvU3RyaW5nKCkpIHx8ICgoX2QgPSAoX2MgPSByYXdEYXRhLmVmZmVjdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmZuKSA9PSBudWxsID8gdm9pZCAwIDogX2QudG9TdHJpbmcoKSkgOiBudWxsO1xuICAgICAgaWYgKHN0YXRlVHlwZSlcbiAgICAgICAgaXNPdGhlclR5cGUgPSBmYWxzZTtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgLi4uc3RhdGVUeXBlID8geyBzdGF0ZVR5cGUsIHN0YXRlVHlwZU5hbWUgfSA6IHt9LFxuICAgICAgICAuLi5yYXcyID8geyByYXc6IHJhdzIgfSA6IHt9LFxuICAgICAgICBlZGl0YWJsZTogaXNTdGF0ZSAmJiAhaW5mby5yZWFkb25seVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGlzT3RoZXJUeXBlID8gXCJzZXR1cCAob3RoZXIpXCIgOiBcInNldHVwXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlLFxuICAgICAgdHlwZSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWdub3JlXG4gICAgICAuLi5yZXN1bHRcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NDb21wdXRlZChpbnN0YW5jZSwgbWVyZ2VkVHlwZSkge1xuICBjb25zdCB0eXBlID0gbWVyZ2VkVHlwZTtcbiAgY29uc3QgY29tcHV0ZWQgPSBbXTtcbiAgY29uc3QgZGVmcyA9IHR5cGUuY29tcHV0ZWQgfHwge307XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZnMpIHtcbiAgICBjb25zdCBkZWYgPSBkZWZzW2tleV07XG4gICAgY29uc3QgdHlwZTIgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmLnZ1ZXggPyBcInZ1ZXggYmluZGluZ3NcIiA6IFwiY29tcHV0ZWRcIjtcbiAgICBjb21wdXRlZC5wdXNoKHtcbiAgICAgIHR5cGU6IHR5cGUyLFxuICAgICAga2V5LFxuICAgICAgdmFsdWU6IHJldHVybkVycm9yKCgpID0+IHtcbiAgICAgICAgdmFyIF9hMjU7XG4gICAgICAgIHJldHVybiAoX2EyNSA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5wcm94eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjVba2V5XTtcbiAgICAgIH0pLFxuICAgICAgZWRpdGFibGU6IHR5cGVvZiBkZWYuc2V0ID09PSBcImZ1bmN0aW9uXCJcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gY29tcHV0ZWQ7XG59XG5mdW5jdGlvbiBwcm9jZXNzQXR0cnMoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGluc3RhbmNlLmF0dHJzKS5tYXAoKGtleSkgPT4gKHtcbiAgICB0eXBlOiBcImF0dHJzXCIsXG4gICAga2V5LFxuICAgIHZhbHVlOiByZXR1cm5FcnJvcigoKSA9PiBpbnN0YW5jZS5hdHRyc1trZXldKVxuICB9KSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzUHJvdmlkZShpbnN0YW5jZSkge1xuICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKGluc3RhbmNlLnByb3ZpZGVzKS5tYXAoKGtleSkgPT4gKHtcbiAgICB0eXBlOiBcInByb3ZpZGVkXCIsXG4gICAga2V5OiBrZXkudG9TdHJpbmcoKSxcbiAgICB2YWx1ZTogcmV0dXJuRXJyb3IoKCkgPT4gaW5zdGFuY2UucHJvdmlkZXNba2V5XSlcbiAgfSkpO1xufVxuZnVuY3Rpb24gcHJvY2Vzc0luamVjdChpbnN0YW5jZSwgbWVyZ2VkVHlwZSkge1xuICBpZiAoIShtZXJnZWRUeXBlID09IG51bGwgPyB2b2lkIDAgOiBtZXJnZWRUeXBlLmluamVjdCkpXG4gICAgcmV0dXJuIFtdO1xuICBsZXQga2V5cyA9IFtdO1xuICBsZXQgZGVmYXVsdFZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShtZXJnZWRUeXBlLmluamVjdCkpIHtcbiAgICBrZXlzID0gbWVyZ2VkVHlwZS5pbmplY3QubWFwKChrZXkpID0+ICh7XG4gICAgICBrZXksXG4gICAgICBvcmlnaW5hbEtleToga2V5XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIGtleXMgPSBSZWZsZWN0Lm93bktleXMobWVyZ2VkVHlwZS5pbmplY3QpLm1hcCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG1lcmdlZFR5cGUuaW5qZWN0W2tleV07XG4gICAgICBsZXQgb3JpZ2luYWxLZXk7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgICBvcmlnaW5hbEtleSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3JpZ2luYWxLZXkgPSB2YWx1ZS5mcm9tO1xuICAgICAgICBkZWZhdWx0VmFsdWUgPSB2YWx1ZS5kZWZhdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5LFxuICAgICAgICBvcmlnaW5hbEtleVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ga2V5cy5tYXAoKHsga2V5LCBvcmlnaW5hbEtleSB9KSA9PiAoe1xuICAgIHR5cGU6IFwiaW5qZWN0ZWRcIixcbiAgICBrZXk6IG9yaWdpbmFsS2V5ICYmIGtleSAhPT0gb3JpZ2luYWxLZXkgPyBgJHtvcmlnaW5hbEtleS50b1N0cmluZygpfSBcXHUyNzlFICR7a2V5LnRvU3RyaW5nKCl9YCA6IGtleS50b1N0cmluZygpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICB2YWx1ZTogcmV0dXJuRXJyb3IoKCkgPT4gaW5zdGFuY2UuY3R4Lmhhc093blByb3BlcnR5KGtleSkgPyBpbnN0YW5jZS5jdHhba2V5XSA6IGluc3RhbmNlLnByb3ZpZGVzLmhhc093blByb3BlcnR5KG9yaWdpbmFsS2V5KSA/IGluc3RhbmNlLnByb3ZpZGVzW29yaWdpbmFsS2V5XSA6IGRlZmF1bHRWYWx1ZSlcbiAgfSkpO1xufVxuZnVuY3Rpb24gcHJvY2Vzc1JlZnMoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGluc3RhbmNlLnJlZnMpLm1hcCgoa2V5KSA9PiAoe1xuICAgIHR5cGU6IFwidGVtcGxhdGUgcmVmc1wiLFxuICAgIGtleSxcbiAgICB2YWx1ZTogcmV0dXJuRXJyb3IoKCkgPT4gaW5zdGFuY2UucmVmc1trZXldKVxuICB9KSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzRXZlbnRMaXN0ZW5lcnMoaW5zdGFuY2UpIHtcbiAgdmFyIF9hMjUsIF9iMjU7XG4gIGNvbnN0IGVtaXRzRGVmaW5pdGlvbiA9IGluc3RhbmNlLnR5cGUuZW1pdHM7XG4gIGNvbnN0IGRlY2xhcmVkRW1pdHMgPSBBcnJheS5pc0FycmF5KGVtaXRzRGVmaW5pdGlvbikgPyBlbWl0c0RlZmluaXRpb24gOiBPYmplY3Qua2V5cyhlbWl0c0RlZmluaXRpb24gIT0gbnVsbCA/IGVtaXRzRGVmaW5pdGlvbiA6IHt9KTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKChfYjI1ID0gKF9hMjUgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2Uudm5vZGUpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LnByb3BzKSAhPSBudWxsID8gX2IyNSA6IHt9KTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBjb25zdCBbcHJlZml4LCAuLi5ldmVudE5hbWVQYXJ0c10gPSBrZXkuc3BsaXQoLyg/PVtBLVpdKS8pO1xuICAgIGlmIChwcmVmaXggPT09IFwib25cIikge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lUGFydHMuam9pbihcIi1cIikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGlzRGVjbGFyZWQgPSBkZWNsYXJlZEVtaXRzLmluY2x1ZGVzKGV2ZW50TmFtZSk7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZXZlbnQgbGlzdGVuZXJzXCIsXG4gICAgICAgIGtleTogZXZlbnROYW1lLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgIGRpc3BsYXlUZXh0OiBpc0RlY2xhcmVkID8gXCJcXHUyNzA1IERlY2xhcmVkXCIgOiBcIlxcdTI2QTBcXHVGRTBGIE5vdCBkZWNsYXJlZFwiLFxuICAgICAgICAgICAga2V5OiBpc0RlY2xhcmVkID8gXCJcXHUyNzA1IERlY2xhcmVkXCIgOiBcIlxcdTI2QTBcXHVGRTBGIE5vdCBkZWNsYXJlZFwiLFxuICAgICAgICAgICAgdmFsdWU6IGlzRGVjbGFyZWQgPyBcIlxcdTI3MDUgRGVjbGFyZWRcIiA6IFwiXFx1MjZBMFxcdUZFMEYgTm90IGRlY2xhcmVkXCIsXG4gICAgICAgICAgICB0b29sdGlwVGV4dDogIWlzRGVjbGFyZWQgPyBgVGhlIGV2ZW50IDxjb2RlPiR7ZXZlbnROYW1lfTwvY29kZT4gaXMgbm90IGRlY2xhcmVkIGluIHRoZSA8Y29kZT5lbWl0czwvY29kZT4gb3B0aW9uLiBJdCB3aWxsIGxlYWsgaW50byB0aGUgY29tcG9uZW50J3MgYXR0cmlidXRlcyAoPGNvZGU+JGF0dHJzPC9jb2RlPikuYCA6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcHJvY2Vzc0luc3RhbmNlU3RhdGUoaW5zdGFuY2UpIHtcbiAgY29uc3QgbWVyZ2VkVHlwZSA9IHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKTtcbiAgcmV0dXJuIHByb2Nlc3NQcm9wcyhpbnN0YW5jZSkuY29uY2F0KFxuICAgIHByb2Nlc3NTdGF0ZShpbnN0YW5jZSksXG4gICAgcHJvY2Vzc1NldHVwU3RhdGUoaW5zdGFuY2UpLFxuICAgIHByb2Nlc3NDb21wdXRlZChpbnN0YW5jZSwgbWVyZ2VkVHlwZSksXG4gICAgcHJvY2Vzc0F0dHJzKGluc3RhbmNlKSxcbiAgICBwcm9jZXNzUHJvdmlkZShpbnN0YW5jZSksXG4gICAgcHJvY2Vzc0luamVjdChpbnN0YW5jZSwgbWVyZ2VkVHlwZSksXG4gICAgcHJvY2Vzc1JlZnMoaW5zdGFuY2UpLFxuICAgIHByb2Nlc3NFdmVudExpc3RlbmVycyhpbnN0YW5jZSlcbiAgKTtcbn1cblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL2luZGV4LnRzXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVN0YXRlKHBhcmFtcykge1xuICB2YXIgX2EyNTtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRJbnN0YW5jZShhY3RpdmVBcHBSZWNvcmQudmFsdWUsIHBhcmFtcy5pbnN0YW5jZUlkKTtcbiAgY29uc3QgaWQgPSBnZXRVbmlxdWVDb21wb25lbnRJZChpbnN0YW5jZSk7XG4gIGNvbnN0IG5hbWUgPSBnZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UpO1xuICBjb25zdCBmaWxlID0gKF9hMjUgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UudHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUuX19maWxlO1xuICBjb25zdCBzdGF0ZSA9IHByb2Nlc3NJbnN0YW5jZVN0YXRlKGluc3RhbmNlKTtcbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBuYW1lLFxuICAgIGZpbGUsXG4gICAgc3RhdGUsXG4gICAgaW5zdGFuY2VcbiAgfTtcbn1cblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3RyZWUvd2Fsa2VyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvdHJlZS9maWx0ZXIudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyBjbGFzc2lmeSBhcyBjbGFzc2lmeTIsIGtlYmFiaXplIH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG52YXIgQ29tcG9uZW50RmlsdGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihmaWx0ZXIpIHtcbiAgICB0aGlzLmZpbHRlciA9IGZpbHRlciB8fCBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBpbnN0YW5jZSBpcyBxdWFsaWZpZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7VnVlfFZub2RlfSBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNRdWFsaWZpZWQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlKTtcbiAgICByZXR1cm4gY2xhc3NpZnkyKG5hbWUpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5maWx0ZXIpIHx8IGtlYmFiaXplKG5hbWUpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5maWx0ZXIpO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50RmlsdGVyKGZpbHRlclRleHQpIHtcbiAgcmV0dXJuIG5ldyBDb21wb25lbnRGaWx0ZXIoZmlsdGVyVGV4dCk7XG59XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC90cmVlL3dhbGtlci50c1xudmFyIENvbXBvbmVudFdhbGtlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8vIERlZHVwZSBpbnN0YW5jZXMgKFNvbWUgaW5zdGFuY2VzIG1heSBiZSBib3RoIG9uIGEgY29tcG9uZW50IGFuZCBvbiBhIGNoaWxkIGFic3RyYWN0L2Z1bmN0aW9uYWwgY29tcG9uZW50KVxuICAgIHRoaXMuY2FwdHVyZUlkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgY29uc3QgeyBmaWx0ZXJUZXh0ID0gXCJcIiwgbWF4RGVwdGgsIHJlY3Vyc2l2ZWx5LCBhcGkgfSA9IG9wdGlvbnM7XG4gICAgdGhpcy5jb21wb25lbnRGaWx0ZXIgPSBjcmVhdGVDb21wb25lbnRGaWx0ZXIoZmlsdGVyVGV4dCk7XG4gICAgdGhpcy5tYXhEZXB0aCA9IG1heERlcHRoO1xuICAgIHRoaXMucmVjdXJzaXZlbHkgPSByZWN1cnNpdmVseTtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgfVxuICBnZXRDb21wb25lbnRUcmVlKGluc3RhbmNlKSB7XG4gICAgdGhpcy5jYXB0dXJlSWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICByZXR1cm4gdGhpcy5maW5kUXVhbGlmaWVkQ2hpbGRyZW4oaW5zdGFuY2UsIDApO1xuICB9XG4gIGdldENvbXBvbmVudFBhcmVudHMoaW5zdGFuY2UpIHtcbiAgICB0aGlzLmNhcHR1cmVJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICB0aGlzLmNhcHR1cmVJZChpbnN0YW5jZSk7XG4gICAgbGV0IHBhcmVudCA9IGluc3RhbmNlO1xuICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQucGFyZW50KSB7XG4gICAgICB0aGlzLmNhcHR1cmVJZChwYXJlbnQpO1xuICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRzO1xuICB9XG4gIGNhcHR1cmVJZChpbnN0YW5jZSkge1xuICAgIGlmICghaW5zdGFuY2UpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLl9fVlVFX0RFVlRPT0xTX05FWFRfVUlEX18gIT0gbnVsbCA/IGluc3RhbmNlLl9fVlVFX0RFVlRPT0xTX05FWFRfVUlEX18gOiBnZXRVbmlxdWVDb21wb25lbnRJZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuX19WVUVfREVWVE9PTFNfTkVYVF9VSURfXyA9IGlkO1xuICAgIGlmICh0aGlzLmNhcHR1cmVJZHMuaGFzKGlkKSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuY2FwdHVyZUlkcy5zZXQoaWQsIHZvaWQgMCk7XG4gICAgdGhpcy5tYXJrKGluc3RhbmNlKTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgLyoqXG4gICAqIENhcHR1cmUgdGhlIG1ldGEgaW5mb3JtYXRpb24gb2YgYW4gaW5zdGFuY2UuIChyZWN1cnNpdmUpXG4gICAqXG4gICAqIEBwYXJhbSB7VnVlfSBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAqL1xuICBhc3luYyBjYXB0dXJlKGluc3RhbmNlLCBkZXB0aCkge1xuICAgIHZhciBfYTI1O1xuICAgIGlmICghaW5zdGFuY2UpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpZCA9IHRoaXMuY2FwdHVyZUlkKGluc3RhbmNlKTtcbiAgICBjb25zdCBuYW1lID0gZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlKTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZ2V0SW50ZXJuYWxJbnN0YW5jZUNoaWxkcmVuKGluc3RhbmNlLnN1YlRyZWUpLmZpbHRlcigoY2hpbGQpID0+ICFpc0JlaW5nRGVzdHJveWVkKGNoaWxkKSk7XG4gICAgY29uc3QgcGFyZW50cyA9IHRoaXMuZ2V0Q29tcG9uZW50UGFyZW50cyhpbnN0YW5jZSkgfHwgW107XG4gICAgY29uc3QgaW5hY3RpdmUgPSAhIWluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgfHwgcGFyZW50cy5zb21lKChwYXJlbnQpID0+IHBhcmVudC5pc0RlYWN0aXZhdGVkKTtcbiAgICBjb25zdCB0cmVlTm9kZSA9IHtcbiAgICAgIHVpZDogaW5zdGFuY2UudWlkLFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgcmVuZGVyS2V5OiBnZXRSZW5kZXJLZXkoaW5zdGFuY2Uudm5vZGUgPyBpbnN0YW5jZS52bm9kZS5rZXkgOiBudWxsKSxcbiAgICAgIGluYWN0aXZlLFxuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgaXNGcmFnbWVudDogaXNGcmFnbWVudChpbnN0YW5jZSksXG4gICAgICB0YWdzOiB0eXBlb2YgaW5zdGFuY2UudHlwZSAhPT0gXCJmdW5jdGlvblwiID8gW10gOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogXCJmdW5jdGlvbmFsXCIsXG4gICAgICAgICAgdGV4dENvbG9yOiA1NTkyNDA1LFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogMTU2NTg3MzRcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGF1dG9PcGVuOiB0aGlzLnJlY3Vyc2l2ZWx5LFxuICAgICAgZmlsZTogaW5zdGFuY2UudHlwZS5fX2ZpbGUgfHwgXCJcIlxuICAgIH07XG4gICAgaWYgKGRlcHRoIDwgdGhpcy5tYXhEZXB0aCB8fCBpbnN0YW5jZS50eXBlLl9faXNLZWVwQWxpdmUgfHwgcGFyZW50cy5zb21lKChwYXJlbnQpID0+IHBhcmVudC50eXBlLl9faXNLZWVwQWxpdmUpKSB7XG4gICAgICB0cmVlTm9kZS5jaGlsZHJlbiA9IGF3YWl0IFByb21pc2UuYWxsKGNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IHRoaXMuY2FwdHVyZShjaGlsZCwgZGVwdGggKyAxKSkuZmlsdGVyKEJvb2xlYW4pKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNLZWVwQWxpdmUoaW5zdGFuY2UpKSB7XG4gICAgICBjb25zdCBjYWNoZWRDb21wb25lbnRzID0gdGhpcy5nZXRLZWVwQWxpdmVDYWNoZWRJbnN0YW5jZXMoaW5zdGFuY2UpO1xuICAgICAgY29uc3QgY2hpbGRyZW5JZHMgPSBjaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBjaGlsZC5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fKTtcbiAgICAgIGZvciAoY29uc3QgY2FjaGVkQ2hpbGQgb2YgY2FjaGVkQ29tcG9uZW50cykge1xuICAgICAgICBpZiAoIWNoaWxkcmVuSWRzLmluY2x1ZGVzKGNhY2hlZENoaWxkLl9fVlVFX0RFVlRPT0xTX05FWFRfVUlEX18pKSB7XG4gICAgICAgICAgY29uc3Qgbm9kZSA9IGF3YWl0IHRoaXMuY2FwdHVyZSh7IC4uLmNhY2hlZENoaWxkLCBpc0RlYWN0aXZhdGVkOiB0cnVlIH0sIGRlcHRoICsgMSk7XG4gICAgICAgICAgaWYgKG5vZGUpXG4gICAgICAgICAgICB0cmVlTm9kZS5jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJvb3RFbGVtZW50cyA9IGdldFJvb3RFbGVtZW50c0Zyb21Db21wb25lbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgY29uc3QgZmlyc3RFbGVtZW50ID0gcm9vdEVsZW1lbnRzWzBdO1xuICAgIGlmIChmaXJzdEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGZpcnN0RWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgICAgIGNvbnN0IHBhcmVudFJvb3RFbGVtZW50cyA9IHBhcmVudEluc3RhbmNlID8gZ2V0Um9vdEVsZW1lbnRzRnJvbUNvbXBvbmVudEluc3RhbmNlKHBhcmVudEluc3RhbmNlKSA6IFtdO1xuICAgICAgbGV0IGVsID0gZmlyc3RFbGVtZW50O1xuICAgICAgY29uc3QgaW5kZXhMaXN0ID0gW107XG4gICAgICBkbyB7XG4gICAgICAgIGluZGV4TGlzdC5wdXNoKEFycmF5LmZyb20oZWwucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzKS5pbmRleE9mKGVsKSk7XG4gICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICAgIH0gd2hpbGUgKGVsLnBhcmVudEVsZW1lbnQgJiYgcGFyZW50Um9vdEVsZW1lbnRzLmxlbmd0aCAmJiAhcGFyZW50Um9vdEVsZW1lbnRzLmluY2x1ZGVzKGVsKSk7XG4gICAgICB0cmVlTm9kZS5kb21PcmRlciA9IGluZGV4TGlzdC5yZXZlcnNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyZWVOb2RlLmRvbU9yZGVyID0gWy0xXTtcbiAgICB9XG4gICAgaWYgKChfYTI1ID0gaW5zdGFuY2Uuc3VzcGVuc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LnN1c3BlbnNlS2V5KSB7XG4gICAgICB0cmVlTm9kZS50YWdzLnB1c2goe1xuICAgICAgICBsYWJlbDogaW5zdGFuY2Uuc3VzcGVuc2Uuc3VzcGVuc2VLZXksXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogMTQ5Nzk4MTIsXG4gICAgICAgIHRleHRDb2xvcjogMTY3NzcyMTVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXJrKGluc3RhbmNlLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5hcGkudmlzaXRDb21wb25lbnRUcmVlKHtcbiAgICAgIHRyZWVOb2RlLFxuICAgICAgY29tcG9uZW50SW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgYXBwOiBpbnN0YW5jZS5hcHBDb250ZXh0LmFwcCxcbiAgICAgIGZpbHRlcjogdGhpcy5jb21wb25lbnRGaWx0ZXIuZmlsdGVyXG4gICAgfSk7XG4gICAgcmV0dXJuIHRyZWVOb2RlO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIHF1YWxpZmllZCBjaGlsZHJlbiBmcm9tIGEgc2luZ2xlIGluc3RhbmNlLlxuICAgKiBJZiB0aGUgaW5zdGFuY2UgaXRzZWxmIGlzIHF1YWxpZmllZCwganVzdCByZXR1cm4gaXRzZWxmLlxuICAgKiBUaGlzIGlzIG9rIGJlY2F1c2UgW10uY29uY2F0IHdvcmtzIGluIGJvdGggY2FzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7VnVlfFZub2RlfSBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtWdWV8QXJyYXl9XG4gICAqL1xuICBhc3luYyBmaW5kUXVhbGlmaWVkQ2hpbGRyZW4oaW5zdGFuY2UsIGRlcHRoKSB7XG4gICAgdmFyIF9hMjU7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50RmlsdGVyLmlzUXVhbGlmaWVkKGluc3RhbmNlKSAmJiAhKChfYTI1ID0gaW5zdGFuY2UudHlwZS5kZXZ0b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUuaGlkZSkpIHtcbiAgICAgIHJldHVybiBbYXdhaXQgdGhpcy5jYXB0dXJlKGluc3RhbmNlLCBkZXB0aCldO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2Uuc3ViVHJlZSkge1xuICAgICAgY29uc3QgbGlzdCA9IHRoaXMuaXNLZWVwQWxpdmUoaW5zdGFuY2UpID8gdGhpcy5nZXRLZWVwQWxpdmVDYWNoZWRJbnN0YW5jZXMoaW5zdGFuY2UpIDogdGhpcy5nZXRJbnRlcm5hbEluc3RhbmNlQ2hpbGRyZW4oaW5zdGFuY2Uuc3ViVHJlZSk7XG4gICAgICByZXR1cm4gdGhpcy5maW5kUXVhbGlmaWVkQ2hpbGRyZW5Gcm9tTGlzdChsaXN0LCBkZXB0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBhbiBhcnJheSBvZiBpbnN0YW5jZXMgYW5kIGZsYXR0ZW4gaXQgaW50b1xuICAgKiBhbiBhcnJheSBvZiBxdWFsaWZpZWQgaW5zdGFuY2VzLiBUaGlzIGlzIGEgZGVwdGgtZmlyc3RcbiAgICogdHJhdmVyc2FsIC0gZS5nLiBpZiBhbiBpbnN0YW5jZSBpcyBub3QgbWF0Y2hlZCwgd2Ugd2lsbFxuICAgKiByZWN1cnNpdmVseSBnbyBkZWVwZXIgdW50aWwgYSBxdWFsaWZpZWQgY2hpbGQgaXMgZm91bmQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGluc3RhbmNlc1xuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGFzeW5jIGZpbmRRdWFsaWZpZWRDaGlsZHJlbkZyb21MaXN0KGluc3RhbmNlcywgZGVwdGgpIHtcbiAgICBpbnN0YW5jZXMgPSBpbnN0YW5jZXMuZmlsdGVyKChjaGlsZCkgPT4ge1xuICAgICAgdmFyIF9hMjU7XG4gICAgICByZXR1cm4gIWlzQmVpbmdEZXN0cm95ZWQoY2hpbGQpICYmICEoKF9hMjUgPSBjaGlsZC50eXBlLmRldnRvb2xzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5oaWRlKTtcbiAgICB9KTtcbiAgICBpZiAoIXRoaXMuY29tcG9uZW50RmlsdGVyLmZpbHRlcilcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChpbnN0YW5jZXMubWFwKChjaGlsZCkgPT4gdGhpcy5jYXB0dXJlKGNoaWxkLCBkZXB0aCkpKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXdhaXQgUHJvbWlzZS5hbGwoaW5zdGFuY2VzLm1hcCgoaSkgPT4gdGhpcy5maW5kUXVhbGlmaWVkQ2hpbGRyZW4oaSwgZGVwdGgpKSkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY2hpbGRyZW4gZnJvbSBhIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICovXG4gIGdldEludGVybmFsSW5zdGFuY2VDaGlsZHJlbihzdWJUcmVlLCBzdXNwZW5zZSA9IG51bGwpIHtcbiAgICBjb25zdCBsaXN0ID0gW107XG4gICAgaWYgKHN1YlRyZWUpIHtcbiAgICAgIGlmIChzdWJUcmVlLmNvbXBvbmVudCkge1xuICAgICAgICAhc3VzcGVuc2UgPyBsaXN0LnB1c2goc3ViVHJlZS5jb21wb25lbnQpIDogbGlzdC5wdXNoKHsgLi4uc3ViVHJlZS5jb21wb25lbnQsIHN1c3BlbnNlIH0pO1xuICAgICAgfSBlbHNlIGlmIChzdWJUcmVlLnN1c3BlbnNlKSB7XG4gICAgICAgIGNvbnN0IHN1c3BlbnNlS2V5ID0gIXN1YlRyZWUuc3VzcGVuc2UuaXNJbkZhbGxiYWNrID8gXCJzdXNwZW5zZSBkZWZhdWx0XCIgOiBcInN1c3BlbnNlIGZhbGxiYWNrXCI7XG4gICAgICAgIGxpc3QucHVzaCguLi50aGlzLmdldEludGVybmFsSW5zdGFuY2VDaGlsZHJlbihzdWJUcmVlLnN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgeyAuLi5zdWJUcmVlLnN1c3BlbnNlLCBzdXNwZW5zZUtleSB9KSk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ViVHJlZS5jaGlsZHJlbikpIHtcbiAgICAgICAgc3ViVHJlZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZFN1YlRyZWUpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGRTdWJUcmVlLmNvbXBvbmVudClcbiAgICAgICAgICAgICFzdXNwZW5zZSA/IGxpc3QucHVzaChjaGlsZFN1YlRyZWUuY29tcG9uZW50KSA6IGxpc3QucHVzaCh7IC4uLmNoaWxkU3ViVHJlZS5jb21wb25lbnQsIHN1c3BlbnNlIH0pO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxpc3QucHVzaCguLi50aGlzLmdldEludGVybmFsSW5zdGFuY2VDaGlsZHJlbihjaGlsZFN1YlRyZWUsIHN1c3BlbnNlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdC5maWx0ZXIoKGNoaWxkKSA9PiB7XG4gICAgICB2YXIgX2EyNTtcbiAgICAgIHJldHVybiAhaXNCZWluZ0Rlc3Ryb3llZChjaGlsZCkgJiYgISgoX2EyNSA9IGNoaWxkLnR5cGUuZGV2dG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmhpZGUpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBNYXJrIGFuIGluc3RhbmNlIGFzIGNhcHR1cmVkIGFuZCBzdG9yZSBpdCBpbiB0aGUgaW5zdGFuY2UgbWFwLlxuICAgKlxuICAgKiBAcGFyYW0ge1Z1ZX0gaW5zdGFuY2VcbiAgICovXG4gIG1hcmsoaW5zdGFuY2UsIGZvcmNlID0gZmFsc2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZU1hcCA9IGdldEFwcFJlY29yZChpbnN0YW5jZSkuaW5zdGFuY2VNYXA7XG4gICAgaWYgKGZvcmNlIHx8ICFpbnN0YW5jZU1hcC5oYXMoaW5zdGFuY2UuX19WVUVfREVWVE9PTFNfTkVYVF9VSURfXykpIHtcbiAgICAgIGluc3RhbmNlTWFwLnNldChpbnN0YW5jZS5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fLCBpbnN0YW5jZSk7XG4gICAgICBhY3RpdmVBcHBSZWNvcmQudmFsdWUuaW5zdGFuY2VNYXAgPSBpbnN0YW5jZU1hcDtcbiAgICB9XG4gIH1cbiAgaXNLZWVwQWxpdmUoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UudHlwZS5fX2lzS2VlcEFsaXZlICYmIGluc3RhbmNlLl9fdl9jYWNoZTtcbiAgfVxuICBnZXRLZWVwQWxpdmVDYWNoZWRJbnN0YW5jZXMoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpbnN0YW5jZS5fX3ZfY2FjaGUudmFsdWVzKCkpLm1hcCgodm5vZGUpID0+IHZub2RlLmNvbXBvbmVudCkuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG59O1xuXG4vLyBzcmMvY29yZS90aW1lbGluZS9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGlzQnJvd3NlciBhcyBpc0Jyb3dzZXIyIH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG5cbi8vIHNyYy9jb3JlL3RpbWVsaW5lL3BlcmYudHNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgbWFya0VuZFF1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBQRVJGT1JNQU5DRV9FVkVOVF9MQVlFUl9JRCA9IFwicGVyZm9ybWFuY2VcIjtcbmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1hbmNlTWFya1N0YXJ0KGFwaSwgYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKSB7XG4gIGNvbnN0IGFwcFJlY29yZCA9IGF3YWl0IGdldEFwcFJlY29yZChhcHApO1xuICBpZiAoIWFwcFJlY29yZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjb21wb25lbnROYW1lID0gZ2V0SW5zdGFuY2VOYW1lKHZtKSB8fCBcIlVua25vd24gQ29tcG9uZW50XCI7XG4gIGNvbnN0IGdyb3VwSWQgPSBkZXZ0b29sc1N0YXRlLnBlcmZVbmlxdWVHcm91cElkKys7XG4gIGNvbnN0IGdyb3VwS2V5ID0gYCR7dWlkfS0ke3R5cGV9YDtcbiAgYXBwUmVjb3JkLnBlcmZHcm91cElkcy5zZXQoZ3JvdXBLZXksIHsgZ3JvdXBJZCwgdGltZSB9KTtcbiAgYXdhaXQgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgIGxheWVySWQ6IFBFUkZPUk1BTkNFX0VWRU5UX0xBWUVSX0lELFxuICAgIGV2ZW50OiB7XG4gICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgZGF0YToge1xuICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudE5hbWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIG1lYXN1cmU6IFwic3RhcnRcIlxuICAgICAgfSxcbiAgICAgIHRpdGxlOiBjb21wb25lbnROYW1lLFxuICAgICAgc3VidGl0bGU6IHR5cGUsXG4gICAgICBncm91cElkXG4gICAgfVxuICB9KTtcbiAgaWYgKG1hcmtFbmRRdWV1ZS5oYXMoZ3JvdXBLZXkpKSB7XG4gICAgY29uc3Qge1xuICAgICAgYXBwOiBhcHAyLFxuICAgICAgdWlkOiB1aWQyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICB0eXBlOiB0eXBlMixcbiAgICAgIHRpbWU6IHRpbWUyXG4gICAgfSA9IG1hcmtFbmRRdWV1ZS5nZXQoZ3JvdXBLZXkpO1xuICAgIG1hcmtFbmRRdWV1ZS5kZWxldGUoZ3JvdXBLZXkpO1xuICAgIGF3YWl0IHBlcmZvcm1hbmNlTWFya0VuZChcbiAgICAgIGFwaSxcbiAgICAgIGFwcDIsXG4gICAgICB1aWQyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICB0eXBlMixcbiAgICAgIHRpbWUyXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gcGVyZm9ybWFuY2VNYXJrRW5kKGFwaSwgYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKSB7XG4gIGNvbnN0IGFwcFJlY29yZCA9IGdldEFwcFJlY29yZChhcHApO1xuICBpZiAoIWFwcFJlY29yZClcbiAgICByZXR1cm47XG4gIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBnZXRJbnN0YW5jZU5hbWUodm0pIHx8IFwiVW5rbm93biBDb21wb25lbnRcIjtcbiAgY29uc3QgZ3JvdXBLZXkgPSBgJHt1aWR9LSR7dHlwZX1gO1xuICBjb25zdCBncm91cEluZm8gPSBhcHBSZWNvcmQucGVyZkdyb3VwSWRzLmdldChncm91cEtleSk7XG4gIGlmIChncm91cEluZm8pIHtcbiAgICBjb25zdCBncm91cElkID0gZ3JvdXBJbmZvLmdyb3VwSWQ7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gZ3JvdXBJbmZvLnRpbWU7XG4gICAgY29uc3QgZHVyYXRpb24gPSB0aW1lIC0gc3RhcnRUaW1lO1xuICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgIGxheWVySWQ6IFBFUkZPUk1BTkNFX0VWRU5UX0xBWUVSX0lELFxuICAgICAgZXZlbnQ6IHtcbiAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50TmFtZSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIG1lYXN1cmU6IFwiZW5kXCIsXG4gICAgICAgICAgZHVyYXRpb246IHtcbiAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJEdXJhdGlvblwiLFxuICAgICAgICAgICAgICB2YWx1ZTogZHVyYXRpb24sXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGAke2R1cmF0aW9ufSBtc2BcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlOiBjb21wb25lbnROYW1lLFxuICAgICAgICBzdWJ0aXRsZTogdHlwZSxcbiAgICAgICAgZ3JvdXBJZFxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1hcmtFbmRRdWV1ZS5zZXQoZ3JvdXBLZXksIHsgYXBwLCB1aWQsIGluc3RhbmNlOiB2bSwgdHlwZSwgdGltZSB9KTtcbiAgfVxufVxuXG4vLyBzcmMvY29yZS90aW1lbGluZS9pbmRleC50c1xudmFyIENPTVBPTkVOVF9FVkVOVF9MQVlFUl9JRCA9IFwiY29tcG9uZW50LWV2ZW50XCI7XG5mdW5jdGlvbiBzZXR1cEJ1aWx0aW5UaW1lbGluZUxheWVycyhhcGkpIHtcbiAgaWYgKCFpc0Jyb3dzZXIyKVxuICAgIHJldHVybjtcbiAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgIGlkOiBcIm1vdXNlXCIsXG4gICAgbGFiZWw6IFwiTW91c2VcIixcbiAgICBjb2xvcjogMTA3Njg4MTVcbiAgfSk7XG4gIFtcIm1vdXNlZG93blwiLCBcIm1vdXNldXBcIiwgXCJjbGlja1wiLCBcImRibGNsaWNrXCJdLmZvckVhY2goKGV2ZW50VHlwZSkgPT4ge1xuICAgIGlmICghZGV2dG9vbHNTdGF0ZS50aW1lbGluZUxheWVyc1N0YXRlLnJlY29yZGluZ1N0YXRlIHx8ICFkZXZ0b29sc1N0YXRlLnRpbWVsaW5lTGF5ZXJzU3RhdGUubW91c2VFdmVudEVuYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGF3YWl0IGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgbGF5ZXJJZDogXCJtb3VzZVwiLFxuICAgICAgICBldmVudDoge1xuICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogZXZlbnRUeXBlLFxuICAgICAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpdGxlOiBldmVudFR5cGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG4gIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcbiAgICBpZDogXCJrZXlib2FyZFwiLFxuICAgIGxhYmVsOiBcIktleWJvYXJkXCIsXG4gICAgY29sb3I6IDg0NzUwNTVcbiAgfSk7XG4gIFtcImtleXVwXCIsIFwia2V5ZG93blwiLCBcImtleXByZXNzXCJdLmZvckVhY2goKGV2ZW50VHlwZSkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWRldnRvb2xzU3RhdGUudGltZWxpbmVMYXllcnNTdGF0ZS5yZWNvcmRpbmdTdGF0ZSB8fCAhZGV2dG9vbHNTdGF0ZS50aW1lbGluZUxheWVyc1N0YXRlLmtleWJvYXJkRXZlbnRFbmFibGVkKVxuICAgICAgICByZXR1cm47XG4gICAgICBhd2FpdCBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgIGxheWVySWQ6IFwia2V5Ym9hcmRcIixcbiAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6IGV2ZW50VHlwZSxcbiAgICAgICAgICAgIGtleTogZXZlbnQua2V5LFxuICAgICAgICAgICAgY3RybEtleTogZXZlbnQuY3RybEtleSxcbiAgICAgICAgICAgIHNoaWZ0S2V5OiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgIGFsdEtleTogZXZlbnQuYWx0S2V5LFxuICAgICAgICAgICAgbWV0YUtleTogZXZlbnQubWV0YUtleVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGl0bGU6IGV2ZW50LmtleVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbiAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgIGlkOiBDT01QT05FTlRfRVZFTlRfTEFZRVJfSUQsXG4gICAgbGFiZWw6IFwiQ29tcG9uZW50IGV2ZW50c1wiLFxuICAgIGNvbG9yOiA1MjI2NjM3XG4gIH0pO1xuICBob29rLm9uLmNvbXBvbmVudEVtaXQoYXN5bmMgKGFwcCwgaW5zdGFuY2UsIGV2ZW50LCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIWRldnRvb2xzU3RhdGUudGltZWxpbmVMYXllcnNTdGF0ZS5yZWNvcmRpbmdTdGF0ZSB8fCAhZGV2dG9vbHNTdGF0ZS50aW1lbGluZUxheWVyc1N0YXRlLmNvbXBvbmVudEV2ZW50RW5hYmxlZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBhcHBSZWNvcmQgPSBhd2FpdCBnZXRBcHBSZWNvcmQoYXBwKTtcbiAgICBpZiAoIWFwcFJlY29yZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBjb21wb25lbnRJZCA9IGAke2FwcFJlY29yZC5pZH06JHtpbnN0YW5jZS51aWR9YDtcbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlKSB8fCBcIlVua25vd24gQ29tcG9uZW50XCI7XG4gICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgbGF5ZXJJZDogQ09NUE9ORU5UX0VWRU5UX0xBWUVSX0lELFxuICAgICAgZXZlbnQ6IHtcbiAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNvbXBvbmVudDoge1xuICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICB0eXBlOiBcImNvbXBvbmVudC1kZWZpbml0aW9uXCIsXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9LFxuICAgICAgICB0aXRsZTogZXZlbnQsXG4gICAgICAgIHN1YnRpdGxlOiBgYnkgJHtjb21wb25lbnROYW1lfWAsXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBjb21wb25lbnRJZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgaWQ6IFwicGVyZm9ybWFuY2VcIixcbiAgICBsYWJlbDogUEVSRk9STUFOQ0VfRVZFTlRfTEFZRVJfSUQsXG4gICAgY29sb3I6IDQzMDcwNTBcbiAgfSk7XG4gIGhvb2sub24ucGVyZlN0YXJ0KChhcHAsIHVpZCwgdm0sIHR5cGUsIHRpbWUpID0+IHtcbiAgICBpZiAoIWRldnRvb2xzU3RhdGUudGltZWxpbmVMYXllcnNTdGF0ZS5yZWNvcmRpbmdTdGF0ZSB8fCAhZGV2dG9vbHNTdGF0ZS50aW1lbGluZUxheWVyc1N0YXRlLnBlcmZvcm1hbmNlRXZlbnRFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIHBlcmZvcm1hbmNlTWFya1N0YXJ0KGFwaSwgYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKTtcbiAgfSk7XG4gIGhvb2sub24ucGVyZkVuZCgoYXBwLCB1aWQsIHZtLCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgaWYgKCFkZXZ0b29sc1N0YXRlLnRpbWVsaW5lTGF5ZXJzU3RhdGUucmVjb3JkaW5nU3RhdGUgfHwgIWRldnRvb2xzU3RhdGUudGltZWxpbmVMYXllcnNTdGF0ZS5wZXJmb3JtYW5jZUV2ZW50RW5hYmxlZClcbiAgICAgIHJldHVybjtcbiAgICBwZXJmb3JtYW5jZU1hcmtFbmQoYXBpLCBhcHAsIHVpZCwgdm0sIHR5cGUsIHRpbWUpO1xuICB9KTtcbn1cblxuLy8gc3JjL2NvcmUvdm0vaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgTUFYXyRWTSA9IDEwO1xudmFyICR2bVF1ZXVlID0gW107XG5mdW5jdGlvbiBleHBvc2VJbnN0YW5jZVRvV2luZG93KGNvbXBvbmVudEluc3RhbmNlKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybjtcbiAgY29uc3Qgd2luID0gd2luZG93O1xuICBpZiAoIWNvbXBvbmVudEluc3RhbmNlKVxuICAgIHJldHVybjtcbiAgd2luLiR2bSA9IGNvbXBvbmVudEluc3RhbmNlO1xuICBpZiAoJHZtUXVldWVbMF0gIT09IGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgaWYgKCR2bVF1ZXVlLmxlbmd0aCA+PSBNQVhfJFZNKSB7XG4gICAgICAkdm1RdWV1ZS5wb3AoKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9ICR2bVF1ZXVlLmxlbmd0aDsgaSA+IDA7IGktLSkge1xuICAgICAgd2luW2Akdm0ke2l9YF0gPSAkdm1RdWV1ZVtpXSA9ICR2bVF1ZXVlW2kgLSAxXTtcbiAgICB9XG4gICAgd2luLiR2bTAgPSAkdm1RdWV1ZVswXSA9IGNvbXBvbmVudEluc3RhbmNlO1xuICB9XG59XG5cbi8vIHNyYy9jb3JlL3BsdWdpbi9jb21wb25lbnRzLnRzXG52YXIgSU5TUEVDVE9SX0lEID0gXCJjb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRzRGV2VG9vbHNQbHVnaW4oYXBwKSB7XG4gIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgaWQ6IElOU1BFQ1RPUl9JRCxcbiAgICBsYWJlbDogXCJDb21wb25lbnRzXCIsXG4gICAgYXBwXG4gIH07XG4gIGNvbnN0IHNldHVwRm4gPSAoYXBpKSA9PiB7XG4gICAgYXBpLmFkZEluc3BlY3Rvcih7XG4gICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgbGFiZWw6IFwiQ29tcG9uZW50c1wiLFxuICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiBcIlNlYXJjaCBjb21wb25lbnRzXCJcbiAgICB9KTtcbiAgICBzZXR1cEJ1aWx0aW5UaW1lbGluZUxheWVycyhhcGkpO1xuICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKGFzeW5jIChwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRJbnN0YW5jZShhY3RpdmVBcHBSZWNvcmQudmFsdWUsIHBheWxvYWQuaW5zdGFuY2VJZCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgIGNvbnN0IHdhbGtlcjIgPSBuZXcgQ29tcG9uZW50V2Fsa2VyKHtcbiAgICAgICAgICAgIGZpbHRlclRleHQ6IHBheWxvYWQuZmlsdGVyLFxuICAgICAgICAgICAgLy8gQFRPRE86IHNob3VsZCBtYWtlIHRoaXMgY29uZmlndXJhYmxlP1xuICAgICAgICAgICAgbWF4RGVwdGg6IDEwMCxcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5OiBmYWxzZSxcbiAgICAgICAgICAgIGFwaVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gYXdhaXQgd2Fsa2VyMi5nZXRDb21wb25lbnRUcmVlKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZShhc3luYyAocGF5bG9hZCkgPT4ge1xuICAgICAgdmFyIF9hMjU7XG4gICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0SW5zdGFuY2VTdGF0ZSh7XG4gICAgICAgICAgaW5zdGFuY2VJZDogcGF5bG9hZC5ub2RlSWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEluc3RhbmNlID0gcmVzdWx0Lmluc3RhbmNlO1xuICAgICAgICBjb25zdCBhcHAyID0gKF9hMjUgPSByZXN1bHQuaW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmFwcENvbnRleHQuYXBwO1xuICAgICAgICBjb25zdCBfcGF5bG9hZCA9IHtcbiAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZSxcbiAgICAgICAgICBhcHA6IGFwcDIsXG4gICAgICAgICAgaW5zdGFuY2VEYXRhOiByZXN1bHRcbiAgICAgICAgfTtcbiAgICAgICAgZGV2dG9vbHNDb250ZXh0Lmhvb2tzLmNhbGxIb29rV2l0aCgoY2FsbGJhY2tzKSA9PiB7XG4gICAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goKGNiKSA9PiBjYihfcGF5bG9hZCkpO1xuICAgICAgICB9LCBcImluc3BlY3RDb21wb25lbnRcIiAvKiBJTlNQRUNUX0NPTVBPTkVOVCAqLyk7XG4gICAgICAgIHBheWxvYWQuc3RhdGUgPSByZXN1bHQ7XG4gICAgICAgIGV4cG9zZUluc3RhbmNlVG9XaW5kb3coY29tcG9uZW50SW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICBlZGl0U3RhdGUocGF5bG9hZCk7XG4gICAgICAgIGF3YWl0IGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoXCJjb21wb25lbnRzXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGRlYm91bmNlU2VuZEluc3BlY3RvclRyZWUgPSBkZWJvdW5jZTQoKCkgPT4ge1xuICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgfSwgMTIwKTtcbiAgICBjb25zdCBkZWJvdW5jZVNlbmRJbnNwZWN0b3JTdGF0ZSA9IGRlYm91bmNlNCgoKSA9PiB7XG4gICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgfSwgMTIwKTtcbiAgICBjb25zdCBjb21wb25lbnRBZGRlZENsZWFudXAgPSBob29rLm9uLmNvbXBvbmVudEFkZGVkKGFzeW5jIChhcHAyLCB1aWQsIHBhcmVudFVpZCwgY29tcG9uZW50KSA9PiB7XG4gICAgICB2YXIgX2EyNSwgX2IyNSwgX2M7XG4gICAgICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoKF9jID0gKF9iMjUgPSAoX2EyNSA9IGFwcDIgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcDIuX2luc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS50eXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2IyNS5kZXZ0b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmhpZGUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICghYXBwMiB8fCB0eXBlb2YgdWlkICE9PSBcIm51bWJlclwiICYmICF1aWQgfHwgIWNvbXBvbmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgaWQgPSBhd2FpdCBnZXRDb21wb25lbnRJZCh7XG4gICAgICAgIGFwcDogYXBwMixcbiAgICAgICAgdWlkLFxuICAgICAgICBpbnN0YW5jZTogY29tcG9uZW50XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGFwcFJlY29yZCA9IGF3YWl0IGdldEFwcFJlY29yZChhcHAyKTtcbiAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudC5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fID09IG51bGwpXG4gICAgICAgICAgY29tcG9uZW50Ll9fVlVFX0RFVlRPT0xTX05FWFRfVUlEX18gPSBpZDtcbiAgICAgICAgaWYgKCEoYXBwUmVjb3JkID09IG51bGwgPyB2b2lkIDAgOiBhcHBSZWNvcmQuaW5zdGFuY2VNYXAuaGFzKGlkKSkpIHtcbiAgICAgICAgICBhcHBSZWNvcmQgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcFJlY29yZC5pbnN0YW5jZU1hcC5zZXQoaWQsIGNvbXBvbmVudCk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5pZCA9PT0gKGFwcFJlY29yZCA9PSBudWxsID8gdm9pZCAwIDogYXBwUmVjb3JkLmlkKSlcbiAgICAgICAgICAgIGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5pbnN0YW5jZU1hcCA9IGFwcFJlY29yZC5pbnN0YW5jZU1hcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFhcHBSZWNvcmQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlYm91bmNlU2VuZEluc3BlY3RvclRyZWUoKTtcbiAgICB9KTtcbiAgICBjb25zdCBjb21wb25lbnRVcGRhdGVkQ2xlYW51cCA9IGhvb2sub24uY29tcG9uZW50VXBkYXRlZChhc3luYyAoYXBwMiwgdWlkLCBwYXJlbnRVaWQsIGNvbXBvbmVudCkgPT4ge1xuICAgICAgdmFyIF9hMjUsIF9iMjUsIF9jO1xuICAgICAgaWYgKGRldnRvb2xzU3RhdGUuaGlnaFBlcmZNb2RlRW5hYmxlZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKChfYyA9IChfYjI1ID0gKF9hMjUgPSBhcHAyID09IG51bGwgPyB2b2lkIDAgOiBhcHAyLl9pbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUudHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMjUuZGV2dG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5oaWRlKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoIWFwcDIgfHwgdHlwZW9mIHVpZCAhPT0gXCJudW1iZXJcIiAmJiAhdWlkIHx8ICFjb21wb25lbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGlkID0gYXdhaXQgZ2V0Q29tcG9uZW50SWQoe1xuICAgICAgICBhcHA6IGFwcDIsXG4gICAgICAgIHVpZCxcbiAgICAgICAgaW5zdGFuY2U6IGNvbXBvbmVudFxuICAgICAgfSk7XG4gICAgICBjb25zdCBhcHBSZWNvcmQgPSBhd2FpdCBnZXRBcHBSZWNvcmQoYXBwMik7XG4gICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wb25lbnQuX19WVUVfREVWVE9PTFNfTkVYVF9VSURfXyA9PSBudWxsKVxuICAgICAgICAgIGNvbXBvbmVudC5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fID0gaWQ7XG4gICAgICAgIGlmICghKGFwcFJlY29yZCA9PSBudWxsID8gdm9pZCAwIDogYXBwUmVjb3JkLmluc3RhbmNlTWFwLmhhcyhpZCkpKSB7XG4gICAgICAgICAgYXBwUmVjb3JkID09IG51bGwgPyB2b2lkIDAgOiBhcHBSZWNvcmQuaW5zdGFuY2VNYXAuc2V0KGlkLCBjb21wb25lbnQpO1xuICAgICAgICAgIGlmIChhY3RpdmVBcHBSZWNvcmQudmFsdWUuaWQgPT09IChhcHBSZWNvcmQgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcFJlY29yZC5pZCkpXG4gICAgICAgICAgICBhY3RpdmVBcHBSZWNvcmQudmFsdWUuaW5zdGFuY2VNYXAgPSBhcHBSZWNvcmQuaW5zdGFuY2VNYXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghYXBwUmVjb3JkKVxuICAgICAgICByZXR1cm47XG4gICAgICBkZWJvdW5jZVNlbmRJbnNwZWN0b3JUcmVlKCk7XG4gICAgICBkZWJvdW5jZVNlbmRJbnNwZWN0b3JTdGF0ZSgpO1xuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBvbmVudFJlbW92ZWRDbGVhbnVwID0gaG9vay5vbi5jb21wb25lbnRSZW1vdmVkKGFzeW5jIChhcHAyLCB1aWQsIHBhcmVudFVpZCwgY29tcG9uZW50KSA9PiB7XG4gICAgICB2YXIgX2EyNSwgX2IyNSwgX2M7XG4gICAgICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoKF9jID0gKF9iMjUgPSAoX2EyNSA9IGFwcDIgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcDIuX2luc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS50eXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2IyNS5kZXZ0b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmhpZGUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICghYXBwMiB8fCB0eXBlb2YgdWlkICE9PSBcIm51bWJlclwiICYmICF1aWQgfHwgIWNvbXBvbmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgYXBwUmVjb3JkID0gYXdhaXQgZ2V0QXBwUmVjb3JkKGFwcDIpO1xuICAgICAgaWYgKCFhcHBSZWNvcmQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGlkID0gYXdhaXQgZ2V0Q29tcG9uZW50SWQoe1xuICAgICAgICBhcHA6IGFwcDIsXG4gICAgICAgIHVpZCxcbiAgICAgICAgaW5zdGFuY2U6IGNvbXBvbmVudFxuICAgICAgfSk7XG4gICAgICBhcHBSZWNvcmQgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcFJlY29yZC5pbnN0YW5jZU1hcC5kZWxldGUoaWQpO1xuICAgICAgaWYgKGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5pZCA9PT0gKGFwcFJlY29yZCA9PSBudWxsID8gdm9pZCAwIDogYXBwUmVjb3JkLmlkKSlcbiAgICAgICAgYWN0aXZlQXBwUmVjb3JkLnZhbHVlLmluc3RhbmNlTWFwID0gYXBwUmVjb3JkLmluc3RhbmNlTWFwO1xuICAgICAgZGVib3VuY2VTZW5kSW5zcGVjdG9yVHJlZSgpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gW2Rlc2NyaXB0b3IsIHNldHVwRm5dO1xufVxuXG4vLyBzcmMvY29yZS9wbHVnaW4vaW5kZXgudHNcbnZhciBfYTEyLCBfYjEyO1xuKF9iMTIgPSAoX2ExMiA9IHRhcmdldDgpLl9fVlVFX0RFVlRPT0xTX0tJVF9fUkVHSVNURVJFRF9QTFVHSU5fQVBQU19fKSAhPSBudWxsID8gX2IxMiA6IF9hMTIuX19WVUVfREVWVE9PTFNfS0lUX19SRUdJU1RFUkVEX1BMVUdJTl9BUFBTX18gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuZnVuY3Rpb24gc2V0dXBEZXZUb29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gIHJldHVybiBob29rLnNldHVwRGV2VG9vbHNQbHVnaW4ocGx1Z2luRGVzY3JpcHRvciwgc2V0dXBGbik7XG59XG5mdW5jdGlvbiBjYWxsRGV2VG9vbHNQbHVnaW5TZXR1cEZuKHBsdWdpbiwgYXBwKSB7XG4gIGNvbnN0IFtwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuXSA9IHBsdWdpbjtcbiAgaWYgKHBsdWdpbkRlc2NyaXB0b3IuYXBwICE9PSBhcHApXG4gICAgcmV0dXJuO1xuICBjb25zdCBhcGkgPSBuZXcgRGV2VG9vbHNQbHVnaW5BUEkoe1xuICAgIHBsdWdpbjoge1xuICAgICAgc2V0dXBGbixcbiAgICAgIGRlc2NyaXB0b3I6IHBsdWdpbkRlc2NyaXB0b3JcbiAgICB9LFxuICAgIGN0eDogZGV2dG9vbHNDb250ZXh0XG4gIH0pO1xuICBpZiAocGx1Z2luRGVzY3JpcHRvci5wYWNrYWdlTmFtZSA9PT0gXCJ2dWV4XCIpIHtcbiAgICBhcGkub24uZWRpdEluc3BlY3RvclN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKHBheWxvYWQuaW5zcGVjdG9ySWQpO1xuICAgIH0pO1xuICB9XG4gIHNldHVwRm4oYXBpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVJlZ2lzdGVyZWRQbHVnaW5BcHAoYXBwKSB7XG4gIHRhcmdldDguX19WVUVfREVWVE9PTFNfS0lUX19SRUdJU1RFUkVEX1BMVUdJTl9BUFBTX18uZGVsZXRlKGFwcCk7XG59XG5mdW5jdGlvbiByZWdpc3RlckRldlRvb2xzUGx1Z2luKGFwcCwgb3B0aW9ucykge1xuICBpZiAodGFyZ2V0OC5fX1ZVRV9ERVZUT09MU19LSVRfX1JFR0lTVEVSRURfUExVR0lOX0FQUFNfXy5oYXMoYXBwKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkICYmICEob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbnNwZWN0aW5nQ29tcG9uZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0YXJnZXQ4Ll9fVlVFX0RFVlRPT0xTX0tJVF9fUkVHSVNURVJFRF9QTFVHSU5fQVBQU19fLmFkZChhcHApO1xuICBkZXZ0b29sc1BsdWdpbkJ1ZmZlci5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICBjYWxsRGV2VG9vbHNQbHVnaW5TZXR1cEZuKHBsdWdpbiwgYXBwKTtcbiAgfSk7XG59XG5cbi8vIHNyYy9jb3JlL3JvdXRlci9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IGRlZXBDbG9uZSwgdGFyZ2V0IGFzIGdsb2JhbDMgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbmltcG9ydCB7IGRlYm91bmNlIGFzIGRlYm91bmNlNSB9IGZyb20gXCJwZXJmZWN0LWRlYm91bmNlXCI7XG5cbi8vIHNyYy9jdHgvcm91dGVyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuaW1wb3J0IHsgdGFyZ2V0IGFzIGdsb2JhbDIgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbnZhciBST1VURVJfS0VZID0gXCJfX1ZVRV9ERVZUT09MU19ST1VURVJfX1wiO1xudmFyIFJPVVRFUl9JTkZPX0tFWSA9IFwiX19WVUVfREVWVE9PTFNfUk9VVEVSX0lORk9fX1wiO1xudmFyIF9hMTMsIF9iMTM7XG4oX2IxMyA9IChfYTEzID0gZ2xvYmFsMilbUk9VVEVSX0lORk9fS0VZXSkgIT0gbnVsbCA/IF9iMTMgOiBfYTEzW1JPVVRFUl9JTkZPX0tFWV0gPSB7XG4gIGN1cnJlbnRSb3V0ZTogbnVsbCxcbiAgcm91dGVzOiBbXVxufTtcbnZhciBfYTE0LCBfYjE0O1xuKF9iMTQgPSAoX2ExNCA9IGdsb2JhbDIpW1JPVVRFUl9LRVldKSAhPSBudWxsID8gX2IxNCA6IF9hMTRbUk9VVEVSX0tFWV0gPSB7fTtcbnZhciBkZXZ0b29sc1JvdXRlckluZm8gPSBuZXcgUHJveHkoZ2xvYmFsMltST1VURVJfSU5GT19LRVldLCB7XG4gIGdldCh0YXJnZXQyMiwgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gZ2xvYmFsMltST1VURVJfSU5GT19LRVldW3Byb3BlcnR5XTtcbiAgfVxufSk7XG52YXIgZGV2dG9vbHNSb3V0ZXIgPSBuZXcgUHJveHkoZ2xvYmFsMltST1VURVJfS0VZXSwge1xuICBnZXQodGFyZ2V0MjIsIHByb3BlcnR5KSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSBcInZhbHVlXCIpIHtcbiAgICAgIHJldHVybiBnbG9iYWwyW1JPVVRFUl9LRVldO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIHNyYy9jb3JlL3JvdXRlci9pbmRleC50c1xuZnVuY3Rpb24gZ2V0Um91dGVzKHJvdXRlcikge1xuICBjb25zdCByb3V0ZXNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICByZXR1cm4gKChyb3V0ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlci5nZXRSb3V0ZXMoKSkgfHwgW10pLmZpbHRlcigoaSkgPT4gIXJvdXRlc01hcC5oYXMoaS5wYXRoKSAmJiByb3V0ZXNNYXAuc2V0KGkucGF0aCwgMSkpO1xufVxuZnVuY3Rpb24gZmlsdGVyUm91dGVzKHJvdXRlcykge1xuICByZXR1cm4gcm91dGVzLm1hcCgoaXRlbSkgPT4ge1xuICAgIGxldCB7IHBhdGgsIG5hbWUsIGNoaWxkcmVuLCBtZXRhIH0gPSBpdGVtO1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsID8gdm9pZCAwIDogY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgY2hpbGRyZW4gPSBmaWx0ZXJSb3V0ZXMoY2hpbGRyZW4pO1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoLFxuICAgICAgbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbWV0YVxuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gZmlsdGVyQ3VycmVudFJvdXRlKHJvdXRlKSB7XG4gIGlmIChyb3V0ZSkge1xuICAgIGNvbnN0IHsgZnVsbFBhdGgsIGhhc2gsIGhyZWYsIHBhdGgsIG5hbWUsIG1hdGNoZWQsIHBhcmFtcywgcXVlcnkgfSA9IHJvdXRlO1xuICAgIHJldHVybiB7XG4gICAgICBmdWxsUGF0aCxcbiAgICAgIGhhc2gsXG4gICAgICBocmVmLFxuICAgICAgcGF0aCxcbiAgICAgIG5hbWUsXG4gICAgICBwYXJhbXMsXG4gICAgICBxdWVyeSxcbiAgICAgIG1hdGNoZWQ6IGZpbHRlclJvdXRlcyhtYXRjaGVkKVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJvdXRlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUm91dGVySW5mbyhhcHBSZWNvcmQsIGFjdGl2ZUFwcFJlY29yZDIpIHtcbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgX2EyNTtcbiAgICBjb25zdCByb3V0ZXIgPSAoX2EyNSA9IGFwcFJlY29yZC5hcHApID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRyb3V0ZXI7XG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gZmlsdGVyQ3VycmVudFJvdXRlKHJvdXRlciA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyLmN1cnJlbnRSb3V0ZS52YWx1ZSk7XG4gICAgY29uc3Qgcm91dGVzID0gZmlsdGVyUm91dGVzKGdldFJvdXRlcyhyb3V0ZXIpKTtcbiAgICBjb25zdCBjID0gY29uc29sZS53YXJuO1xuICAgIGNvbnNvbGUud2FybiA9ICgpID0+IHtcbiAgICB9O1xuICAgIGdsb2JhbDNbUk9VVEVSX0lORk9fS0VZXSA9IHtcbiAgICAgIGN1cnJlbnRSb3V0ZTogY3VycmVudFJvdXRlID8gZGVlcENsb25lKGN1cnJlbnRSb3V0ZSkgOiB7fSxcbiAgICAgIHJvdXRlczogZGVlcENsb25lKHJvdXRlcylcbiAgICB9O1xuICAgIGdsb2JhbDNbUk9VVEVSX0tFWV0gPSByb3V0ZXI7XG4gICAgY29uc29sZS53YXJuID0gYztcbiAgfVxuICBpbml0KCk7XG4gIGhvb2sub24uY29tcG9uZW50VXBkYXRlZChkZWJvdW5jZTUoKCkgPT4ge1xuICAgIHZhciBfYTI1O1xuICAgIGlmICgoKF9hMjUgPSBhY3RpdmVBcHBSZWNvcmQyLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5hcHApICE9PSBhcHBSZWNvcmQuYXBwKVxuICAgICAgcmV0dXJuO1xuICAgIGluaXQoKTtcbiAgICBpZiAoZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGRldnRvb2xzQ29udGV4dC5ob29rcy5jYWxsSG9vayhcInJvdXRlckluZm9VcGRhdGVkXCIgLyogUk9VVEVSX0lORk9fVVBEQVRFRCAqLywgeyBzdGF0ZTogZ2xvYmFsM1tST1VURVJfSU5GT19LRVldIH0pO1xuICB9LCAyMDApKTtcbn1cblxuLy8gc3JjL2N0eC9hcGkudHNcbmZ1bmN0aW9uIGNyZWF0ZURldlRvb2xzQXBpKGhvb2tzMikge1xuICByZXR1cm4ge1xuICAgIC8vIGdldCBpbnNwZWN0b3IgdHJlZVxuICAgIGFzeW5jIGdldEluc3BlY3RvclRyZWUocGF5bG9hZCkge1xuICAgICAgY29uc3QgX3BheWxvYWQgPSB7XG4gICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIGFwcDogYWN0aXZlQXBwUmVjb3JkLnZhbHVlLmFwcCxcbiAgICAgICAgcm9vdE5vZGVzOiBbXVxuICAgICAgfTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGhvb2tzMi5jYWxsSG9va1dpdGgoYXN5bmMgKGNhbGxiYWNrcykgPT4ge1xuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNhbGxiYWNrcy5tYXAoKGNiKSA9PiBjYihfcGF5bG9hZCkpKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIFwiZ2V0SW5zcGVjdG9yVHJlZVwiIC8qIEdFVF9JTlNQRUNUT1JfVFJFRSAqLyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfcGF5bG9hZC5yb290Tm9kZXM7XG4gICAgfSxcbiAgICAvLyBnZXQgaW5zcGVjdG9yIHN0YXRlXG4gICAgYXN5bmMgZ2V0SW5zcGVjdG9yU3RhdGUocGF5bG9hZCkge1xuICAgICAgY29uc3QgX3BheWxvYWQgPSB7XG4gICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIGFwcDogYWN0aXZlQXBwUmVjb3JkLnZhbHVlLmFwcCxcbiAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgIH07XG4gICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgIGN1cnJlbnRUYWI6IGBjdXN0b20taW5zcGVjdG9yOiR7cGF5bG9hZC5pbnNwZWN0b3JJZH1gXG4gICAgICB9O1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgaG9va3MyLmNhbGxIb29rV2l0aChhc3luYyAoY2FsbGJhY2tzKSA9PiB7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tzLm1hcCgoY2IpID0+IGNiKF9wYXlsb2FkLCBjdHgpKSk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCBcImdldEluc3BlY3RvclN0YXRlXCIgLyogR0VUX0lOU1BFQ1RPUl9TVEFURSAqLyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfcGF5bG9hZC5zdGF0ZTtcbiAgICB9LFxuICAgIC8vIGVkaXQgaW5zcGVjdG9yIHN0YXRlXG4gICAgZWRpdEluc3BlY3RvclN0YXRlKHBheWxvYWQpIHtcbiAgICAgIGNvbnN0IHN0YXRlRWRpdG9yMiA9IG5ldyBTdGF0ZUVkaXRvcigpO1xuICAgICAgY29uc3QgX3BheWxvYWQgPSB7XG4gICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIGFwcDogYWN0aXZlQXBwUmVjb3JkLnZhbHVlLmFwcCxcbiAgICAgICAgc2V0OiAob2JqLCBwYXRoID0gcGF5bG9hZC5wYXRoLCB2YWx1ZSA9IHBheWxvYWQuc3RhdGUudmFsdWUsIGNiKSA9PiB7XG4gICAgICAgICAgc3RhdGVFZGl0b3IyLnNldChvYmosIHBhdGgsIHZhbHVlLCBjYiB8fCBzdGF0ZUVkaXRvcjIuY3JlYXRlRGVmYXVsdFNldENhbGxiYWNrKHBheWxvYWQuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGhvb2tzMi5jYWxsSG9va1dpdGgoKGNhbGxiYWNrcykgPT4ge1xuICAgICAgICBjYWxsYmFja3MuZm9yRWFjaCgoY2IpID0+IGNiKF9wYXlsb2FkKSk7XG4gICAgICB9LCBcImVkaXRJbnNwZWN0b3JTdGF0ZVwiIC8qIEVESVRfSU5TUEVDVE9SX1NUQVRFICovKTtcbiAgICB9LFxuICAgIC8vIHNlbmQgaW5zcGVjdG9yIHN0YXRlXG4gICAgc2VuZEluc3BlY3RvclN0YXRlKGluc3BlY3RvcklkKSB7XG4gICAgICBjb25zdCBpbnNwZWN0b3IgPSBnZXRJbnNwZWN0b3IoaW5zcGVjdG9ySWQpO1xuICAgICAgaG9va3MyLmNhbGxIb29rKFwic2VuZEluc3BlY3RvclN0YXRlXCIgLyogU0VORF9JTlNQRUNUT1JfU1RBVEUgKi8sIHsgaW5zcGVjdG9ySWQsIHBsdWdpbjoge1xuICAgICAgICBkZXNjcmlwdG9yOiBpbnNwZWN0b3IuZGVzY3JpcHRvcixcbiAgICAgICAgc2V0dXBGbjogKCkgPT4gKHt9KVxuICAgICAgfSB9KTtcbiAgICB9LFxuICAgIC8vIGluc3BlY3QgY29tcG9uZW50IGluc3BlY3RvclxuICAgIGluc3BlY3RDb21wb25lbnRJbnNwZWN0b3IoKSB7XG4gICAgICByZXR1cm4gaW5zcGVjdENvbXBvbmVudEhpZ2hMaWdodGVyKCk7XG4gICAgfSxcbiAgICAvLyBjYW5jZWwgaW5zcGVjdCBjb21wb25lbnQgaW5zcGVjdG9yXG4gICAgY2FuY2VsSW5zcGVjdENvbXBvbmVudEluc3BlY3RvcigpIHtcbiAgICAgIHJldHVybiBjYW5jZWxJbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXIoKTtcbiAgICB9LFxuICAgIC8vIGdldCBjb21wb25lbnQgcmVuZGVyIGNvZGVcbiAgICBnZXRDb21wb25lbnRSZW5kZXJDb2RlKGlkKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGdldENvbXBvbmVudEluc3RhbmNlKGFjdGl2ZUFwcFJlY29yZC52YWx1ZSwgaWQpO1xuICAgICAgaWYgKGluc3RhbmNlKVxuICAgICAgICByZXR1cm4gISh0eXBlb2YgKGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS50eXBlKSA9PT0gXCJmdW5jdGlvblwiKSA/IGluc3RhbmNlLnJlbmRlci50b1N0cmluZygpIDogaW5zdGFuY2UudHlwZS50b1N0cmluZygpO1xuICAgIH0sXG4gICAgLy8gc2Nyb2xsIHRvIGNvbXBvbmVudFxuICAgIHNjcm9sbFRvQ29tcG9uZW50KGlkKSB7XG4gICAgICByZXR1cm4gc2Nyb2xsVG9Db21wb25lbnQoeyBpZCB9KTtcbiAgICB9LFxuICAgIC8vIG9wZW4gaW4gZWRpdG9yXG4gICAgb3BlbkluRWRpdG9yLFxuICAgIC8vIGdldCB2dWUgaW5zcGVjdG9yXG4gICAgZ2V0VnVlSW5zcGVjdG9yOiBnZXRDb21wb25lbnRJbnNwZWN0b3IsXG4gICAgLy8gdG9nZ2xlIGFwcFxuICAgIHRvZ2dsZUFwcChpZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgYXBwUmVjb3JkID0gZGV2dG9vbHNBcHBSZWNvcmRzLnZhbHVlLmZpbmQoKHJlY29yZCkgPT4gcmVjb3JkLmlkID09PSBpZCk7XG4gICAgICBpZiAoYXBwUmVjb3JkKSB7XG4gICAgICAgIHNldEFjdGl2ZUFwcFJlY29yZElkKGlkKTtcbiAgICAgICAgc2V0QWN0aXZlQXBwUmVjb3JkKGFwcFJlY29yZCk7XG4gICAgICAgIG5vcm1hbGl6ZVJvdXRlckluZm8oYXBwUmVjb3JkLCBhY3RpdmVBcHBSZWNvcmQpO1xuICAgICAgICBjYWxsSW5zcGVjdG9yVXBkYXRlZEhvb2soKTtcbiAgICAgICAgcmVnaXN0ZXJEZXZUb29sc1BsdWdpbihhcHBSZWNvcmQuYXBwLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIGluc3BlY3QgZG9tXG4gICAgaW5zcGVjdERPTShpbnN0YW5jZUlkKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGdldENvbXBvbmVudEluc3RhbmNlKGFjdGl2ZUFwcFJlY29yZC52YWx1ZSwgaW5zdGFuY2VJZCk7XG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3QgW2VsXSA9IGdldFJvb3RFbGVtZW50c0Zyb21Db21wb25lbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgIHRhcmdldDkuX19WVUVfREVWVE9PTFNfSU5TUEVDVF9ET01fVEFSR0VUX18gPSBlbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlUGx1Z2luU2V0dGluZ3MocGx1Z2luSWQsIGtleSwgdmFsdWUpIHtcbiAgICAgIHNldFBsdWdpblNldHRpbmdzKHBsdWdpbklkLCBrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIGdldFBsdWdpblNldHRpbmdzKHBsdWdpbklkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiBnZXRQbHVnaW5TZXR0aW5nc09wdGlvbnMocGx1Z2luSWQpLFxuICAgICAgICB2YWx1ZXM6IGdldFBsdWdpblNldHRpbmdzKHBsdWdpbklkKVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9jdHgvZW52LnRzXG5pbml0X2VzbV9zaGltcygpO1xuaW1wb3J0IHsgdGFyZ2V0IGFzIHRhcmdldDEwIH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG52YXIgX2ExNSwgX2IxNTtcbihfYjE1ID0gKF9hMTUgPSB0YXJnZXQxMCkuX19WVUVfREVWVE9PTFNfRU5WX18pICE9IG51bGwgPyBfYjE1IDogX2ExNS5fX1ZVRV9ERVZUT09MU19FTlZfXyA9IHtcbiAgdml0ZVBsdWdpbkRldGVjdGVkOiBmYWxzZVxufTtcbmZ1bmN0aW9uIGdldERldlRvb2xzRW52KCkge1xuICByZXR1cm4gdGFyZ2V0MTAuX19WVUVfREVWVE9PTFNfRU5WX187XG59XG5mdW5jdGlvbiBzZXREZXZUb29sc0VudihlbnYpIHtcbiAgdGFyZ2V0MTAuX19WVUVfREVWVE9PTFNfRU5WX18gPSB7XG4gICAgLi4udGFyZ2V0MTAuX19WVUVfREVWVE9PTFNfRU5WX18sXG4gICAgLi4uZW52XG4gIH07XG59XG5cbi8vIHNyYy9jdHgvaW5kZXgudHNcbnZhciBob29rcyA9IGNyZWF0ZURldlRvb2xzQ3R4SG9va3MoKTtcbnZhciBfYTE2LCBfYjE2O1xuKF9iMTYgPSAoX2ExNiA9IHRhcmdldDExKS5fX1ZVRV9ERVZUT09MU19LSVRfQ09OVEVYVF9fKSAhPSBudWxsID8gX2IxNiA6IF9hMTYuX19WVUVfREVWVE9PTFNfS0lUX0NPTlRFWFRfXyA9IHtcbiAgaG9va3MsXG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGV2dG9vbHNTdGF0ZSxcbiAgICAgIGFjdGl2ZUFwcFJlY29yZElkOiBhY3RpdmVBcHBSZWNvcmQuaWQsXG4gICAgICBhY3RpdmVBcHBSZWNvcmQ6IGFjdGl2ZUFwcFJlY29yZC52YWx1ZSxcbiAgICAgIGFwcFJlY29yZHM6IGRldnRvb2xzQXBwUmVjb3Jkcy52YWx1ZVxuICAgIH07XG4gIH0sXG4gIGFwaTogY3JlYXRlRGV2VG9vbHNBcGkoaG9va3MpXG59O1xudmFyIGRldnRvb2xzQ29udGV4dCA9IHRhcmdldDExLl9fVlVFX0RFVlRPT0xTX0tJVF9DT05URVhUX187XG5cbi8vIHNyYy9jb3JlL2FwcC9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbnZhciBpbXBvcnRfc3BlYWtpbmd1cmwgPSBfX3RvRVNNKHJlcXVpcmVfc3BlYWtpbmd1cmwyKCksIDEpO1xuaW1wb3J0IHsgdGFyZ2V0IGFzIHRhcmdldDEyIH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG52YXIgX2ExNywgX2IxNztcbnZhciBhcHBSZWNvcmRJbmZvID0gKF9iMTcgPSAoX2ExNyA9IHRhcmdldDEyKS5fX1ZVRV9ERVZUT09MU19ORVhUX0FQUF9SRUNPUkRfSU5GT19fKSAhPSBudWxsID8gX2IxNyA6IF9hMTcuX19WVUVfREVWVE9PTFNfTkVYVF9BUFBfUkVDT1JEX0lORk9fXyA9IHtcbiAgaWQ6IDAsXG4gIGFwcElkczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxufTtcbmZ1bmN0aW9uIGdldEFwcFJlY29yZE5hbWUoYXBwLCBmYWxsYmFja05hbWUpIHtcbiAgdmFyIF9hMjU7XG4gIHJldHVybiAoKF9hMjUgPSBhcHAgPT0gbnVsbCA/IHZvaWQgMCA6IGFwcC5fY29tcG9uZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5uYW1lKSB8fCBgQXBwICR7ZmFsbGJhY2tOYW1lfWA7XG59XG5mdW5jdGlvbiBnZXRBcHBSb290SW5zdGFuY2UoYXBwKSB7XG4gIHZhciBfYTI1LCBfYjI1LCBfYywgX2Q7XG4gIGlmIChhcHAuX2luc3RhbmNlKVxuICAgIHJldHVybiBhcHAuX2luc3RhbmNlO1xuICBlbHNlIGlmICgoX2IyNSA9IChfYTI1ID0gYXBwLl9jb250YWluZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1Ll92bm9kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMjUuY29tcG9uZW50KVxuICAgIHJldHVybiAoX2QgPSAoX2MgPSBhcHAuX2NvbnRhaW5lcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLl92bm9kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlbW92ZUFwcFJlY29yZElkKGFwcCkge1xuICBjb25zdCBpZCA9IGFwcC5fX1ZVRV9ERVZUT09MU19ORVhUX0FQUF9SRUNPUkRfSURfXztcbiAgaWYgKGlkICE9IG51bGwpIHtcbiAgICBhcHBSZWNvcmRJbmZvLmFwcElkcy5kZWxldGUoaWQpO1xuICAgIGFwcFJlY29yZEluZm8uaWQtLTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0QXBwUmVjb3JkSWQoYXBwLCBkZWZhdWx0SWQpIHtcbiAgaWYgKGFwcC5fX1ZVRV9ERVZUT09MU19ORVhUX0FQUF9SRUNPUkRfSURfXyAhPSBudWxsKVxuICAgIHJldHVybiBhcHAuX19WVUVfREVWVE9PTFNfTkVYVF9BUFBfUkVDT1JEX0lEX187XG4gIGxldCBpZCA9IGRlZmF1bHRJZCAhPSBudWxsID8gZGVmYXVsdElkIDogKGFwcFJlY29yZEluZm8uaWQrKykudG9TdHJpbmcoKTtcbiAgaWYgKGRlZmF1bHRJZCAmJiBhcHBSZWNvcmRJbmZvLmFwcElkcy5oYXMoaWQpKSB7XG4gICAgbGV0IGNvdW50ID0gMTtcbiAgICB3aGlsZSAoYXBwUmVjb3JkSW5mby5hcHBJZHMuaGFzKGAke2RlZmF1bHRJZH1fJHtjb3VudH1gKSlcbiAgICAgIGNvdW50Kys7XG4gICAgaWQgPSBgJHtkZWZhdWx0SWR9XyR7Y291bnR9YDtcbiAgfVxuICBhcHBSZWNvcmRJbmZvLmFwcElkcy5hZGQoaWQpO1xuICBhcHAuX19WVUVfREVWVE9PTFNfTkVYVF9BUFBfUkVDT1JEX0lEX18gPSBpZDtcbiAgcmV0dXJuIGlkO1xufVxuZnVuY3Rpb24gY3JlYXRlQXBwUmVjb3JkKGFwcCwgdHlwZXMpIHtcbiAgY29uc3Qgcm9vdEluc3RhbmNlID0gZ2V0QXBwUm9vdEluc3RhbmNlKGFwcCk7XG4gIGlmIChyb290SW5zdGFuY2UpIHtcbiAgICBhcHBSZWNvcmRJbmZvLmlkKys7XG4gICAgY29uc3QgbmFtZSA9IGdldEFwcFJlY29yZE5hbWUoYXBwLCBhcHBSZWNvcmRJbmZvLmlkLnRvU3RyaW5nKCkpO1xuICAgIGNvbnN0IGlkID0gZ2V0QXBwUmVjb3JkSWQoYXBwLCAoMCwgaW1wb3J0X3NwZWFraW5ndXJsLmRlZmF1bHQpKG5hbWUpKTtcbiAgICBjb25zdCByZWNvcmQgPSB7XG4gICAgICBpZCxcbiAgICAgIG5hbWUsXG4gICAgICB0eXBlcyxcbiAgICAgIGluc3RhbmNlTWFwOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgcGVyZkdyb3VwSWRzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgcm9vdEluc3RhbmNlXG4gICAgfTtcbiAgICBhcHAuX19WVUVfREVWVE9PTFNfTkVYVF9BUFBfUkVDT1JEX18gPSByZWNvcmQ7XG4gICAgY29uc3Qgcm9vdElkID0gYCR7cmVjb3JkLmlkfTpyb290YDtcbiAgICByZWNvcmQuaW5zdGFuY2VNYXAuc2V0KHJvb3RJZCwgcmVjb3JkLnJvb3RJbnN0YW5jZSk7XG4gICAgcmVjb3JkLnJvb3RJbnN0YW5jZS5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fID0gcm9vdElkO1xuICAgIHJldHVybiByZWNvcmQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5cbi8vIHNyYy9jb3JlL2luZGV4LnRzXG5mdW5jdGlvbiBpbml0RGV2VG9vbHMoKSB7XG4gIHZhciBfYTI1O1xuICB1cGRhdGVEZXZUb29sc1N0YXRlKHtcbiAgICB2aXRlUGx1Z2luRGV0ZWN0ZWQ6IGdldERldlRvb2xzRW52KCkudml0ZVBsdWdpbkRldGVjdGVkXG4gIH0pO1xuICBjb25zdCBpc0RldlRvb2xzTmV4dCA9ICgoX2EyNSA9IHRhcmdldDEzLl9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LmlkKSA9PT0gXCJ2dWUtZGV2dG9vbHMtbmV4dFwiO1xuICBpZiAodGFyZ2V0MTMuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJiBpc0RldlRvb2xzTmV4dClcbiAgICByZXR1cm47XG4gIGNvbnN0IF9kZXZ0b29sc0hvb2sgPSBjcmVhdGVEZXZUb29sc0hvb2soKTtcbiAgaWYgKHRhcmdldDEzLl9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18pIHtcbiAgICB0cnkge1xuICAgICAgdGFyZ2V0MTMuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXy5mb3JFYWNoKChjYikgPT4gY2IoX2RldnRvb2xzSG9vaykpO1xuICAgICAgdGFyZ2V0MTMuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IFtdO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdnVlLWRldnRvb2xzXSBFcnJvciBkdXJpbmcgaG9vayByZXBsYXlcIiwgZSk7XG4gICAgfVxuICB9XG4gIF9kZXZ0b29sc0hvb2sub25jZShcImluaXRcIiwgKFZ1ZSkgPT4ge1xuICAgIHRhcmdldDEzLl9fVlVFX0RFVlRPT0xTX1ZVRTJfQVBQX0RFVEVDVEVEX18gPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKFwiJWNbX19fX19WdWUgRGV2VG9vbHMgdjcgbG9nX19fX19dXCIsIFwiY29sb3I6IHJlZDsgZm9udC1ib2xkOiA2MDA7IGZvbnQtc2l6ZTogMTZweDtcIik7XG4gICAgY29uc29sZS5sb2coXCIlY1Z1ZSBEZXZUb29scyB2NyBkZXRlY3RlZCBpbiB5b3VyIFZ1ZTIgcHJvamVjdC4gdjcgb25seSBzdXBwb3J0cyBWdWUzIGFuZCB3aWxsIG5vdCB3b3JrLlwiLCBcImZvbnQtYm9sZDogNTAwOyBmb250LXNpemU6IDE0cHg7XCIpO1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9jaHJvbWV3ZWJzdG9yZS5nb29nbGUuY29tL2RldGFpbC92dWVqcy1kZXZ0b29scy9pYWFqbWxjZXBsZWNibGppYWxoaGttZWRqbHBkYmxocFwiO1xuICAgIGNvbnNvbGUubG9nKGAlY1RoZSBsZWdhY3kgdmVyc2lvbiB0aGF0IHN1cHBvcnRzIGJvdGggVnVlIDIgYW5kIFZ1ZSAzIGhhcyBiZWVuIG1vdmVkIHRvICVjICR7dXJsfWAsIFwiZm9udC1zaXplOiAxNHB4O1wiLCBcInRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyBjdXJzb3I6IHBvaW50ZXI7Zm9udC1zaXplOiAxNHB4O1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIiVjUGxlYXNlIGluc3RhbGwgYW5kIGVuYWJsZSBvbmx5IHRoZSBsZWdhY3kgdmVyc2lvbiBmb3IgeW91ciBWdWUyIGFwcC5cIiwgXCJmb250LWJvbGQ6IDUwMDsgZm9udC1zaXplOiAxNHB4O1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIiVjW19fX19fVnVlIERldlRvb2xzIHY3IGxvZ19fX19fXVwiLCBcImNvbG9yOiByZWQ7IGZvbnQtYm9sZDogNjAwOyBmb250LXNpemU6IDE2cHg7XCIpO1xuICB9KTtcbiAgaG9vay5vbi5zZXR1cERldnRvb2xzUGx1Z2luKChwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSA9PiB7XG4gICAgdmFyIF9hMjY7XG4gICAgYWRkRGV2VG9vbHNQbHVnaW5Ub0J1ZmZlcihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKTtcbiAgICBjb25zdCB7IGFwcCB9ID0gKF9hMjYgPSBhY3RpdmVBcHBSZWNvcmQpICE9IG51bGwgPyBfYTI2IDoge307XG4gICAgaWYgKHBsdWdpbkRlc2NyaXB0b3Iuc2V0dGluZ3MpIHtcbiAgICAgIGluaXRQbHVnaW5TZXR0aW5ncyhwbHVnaW5EZXNjcmlwdG9yLmlkLCBwbHVnaW5EZXNjcmlwdG9yLnNldHRpbmdzKTtcbiAgICB9XG4gICAgaWYgKCFhcHApXG4gICAgICByZXR1cm47XG4gICAgY2FsbERldlRvb2xzUGx1Z2luU2V0dXBGbihbcGx1Z2luRGVzY3JpcHRvciwgc2V0dXBGbl0sIGFwcCk7XG4gIH0pO1xuICBvbkxlZ2FjeURldlRvb2xzUGx1Z2luQXBpQXZhaWxhYmxlKCgpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkUGx1Z2luQnVmZmVyID0gZGV2dG9vbHNQbHVnaW5CdWZmZXIuZmlsdGVyKChbaXRlbV0pID0+IGl0ZW0uaWQgIT09IFwiY29tcG9uZW50c1wiKTtcbiAgICBub3JtYWxpemVkUGx1Z2luQnVmZmVyLmZvckVhY2goKFtwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuXSkgPT4ge1xuICAgICAgX2RldnRvb2xzSG9vay5lbWl0KFwiZGV2dG9vbHMtcGx1Z2luOnNldHVwXCIgLyogU0VUVVBfREVWVE9PTFNfUExVR0lOICovLCBwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuLCB7IHRhcmdldDogXCJsZWdhY3lcIiB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGhvb2sub24udnVlQXBwSW5pdChhc3luYyAoYXBwLCB2ZXJzaW9uLCB0eXBlcykgPT4ge1xuICAgIGNvbnN0IGFwcFJlY29yZCA9IGNyZWF0ZUFwcFJlY29yZChhcHAsIHR5cGVzKTtcbiAgICBjb25zdCBub3JtYWxpemVkQXBwUmVjb3JkID0ge1xuICAgICAgLi4uYXBwUmVjb3JkLFxuICAgICAgYXBwLFxuICAgICAgdmVyc2lvblxuICAgIH07XG4gICAgYWRkRGV2VG9vbHNBcHBSZWNvcmQobm9ybWFsaXplZEFwcFJlY29yZCk7XG4gICAgaWYgKGRldnRvb2xzQXBwUmVjb3Jkcy52YWx1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHNldEFjdGl2ZUFwcFJlY29yZChub3JtYWxpemVkQXBwUmVjb3JkKTtcbiAgICAgIHNldEFjdGl2ZUFwcFJlY29yZElkKG5vcm1hbGl6ZWRBcHBSZWNvcmQuaWQpO1xuICAgICAgbm9ybWFsaXplUm91dGVySW5mbyhub3JtYWxpemVkQXBwUmVjb3JkLCBhY3RpdmVBcHBSZWNvcmQpO1xuICAgICAgcmVnaXN0ZXJEZXZUb29sc1BsdWdpbihub3JtYWxpemVkQXBwUmVjb3JkLmFwcCk7XG4gICAgfVxuICAgIHNldHVwRGV2VG9vbHNQbHVnaW4oLi4uY3JlYXRlQ29tcG9uZW50c0RldlRvb2xzUGx1Z2luKG5vcm1hbGl6ZWRBcHBSZWNvcmQuYXBwKSk7XG4gICAgdXBkYXRlRGV2VG9vbHNTdGF0ZSh7XG4gICAgICBjb25uZWN0ZWQ6IHRydWVcbiAgICB9KTtcbiAgICBfZGV2dG9vbHNIb29rLmFwcHMucHVzaChhcHApO1xuICB9KTtcbiAgaG9vay5vbi52dWVBcHBVbm1vdW50KGFzeW5jIChhcHApID0+IHtcbiAgICBjb25zdCBhY3RpdmVSZWNvcmRzID0gZGV2dG9vbHNBcHBSZWNvcmRzLnZhbHVlLmZpbHRlcigoYXBwUmVjb3JkKSA9PiBhcHBSZWNvcmQuYXBwICE9PSBhcHApO1xuICAgIGlmIChhY3RpdmVSZWNvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdXBkYXRlRGV2VG9vbHNTdGF0ZSh7XG4gICAgICAgIGNvbm5lY3RlZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZXZUb29sc0FwcFJlY29yZChhcHApO1xuICAgIHJlbW92ZUFwcFJlY29yZElkKGFwcCk7XG4gICAgaWYgKGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5hcHAgPT09IGFwcCkge1xuICAgICAgc2V0QWN0aXZlQXBwUmVjb3JkKGFjdGl2ZVJlY29yZHNbMF0pO1xuICAgICAgZGV2dG9vbHNDb250ZXh0Lmhvb2tzLmNhbGxIb29rKFwic2VuZEFjdGl2ZUFwcFVwZGF0ZWRUb0NsaWVudFwiIC8qIFNFTkRfQUNUSVZFX0FQUF9VTk1PVU5URURfVE9fQ0xJRU5UICovKTtcbiAgICB9XG4gICAgdGFyZ2V0MTMuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5hcHBzLnNwbGljZSh0YXJnZXQxMy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLmFwcHMuaW5kZXhPZihhcHApLCAxKTtcbiAgICByZW1vdmVSZWdpc3RlcmVkUGx1Z2luQXBwKGFwcCk7XG4gIH0pO1xuICBzdWJzY3JpYmVEZXZUb29sc0hvb2soX2RldnRvb2xzSG9vayk7XG4gIGlmICghdGFyZ2V0MTMuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQxMywgXCJfX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9kZXZ0b29sc0hvb2s7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFpc051eHRBcHApIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXywgX2RldnRvb2xzSG9vayk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBvbkRldlRvb2xzQ2xpZW50Q29ubmVjdGVkKGZuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGlmIChkZXZ0b29sc1N0YXRlLmNvbm5lY3RlZCAmJiBkZXZ0b29sc1N0YXRlLmNsaWVudENvbm5lY3RlZCkge1xuICAgICAgZm4oKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGV2dG9vbHNDb250ZXh0Lmhvb2tzLmhvb2soXCJkZXZ0b29sc0Nvbm5lY3RlZFVwZGF0ZWRcIiAvKiBERVZUT09MU19DT05ORUNURURfVVBEQVRFRCAqLywgKHsgc3RhdGUgfSkgPT4ge1xuICAgICAgaWYgKHN0YXRlLmNvbm5lY3RlZCAmJiBzdGF0ZS5jbGllbnRDb25uZWN0ZWQpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gc3JjL2NvcmUvaGlnaC1wZXJmLW1vZGUvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5mdW5jdGlvbiB0b2dnbGVIaWdoUGVyZk1vZGUoc3RhdGUpIHtcbiAgZGV2dG9vbHNTdGF0ZS5oaWdoUGVyZk1vZGVFbmFibGVkID0gc3RhdGUgIT0gbnVsbCA/IHN0YXRlIDogIWRldnRvb2xzU3RhdGUuaGlnaFBlcmZNb2RlRW5hYmxlZDtcbiAgaWYgKCFzdGF0ZSAmJiBhY3RpdmVBcHBSZWNvcmQudmFsdWUpIHtcbiAgICByZWdpc3RlckRldlRvb2xzUGx1Z2luKGFjdGl2ZUFwcFJlY29yZC52YWx1ZS5hcHApO1xuICB9XG59XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC9zdGF0ZS9mb3JtYXQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC9zdGF0ZS9yZXZpdmVyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuaW1wb3J0IHsgdGFyZ2V0IGFzIHRhcmdldDE0IH0gZnJvbSBcIkB2dWUvZGV2dG9vbHMtc2hhcmVkXCI7XG5mdW5jdGlvbiByZXZpdmVTZXQodmFsKSB7XG4gIGNvbnN0IHJlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IGxpc3QgPSB2YWwuX2N1c3RvbS52YWx1ZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBsaXN0W2ldO1xuICAgIHJlc3VsdC5hZGQocmV2aXZlKHZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJldml2ZU1hcCh2YWwpIHtcbiAgY29uc3QgcmVzdWx0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgbGlzdCA9IHZhbC5fY3VzdG9tLnZhbHVlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IGxpc3RbaV07XG4gICAgcmVzdWx0LnNldChrZXksIHJldml2ZSh2YWx1ZSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZXZpdmUodmFsKSB7XG4gIGlmICh2YWwgPT09IFVOREVGSU5FRCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH0gZWxzZSBpZiAodmFsID09PSBJTkZJTklUWSkge1xuICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gIH0gZWxzZSBpZiAodmFsID09PSBORUdBVElWRV9JTkZJTklUWSkge1xuICAgIHJldHVybiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gIH0gZWxzZSBpZiAodmFsID09PSBOQU4pIHtcbiAgICByZXR1cm4gTnVtYmVyLk5hTjtcbiAgfSBlbHNlIGlmICh2YWwgJiYgdmFsLl9jdXN0b20pIHtcbiAgICBjb25zdCB7IF9jdXN0b206IGN1c3RvbSB9ID0gdmFsO1xuICAgIGlmIChjdXN0b20udHlwZSA9PT0gXCJjb21wb25lbnRcIilcbiAgICAgIHJldHVybiBhY3RpdmVBcHBSZWNvcmQudmFsdWUuaW5zdGFuY2VNYXAuZ2V0KGN1c3RvbS5pZCk7XG4gICAgZWxzZSBpZiAoY3VzdG9tLnR5cGUgPT09IFwibWFwXCIpXG4gICAgICByZXR1cm4gcmV2aXZlTWFwKHZhbCk7XG4gICAgZWxzZSBpZiAoY3VzdG9tLnR5cGUgPT09IFwic2V0XCIpXG4gICAgICByZXR1cm4gcmV2aXZlU2V0KHZhbCk7XG4gICAgZWxzZSBpZiAoY3VzdG9tLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICByZXR1cm4gQmlnSW50KGN1c3RvbS52YWx1ZSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHJldml2ZShjdXN0b20udmFsdWUpO1xuICB9IGVsc2UgaWYgKHN5bWJvbFJFLnRlc3QodmFsKSkge1xuICAgIGNvbnN0IFssIHN0cmluZ10gPSBzeW1ib2xSRS5leGVjKHZhbCk7XG4gICAgcmV0dXJuIFN5bWJvbC5mb3Ioc3RyaW5nKTtcbiAgfSBlbHNlIGlmIChzcGVjaWFsVHlwZVJFLnRlc3QodmFsKSkge1xuICAgIGNvbnN0IFssIHR5cGUsIHN0cmluZywgLCBkZXRhaWxzXSA9IHNwZWNpYWxUeXBlUkUuZXhlYyh2YWwpO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyB0YXJnZXQxNFt0eXBlXShzdHJpbmcpO1xuICAgIGlmICh0eXBlID09PSBcIkVycm9yXCIgJiYgZGV0YWlscylcbiAgICAgIHJlc3VsdC5zdGFjayA9IGRldGFpbHM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59XG5mdW5jdGlvbiByZXZpdmVyKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHJldml2ZSh2YWx1ZSk7XG59XG5cbi8vIHNyYy9jb3JlL2NvbXBvbmVudC9zdGF0ZS9mb3JtYXQudHNcbmZ1bmN0aW9uIGdldEluc3BlY3RvclN0YXRlVmFsdWVUeXBlKHZhbHVlLCByYXcgPSB0cnVlKSB7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBVTkRFRklORUQgfHwgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIgfHwgdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IE5FR0FUSVZFX0lORklOSVRZIHx8IHZhbHVlID09PSBOQU4pIHtcbiAgICByZXR1cm4gXCJsaXRlcmFsXCI7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLl9jdXN0b20pIHtcbiAgICBpZiAocmF3IHx8IHZhbHVlLl9jdXN0b20uZGlzcGxheSAhPSBudWxsIHx8IHZhbHVlLl9jdXN0b20uZGlzcGxheVRleHQgIT0gbnVsbClcbiAgICAgIHJldHVybiBcImN1c3RvbVwiO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBnZXRJbnNwZWN0b3JTdGF0ZVZhbHVlVHlwZSh2YWx1ZS5fY3VzdG9tLnZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCB0eXBlTWF0Y2ggPSBzcGVjaWFsVHlwZVJFLmV4ZWModmFsdWUpO1xuICAgIGlmICh0eXBlTWF0Y2gpIHtcbiAgICAgIGNvbnN0IFssIHR5cGUyXSA9IHR5cGVNYXRjaDtcbiAgICAgIHJldHVybiBgbmF0aXZlICR7dHlwZTJ9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8ICh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUuX2lzQXJyYXkpKSB7XG4gICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBcInBsYWluLW9iamVjdFwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcInVua25vd25cIjtcbiAgfVxufVxuZnVuY3Rpb24gZm9ybWF0SW5zcGVjdG9yU3RhdGVWYWx1ZSh2YWx1ZSwgcXVvdGVzID0gZmFsc2UsIG9wdGlvbnMpIHtcbiAgdmFyIF9hMjUsIF9iMjUsIF9jO1xuICBjb25zdCB7IGN1c3RvbUNsYXNzIH0gPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gIGxldCByZXN1bHQ7XG4gIGNvbnN0IHR5cGUgPSBnZXRJbnNwZWN0b3JTdGF0ZVZhbHVlVHlwZSh2YWx1ZSwgZmFsc2UpO1xuICBpZiAodHlwZSAhPT0gXCJjdXN0b21cIiAmJiAodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLl9jdXN0b20pKVxuICAgIHZhbHVlID0gdmFsdWUuX2N1c3RvbS52YWx1ZTtcbiAgaWYgKHJlc3VsdCA9IGludGVybmFsU3RhdGVUb2tlblRvU3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJjdXN0b21cIikge1xuICAgIGNvbnN0IG5lc3RlZE5hbWUgPSAoKF9hMjUgPSB2YWx1ZS5fY3VzdG9tLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5fY3VzdG9tKSAmJiBmb3JtYXRJbnNwZWN0b3JTdGF0ZVZhbHVlKHZhbHVlLl9jdXN0b20udmFsdWUsIHF1b3Rlcywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG5lc3RlZE5hbWUgfHwgdmFsdWUuX2N1c3RvbS5kaXNwbGF5VGV4dCB8fCB2YWx1ZS5fY3VzdG9tLmRpc3BsYXk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgcmV0dXJuIGBBcnJheVske3ZhbHVlLmxlbmd0aH1dYDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcInBsYWluLW9iamVjdFwiKSB7XG4gICAgcmV0dXJuIGBPYmplY3Qke09iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPyBcIlwiIDogXCIgKGVtcHR5KVwifWA7XG4gIH0gZWxzZSBpZiAodHlwZSA9PSBudWxsID8gdm9pZCAwIDogdHlwZS5pbmNsdWRlcyhcIm5hdGl2ZVwiKSkge1xuICAgIHJldHVybiBlc2NhcGUoKF9iMjUgPSBzcGVjaWFsVHlwZVJFLmV4ZWModmFsdWUpKSA9PSBudWxsID8gdm9pZCAwIDogX2IyNVsyXSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgdHlwZU1hdGNoID0gdmFsdWUubWF0Y2gocmF3VHlwZVJFKTtcbiAgICBpZiAodHlwZU1hdGNoKSB7XG4gICAgICB2YWx1ZSA9IGVzY2FwZVN0cmluZyh0eXBlTWF0Y2hbMV0pO1xuICAgIH0gZWxzZSBpZiAocXVvdGVzKSB7XG4gICAgICB2YWx1ZSA9IGA8c3Bhbj5cIjwvc3Bhbj4keyhjdXN0b21DbGFzcyA9PSBudWxsID8gdm9pZCAwIDogY3VzdG9tQ2xhc3Muc3RyaW5nKSA/IGA8c3BhbiBjbGFzcz0ke2N1c3RvbUNsYXNzLnN0cmluZ30+JHtlc2NhcGVTdHJpbmcodmFsdWUpfTwvc3Bhbj5gIDogZXNjYXBlU3RyaW5nKHZhbHVlKX08c3Bhbj5cIjwvc3Bhbj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IChjdXN0b21DbGFzcyA9PSBudWxsID8gdm9pZCAwIDogY3VzdG9tQ2xhc3Muc3RyaW5nKSA/IGA8c3BhbiBjbGFzcz1cIiR7KF9jID0gY3VzdG9tQ2xhc3MgPT0gbnVsbCA/IHZvaWQgMCA6IGN1c3RvbUNsYXNzLnN0cmluZykgIT0gbnVsbCA/IF9jIDogXCJcIn1cIj4ke2VzY2FwZVN0cmluZyh2YWx1ZSl9PC9zcGFuPmAgOiBlc2NhcGVTdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIGVzY2FwZSh2YWx1ZSkucmVwbGFjZSgvIC9nLCBcIiZuYnNwO1wiKS5yZXBsYWNlKC9cXG4vZywgXCI8c3Bhbj5cXFxcbjwvc3Bhbj5cIik7XG59XG5mdW5jdGlvbiBnZXRSYXcodmFsdWUpIHtcbiAgdmFyIF9hMjUsIF9iMjUsIF9jO1xuICBsZXQgY3VzdG9tVHlwZTtcbiAgY29uc3QgaXNDdXN0b20gPSBnZXRJbnNwZWN0b3JTdGF0ZVZhbHVlVHlwZSh2YWx1ZSkgPT09IFwiY3VzdG9tXCI7XG4gIGxldCBpbmhlcml0ID0ge307XG4gIGlmIChpc0N1c3RvbSkge1xuICAgIGNvbnN0IGRhdGEgPSB2YWx1ZTtcbiAgICBjb25zdCBjdXN0b21WYWx1ZSA9IChfYTI1ID0gZGF0YS5fY3VzdG9tKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS52YWx1ZTtcbiAgICBjb25zdCBjdXJyZW50Q3VzdG9tVHlwZSA9IChfYjI1ID0gZGF0YS5fY3VzdG9tKSA9PSBudWxsID8gdm9pZCAwIDogX2IyNS50eXBlO1xuICAgIGNvbnN0IG5lc3RlZEN1c3RvbSA9IHR5cGVvZiBjdXN0b21WYWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBjdXN0b21WYWx1ZSAhPT0gbnVsbCAmJiBcIl9jdXN0b21cIiBpbiBjdXN0b21WYWx1ZSA/IGdldFJhdyhjdXN0b21WYWx1ZSkgOiB7IGluaGVyaXQ6IHZvaWQgMCwgdmFsdWU6IHZvaWQgMCwgY3VzdG9tVHlwZTogdm9pZCAwIH07XG4gICAgaW5oZXJpdCA9IG5lc3RlZEN1c3RvbS5pbmhlcml0IHx8ICgoX2MgPSBkYXRhLl9jdXN0b20pID09IG51bGwgPyB2b2lkIDAgOiBfYy5maWVsZHMpIHx8IHt9O1xuICAgIHZhbHVlID0gbmVzdGVkQ3VzdG9tLnZhbHVlIHx8IGN1c3RvbVZhbHVlO1xuICAgIGN1c3RvbVR5cGUgPSBuZXN0ZWRDdXN0b20uY3VzdG9tVHlwZSB8fCBjdXJyZW50Q3VzdG9tVHlwZTtcbiAgfVxuICBpZiAodmFsdWUgJiYgdmFsdWUuX2lzQXJyYXkpXG4gICAgdmFsdWUgPSB2YWx1ZS5pdGVtcztcbiAgcmV0dXJuIHsgdmFsdWUsIGluaGVyaXQsIGN1c3RvbVR5cGUgfTtcbn1cbmZ1bmN0aW9uIHRvRWRpdCh2YWx1ZSwgY3VzdG9tVHlwZSkge1xuICBpZiAoY3VzdG9tVHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICByZXR1cm4gdmFsdWU7XG4gIGlmIChjdXN0b21UeXBlID09PSBcImRhdGVcIilcbiAgICByZXR1cm4gdmFsdWU7XG4gIHJldHVybiByZXBsYWNlVG9rZW5Ub1N0cmluZyhKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gdG9TdWJtaXQodmFsdWUsIGN1c3RvbVR5cGUpIHtcbiAgaWYgKGN1c3RvbVR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSk7XG4gIGlmIChjdXN0b21UeXBlID09PSBcImRhdGVcIilcbiAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICByZXR1cm4gSlNPTi5wYXJzZShyZXBsYWNlU3RyaW5nVG9Ub2tlbih2YWx1ZSksIHJldml2ZXIpO1xufVxuXG4vLyBzcmMvY29yZS9kZXZ0b29scy1jbGllbnQvZGV0ZWN0ZWQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0MTUgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbmZ1bmN0aW9uIHVwZGF0ZURldlRvb2xzQ2xpZW50RGV0ZWN0ZWQocGFyYW1zKSB7XG4gIGRldnRvb2xzU3RhdGUuZGV2dG9vbHNDbGllbnREZXRlY3RlZCA9IHtcbiAgICAuLi5kZXZ0b29sc1N0YXRlLmRldnRvb2xzQ2xpZW50RGV0ZWN0ZWQsXG4gICAgLi4ucGFyYW1zXG4gIH07XG4gIGNvbnN0IGRldnRvb2xzQ2xpZW50VmlzaWJsZSA9IE9iamVjdC52YWx1ZXMoZGV2dG9vbHNTdGF0ZS5kZXZ0b29sc0NsaWVudERldGVjdGVkKS5zb21lKEJvb2xlYW4pO1xuICB0b2dnbGVIaWdoUGVyZk1vZGUoIWRldnRvb2xzQ2xpZW50VmlzaWJsZSk7XG59XG52YXIgX2ExOCwgX2IxODtcbihfYjE4ID0gKF9hMTggPSB0YXJnZXQxNSkuX19WVUVfREVWVE9PTFNfVVBEQVRFX0NMSUVOVF9ERVRFQ1RFRF9fKSAhPSBudWxsID8gX2IxOCA6IF9hMTguX19WVUVfREVWVE9PTFNfVVBEQVRFX0NMSUVOVF9ERVRFQ1RFRF9fID0gdXBkYXRlRGV2VG9vbHNDbGllbnREZXRlY3RlZDtcblxuLy8gc3JjL21lc3NhZ2luZy9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQyMSB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuaW1wb3J0IHsgY3JlYXRlQmlycGMsIGNyZWF0ZUJpcnBjR3JvdXAgfSBmcm9tIFwiYmlycGNcIjtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2luZGV4LnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvbWVzc2FnaW5nL3ByZXNldHMvYnJvYWRjYXN0LWNoYW5uZWwvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L2luZGV4LmpzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3VwZXJqc29uQDIuMi4yL25vZGVfbW9kdWxlcy9zdXBlcmpzb24vZGlzdC9jbGFzcy1yZWdpc3RyeS5qc1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N1cGVyanNvbkAyLjIuMi9ub2RlX21vZHVsZXMvc3VwZXJqc29uL2Rpc3QvcmVnaXN0cnkuanNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L2RvdWJsZS1pbmRleGVkLWt2LmpzXG5pbml0X2VzbV9zaGltcygpO1xudmFyIERvdWJsZUluZGV4ZWRLViA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5rZXlUb1ZhbHVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnZhbHVlVG9LZXkgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5rZXlUb1ZhbHVlLnNldChrZXksIHZhbHVlKTtcbiAgICB0aGlzLnZhbHVlVG9LZXkuc2V0KHZhbHVlLCBrZXkpO1xuICB9XG4gIGdldEJ5S2V5KGtleSkge1xuICAgIHJldHVybiB0aGlzLmtleVRvVmFsdWUuZ2V0KGtleSk7XG4gIH1cbiAgZ2V0QnlWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlVG9LZXkuZ2V0KHZhbHVlKTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLmtleVRvVmFsdWUuY2xlYXIoKTtcbiAgICB0aGlzLnZhbHVlVG9LZXkuY2xlYXIoKTtcbiAgfVxufTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N1cGVyanNvbkAyLjIuMi9ub2RlX21vZHVsZXMvc3VwZXJqc29uL2Rpc3QvcmVnaXN0cnkuanNcbnZhciBSZWdpc3RyeSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZ2VuZXJhdGVJZGVudGlmaWVyKSB7XG4gICAgdGhpcy5nZW5lcmF0ZUlkZW50aWZpZXIgPSBnZW5lcmF0ZUlkZW50aWZpZXI7XG4gICAgdGhpcy5rdiA9IG5ldyBEb3VibGVJbmRleGVkS1YoKTtcbiAgfVxuICByZWdpc3Rlcih2YWx1ZSwgaWRlbnRpZmllcikge1xuICAgIGlmICh0aGlzLmt2LmdldEJ5VmFsdWUodmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaWRlbnRpZmllcikge1xuICAgICAgaWRlbnRpZmllciA9IHRoaXMuZ2VuZXJhdGVJZGVudGlmaWVyKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5rdi5zZXQoaWRlbnRpZmllciwgdmFsdWUpO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMua3YuY2xlYXIoKTtcbiAgfVxuICBnZXRJZGVudGlmaWVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMua3YuZ2V0QnlWYWx1ZSh2YWx1ZSk7XG4gIH1cbiAgZ2V0VmFsdWUoaWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLmt2LmdldEJ5S2V5KGlkZW50aWZpZXIpO1xuICB9XG59O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3VwZXJqc29uQDIuMi4yL25vZGVfbW9kdWxlcy9zdXBlcmpzb24vZGlzdC9jbGFzcy1yZWdpc3RyeS5qc1xudmFyIENsYXNzUmVnaXN0cnkgPSBjbGFzcyBleHRlbmRzIFJlZ2lzdHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKGMpID0+IGMubmFtZSk7XG4gICAgdGhpcy5jbGFzc1RvQWxsb3dlZFByb3BzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICByZWdpc3Rlcih2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgaWYgKG9wdGlvbnMuYWxsb3dQcm9wcykge1xuICAgICAgICB0aGlzLmNsYXNzVG9BbGxvd2VkUHJvcHMuc2V0KHZhbHVlLCBvcHRpb25zLmFsbG93UHJvcHMpO1xuICAgICAgfVxuICAgICAgc3VwZXIucmVnaXN0ZXIodmFsdWUsIG9wdGlvbnMuaWRlbnRpZmllcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLnJlZ2lzdGVyKHZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgZ2V0QWxsb3dlZFByb3BzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xhc3NUb0FsbG93ZWRQcm9wcy5nZXQodmFsdWUpO1xuICB9XG59O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3VwZXJqc29uQDIuMi4yL25vZGVfbW9kdWxlcy9zdXBlcmpzb24vZGlzdC9jdXN0b20tdHJhbnNmb3JtZXItcmVnaXN0cnkuanNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L3V0aWwuanNcbmluaXRfZXNtX3NoaW1zKCk7XG5mdW5jdGlvbiB2YWx1ZXNPZk9iaihyZWNvcmQpIHtcbiAgaWYgKFwidmFsdWVzXCIgaW4gT2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVjb3JkKTtcbiAgfVxuICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmVjb3JkKSB7XG4gICAgaWYgKHJlY29yZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICB2YWx1ZXMucHVzaChyZWNvcmRba2V5XSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBmaW5kKHJlY29yZCwgcHJlZGljYXRlKSB7XG4gIGNvbnN0IHZhbHVlcyA9IHZhbHVlc09mT2JqKHJlY29yZCk7XG4gIGlmIChcImZpbmRcIiBpbiB2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLmZpbmQocHJlZGljYXRlKTtcbiAgfVxuICBjb25zdCB2YWx1ZXNOb3ROZXZlciA9IHZhbHVlcztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXNOb3ROZXZlci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzTm90TmV2ZXJbaV07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGZvckVhY2gocmVjb3JkLCBydW4pIHtcbiAgT2JqZWN0LmVudHJpZXMocmVjb3JkKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHJ1bih2YWx1ZSwga2V5KSk7XG59XG5mdW5jdGlvbiBpbmNsdWRlcyhhcnIsIHZhbHVlKSB7XG4gIHJldHVybiBhcnIuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xufVxuZnVuY3Rpb24gZmluZEFycihyZWNvcmQsIHByZWRpY2F0ZSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY29yZC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gcmVjb3JkW2ldO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L2N1c3RvbS10cmFuc2Zvcm1lci1yZWdpc3RyeS5qc1xudmFyIEN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudHJhbnNmb21lcnMgPSB7fTtcbiAgfVxuICByZWdpc3Rlcih0cmFuc2Zvcm1lcikge1xuICAgIHRoaXMudHJhbnNmb21lcnNbdHJhbnNmb3JtZXIubmFtZV0gPSB0cmFuc2Zvcm1lcjtcbiAgfVxuICBmaW5kQXBwbGljYWJsZSh2KSB7XG4gICAgcmV0dXJuIGZpbmQodGhpcy50cmFuc2ZvbWVycywgKHRyYW5zZm9ybWVyKSA9PiB0cmFuc2Zvcm1lci5pc0FwcGxpY2FibGUodikpO1xuICB9XG4gIGZpbmRCeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9tZXJzW25hbWVdO1xuICB9XG59O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3VwZXJqc29uQDIuMi4yL25vZGVfbW9kdWxlcy9zdXBlcmpzb24vZGlzdC9wbGFpbmVyLmpzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3VwZXJqc29uQDIuMi4yL25vZGVfbW9kdWxlcy9zdXBlcmpzb24vZGlzdC9pcy5qc1xuaW5pdF9lc21fc2hpbXMoKTtcbnZhciBnZXRUeXBlID0gKHBheWxvYWQpID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwYXlsb2FkKS5zbGljZSg4LCAtMSk7XG52YXIgaXNVbmRlZmluZWQgPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwidW5kZWZpbmVkXCI7XG52YXIgaXNOdWxsID0gKHBheWxvYWQpID0+IHBheWxvYWQgPT09IG51bGw7XG52YXIgaXNQbGFpbk9iamVjdDIgPSAocGF5bG9hZCkgPT4ge1xuICBpZiAodHlwZW9mIHBheWxvYWQgIT09IFwib2JqZWN0XCIgfHwgcGF5bG9hZCA9PT0gbnVsbClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChwYXlsb2FkID09PSBPYmplY3QucHJvdG90eXBlKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXlsb2FkKSA9PT0gbnVsbClcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXlsb2FkKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn07XG52YXIgaXNFbXB0eU9iamVjdCA9IChwYXlsb2FkKSA9PiBpc1BsYWluT2JqZWN0MihwYXlsb2FkKSAmJiBPYmplY3Qua2V5cyhwYXlsb2FkKS5sZW5ndGggPT09IDA7XG52YXIgaXNBcnJheSA9IChwYXlsb2FkKSA9PiBBcnJheS5pc0FycmF5KHBheWxvYWQpO1xudmFyIGlzU3RyaW5nID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiO1xudmFyIGlzTnVtYmVyID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcIm51bWJlclwiICYmICFpc05hTihwYXlsb2FkKTtcbnZhciBpc0Jvb2xlYW4gPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwiYm9vbGVhblwiO1xudmFyIGlzUmVnRXhwID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBSZWdFeHA7XG52YXIgaXNNYXAgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIE1hcDtcbnZhciBpc1NldCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgU2V0O1xudmFyIGlzU3ltYm9sID0gKHBheWxvYWQpID0+IGdldFR5cGUocGF5bG9hZCkgPT09IFwiU3ltYm9sXCI7XG52YXIgaXNEYXRlID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTihwYXlsb2FkLnZhbHVlT2YoKSk7XG52YXIgaXNFcnJvciA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgRXJyb3I7XG52YXIgaXNOYU5WYWx1ZSA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJudW1iZXJcIiAmJiBpc05hTihwYXlsb2FkKTtcbnZhciBpc1ByaW1pdGl2ZTIgPSAocGF5bG9hZCkgPT4gaXNCb29sZWFuKHBheWxvYWQpIHx8IGlzTnVsbChwYXlsb2FkKSB8fCBpc1VuZGVmaW5lZChwYXlsb2FkKSB8fCBpc051bWJlcihwYXlsb2FkKSB8fCBpc1N0cmluZyhwYXlsb2FkKSB8fCBpc1N5bWJvbChwYXlsb2FkKTtcbnZhciBpc0JpZ2ludCA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJiaWdpbnRcIjtcbnZhciBpc0luZmluaXRlID0gKHBheWxvYWQpID0+IHBheWxvYWQgPT09IEluZmluaXR5IHx8IHBheWxvYWQgPT09IC1JbmZpbml0eTtcbnZhciBpc1R5cGVkQXJyYXkgPSAocGF5bG9hZCkgPT4gQXJyYXlCdWZmZXIuaXNWaWV3KHBheWxvYWQpICYmICEocGF5bG9hZCBpbnN0YW5jZW9mIERhdGFWaWV3KTtcbnZhciBpc1VSTCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgVVJMO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3VwZXJqc29uQDIuMi4yL25vZGVfbW9kdWxlcy9zdXBlcmpzb24vZGlzdC9wYXRoc3RyaW5naWZpZXIuanNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgZXNjYXBlS2V5ID0gKGtleSkgPT4ga2V5LnJlcGxhY2UoL1xcLi9nLCBcIlxcXFwuXCIpO1xudmFyIHN0cmluZ2lmeVBhdGggPSAocGF0aCkgPT4gcGF0aC5tYXAoU3RyaW5nKS5tYXAoZXNjYXBlS2V5KS5qb2luKFwiLlwiKTtcbnZhciBwYXJzZVBhdGggPSAoc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBsZXQgc2VnbWVudCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoYXIgPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgIGNvbnN0IGlzRXNjYXBlZERvdCA9IGNoYXIgPT09IFwiXFxcXFwiICYmIHN0cmluZy5jaGFyQXQoaSArIDEpID09PSBcIi5cIjtcbiAgICBpZiAoaXNFc2NhcGVkRG90KSB7XG4gICAgICBzZWdtZW50ICs9IFwiLlwiO1xuICAgICAgaSsrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGlzRW5kT2ZTZWdtZW50ID0gY2hhciA9PT0gXCIuXCI7XG4gICAgaWYgKGlzRW5kT2ZTZWdtZW50KSB7XG4gICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcbiAgICAgIHNlZ21lbnQgPSBcIlwiO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHNlZ21lbnQgKz0gY2hhcjtcbiAgfVxuICBjb25zdCBsYXN0U2VnbWVudCA9IHNlZ21lbnQ7XG4gIHJlc3VsdC5wdXNoKGxhc3RTZWdtZW50KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L3RyYW5zZm9ybWVyLmpzXG5pbml0X2VzbV9zaGltcygpO1xuZnVuY3Rpb24gc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNBcHBsaWNhYmxlLCBhbm5vdGF0aW9uLCB0cmFuc2Zvcm0sIHVudHJhbnNmb3JtKSB7XG4gIHJldHVybiB7XG4gICAgaXNBcHBsaWNhYmxlLFxuICAgIGFubm90YXRpb24sXG4gICAgdHJhbnNmb3JtLFxuICAgIHVudHJhbnNmb3JtXG4gIH07XG59XG52YXIgc2ltcGxlUnVsZXMgPSBbXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzVW5kZWZpbmVkLCBcInVuZGVmaW5lZFwiLCAoKSA9PiBudWxsLCAoKSA9PiB2b2lkIDApLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc0JpZ2ludCwgXCJiaWdpbnRcIiwgKHYpID0+IHYudG9TdHJpbmcoKSwgKHYpID0+IHtcbiAgICBpZiAodHlwZW9mIEJpZ0ludCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIEJpZ0ludCh2KTtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvcihcIlBsZWFzZSBhZGQgYSBCaWdJbnQgcG9seWZpbGwuXCIpO1xuICAgIHJldHVybiB2O1xuICB9KSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNEYXRlLCBcIkRhdGVcIiwgKHYpID0+IHYudG9JU09TdHJpbmcoKSwgKHYpID0+IG5ldyBEYXRlKHYpKSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNFcnJvciwgXCJFcnJvclwiLCAodiwgc3VwZXJKc29uKSA9PiB7XG4gICAgY29uc3QgYmFzZUVycm9yID0ge1xuICAgICAgbmFtZTogdi5uYW1lLFxuICAgICAgbWVzc2FnZTogdi5tZXNzYWdlXG4gICAgfTtcbiAgICBzdXBlckpzb24uYWxsb3dlZEVycm9yUHJvcHMuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgYmFzZUVycm9yW3Byb3BdID0gdltwcm9wXTtcbiAgICB9KTtcbiAgICByZXR1cm4gYmFzZUVycm9yO1xuICB9LCAodiwgc3VwZXJKc29uKSA9PiB7XG4gICAgY29uc3QgZSA9IG5ldyBFcnJvcih2Lm1lc3NhZ2UpO1xuICAgIGUubmFtZSA9IHYubmFtZTtcbiAgICBlLnN0YWNrID0gdi5zdGFjaztcbiAgICBzdXBlckpzb24uYWxsb3dlZEVycm9yUHJvcHMuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgZVtwcm9wXSA9IHZbcHJvcF07XG4gICAgfSk7XG4gICAgcmV0dXJuIGU7XG4gIH0pLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc1JlZ0V4cCwgXCJyZWdleHBcIiwgKHYpID0+IFwiXCIgKyB2LCAocmVnZXgpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcmVnZXguc2xpY2UoMSwgcmVnZXgubGFzdEluZGV4T2YoXCIvXCIpKTtcbiAgICBjb25zdCBmbGFncyA9IHJlZ2V4LnNsaWNlKHJlZ2V4Lmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGJvZHksIGZsYWdzKTtcbiAgfSksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKFxuICAgIGlzU2V0LFxuICAgIFwic2V0XCIsXG4gICAgLy8gKHNldHMgb25seSBleGlzdCBpbiBlczYrKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlczUvbm8tZXM2LW1ldGhvZHNcbiAgICAodikgPT4gWy4uLnYudmFsdWVzKCldLFxuICAgICh2KSA9PiBuZXcgU2V0KHYpXG4gICksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzTWFwLCBcIm1hcFwiLCAodikgPT4gWy4uLnYuZW50cmllcygpXSwgKHYpID0+IG5ldyBNYXAodikpLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbigodikgPT4gaXNOYU5WYWx1ZSh2KSB8fCBpc0luZmluaXRlKHYpLCBcIm51bWJlclwiLCAodikgPT4ge1xuICAgIGlmIChpc05hTlZhbHVlKHYpKSB7XG4gICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICB9XG4gICAgaWYgKHYgPiAwKSB7XG4gICAgICByZXR1cm4gXCJJbmZpbml0eVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCItSW5maW5pdHlcIjtcbiAgICB9XG4gIH0sIE51bWJlciksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKCh2KSA9PiB2ID09PSAwICYmIDEgLyB2ID09PSAtSW5maW5pdHksIFwibnVtYmVyXCIsICgpID0+IHtcbiAgICByZXR1cm4gXCItMFwiO1xuICB9LCBOdW1iZXIpLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc1VSTCwgXCJVUkxcIiwgKHYpID0+IHYudG9TdHJpbmcoKSwgKHYpID0+IG5ldyBVUkwodikpXG5dO1xuZnVuY3Rpb24gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oaXNBcHBsaWNhYmxlLCBhbm5vdGF0aW9uLCB0cmFuc2Zvcm0sIHVudHJhbnNmb3JtKSB7XG4gIHJldHVybiB7XG4gICAgaXNBcHBsaWNhYmxlLFxuICAgIGFubm90YXRpb24sXG4gICAgdHJhbnNmb3JtLFxuICAgIHVudHJhbnNmb3JtXG4gIH07XG59XG52YXIgc3ltYm9sUnVsZSA9IGNvbXBvc2l0ZVRyYW5zZm9ybWF0aW9uKChzLCBzdXBlckpzb24pID0+IHtcbiAgaWYgKGlzU3ltYm9sKHMpKSB7XG4gICAgY29uc3QgaXNSZWdpc3RlcmVkID0gISFzdXBlckpzb24uc3ltYm9sUmVnaXN0cnkuZ2V0SWRlbnRpZmllcihzKTtcbiAgICByZXR1cm4gaXNSZWdpc3RlcmVkO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0sIChzLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgaWRlbnRpZmllciA9IHN1cGVySnNvbi5zeW1ib2xSZWdpc3RyeS5nZXRJZGVudGlmaWVyKHMpO1xuICByZXR1cm4gW1wic3ltYm9sXCIsIGlkZW50aWZpZXJdO1xufSwgKHYpID0+IHYuZGVzY3JpcHRpb24sIChfLCBhLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgdmFsdWUgPSBzdXBlckpzb24uc3ltYm9sUmVnaXN0cnkuZ2V0VmFsdWUoYVsxXSk7XG4gIGlmICghdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gZGVzZXJpYWxpemUgdW5rbm93biBzeW1ib2xcIik7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufSk7XG52YXIgY29uc3RydWN0b3JUb05hbWUgPSBbXG4gIEludDhBcnJheSxcbiAgVWludDhBcnJheSxcbiAgSW50MTZBcnJheSxcbiAgVWludDE2QXJyYXksXG4gIEludDMyQXJyYXksXG4gIFVpbnQzMkFycmF5LFxuICBGbG9hdDMyQXJyYXksXG4gIEZsb2F0NjRBcnJheSxcbiAgVWludDhDbGFtcGVkQXJyYXlcbl0ucmVkdWNlKChvYmosIGN0b3IpID0+IHtcbiAgb2JqW2N0b3IubmFtZV0gPSBjdG9yO1xuICByZXR1cm4gb2JqO1xufSwge30pO1xudmFyIHR5cGVkQXJyYXlSdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oaXNUeXBlZEFycmF5LCAodikgPT4gW1widHlwZWQtYXJyYXlcIiwgdi5jb25zdHJ1Y3Rvci5uYW1lXSwgKHYpID0+IFsuLi52XSwgKHYsIGEpID0+IHtcbiAgY29uc3QgY3RvciA9IGNvbnN0cnVjdG9yVG9OYW1lW2FbMV1dO1xuICBpZiAoIWN0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gZGVzZXJpYWxpemUgdW5rbm93biB0eXBlZCBhcnJheVwiKTtcbiAgfVxuICByZXR1cm4gbmV3IGN0b3Iodik7XG59KTtcbmZ1bmN0aW9uIGlzSW5zdGFuY2VPZlJlZ2lzdGVyZWRDbGFzcyhwb3RlbnRpYWxDbGFzcywgc3VwZXJKc29uKSB7XG4gIGlmIChwb3RlbnRpYWxDbGFzcyA9PSBudWxsID8gdm9pZCAwIDogcG90ZW50aWFsQ2xhc3MuY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBpc1JlZ2lzdGVyZWQgPSAhIXN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldElkZW50aWZpZXIocG90ZW50aWFsQ2xhc3MuY29uc3RydWN0b3IpO1xuICAgIHJldHVybiBpc1JlZ2lzdGVyZWQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxudmFyIGNsYXNzUnVsZSA9IGNvbXBvc2l0ZVRyYW5zZm9ybWF0aW9uKGlzSW5zdGFuY2VPZlJlZ2lzdGVyZWRDbGFzcywgKGNsYXp6LCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgaWRlbnRpZmllciA9IHN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldElkZW50aWZpZXIoY2xhenouY29uc3RydWN0b3IpO1xuICByZXR1cm4gW1wiY2xhc3NcIiwgaWRlbnRpZmllcl07XG59LCAoY2xhenosIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCBhbGxvd2VkUHJvcHMgPSBzdXBlckpzb24uY2xhc3NSZWdpc3RyeS5nZXRBbGxvd2VkUHJvcHMoY2xhenouY29uc3RydWN0b3IpO1xuICBpZiAoIWFsbG93ZWRQcm9wcykge1xuICAgIHJldHVybiB7IC4uLmNsYXp6IH07XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGFsbG93ZWRQcm9wcy5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgcmVzdWx0W3Byb3BdID0gY2xhenpbcHJvcF07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSwgKHYsIGEsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCBjbGF6eiA9IHN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldFZhbHVlKGFbMV0pO1xuICBpZiAoIWNsYXp6KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUcnlpbmcgdG8gZGVzZXJpYWxpemUgdW5rbm93biBjbGFzcyAnJHthWzFdfScgLSBjaGVjayBodHRwczovL2dpdGh1Yi5jb20vYmxpdHotanMvc3VwZXJqc29uL2lzc3Vlcy8xMTYjaXNzdWVjb21tZW50LTc3Mzk5NjU2NGApO1xuICB9XG4gIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoY2xhenoucHJvdG90eXBlKSwgdik7XG59KTtcbnZhciBjdXN0b21SdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oKHZhbHVlLCBzdXBlckpzb24pID0+IHtcbiAgcmV0dXJuICEhc3VwZXJKc29uLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkuZmluZEFwcGxpY2FibGUodmFsdWUpO1xufSwgKHZhbHVlLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBzdXBlckpzb24uY3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeS5maW5kQXBwbGljYWJsZSh2YWx1ZSk7XG4gIHJldHVybiBbXCJjdXN0b21cIiwgdHJhbnNmb3JtZXIubmFtZV07XG59LCAodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1lciA9IHN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRBcHBsaWNhYmxlKHZhbHVlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybWVyLnNlcmlhbGl6ZSh2YWx1ZSk7XG59LCAodiwgYSwgc3VwZXJKc29uKSA9PiB7XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gc3VwZXJKc29uLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkuZmluZEJ5TmFtZShhWzFdKTtcbiAgaWYgKCF0cmFuc2Zvcm1lcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIGN1c3RvbSB2YWx1ZVwiKTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtZXIuZGVzZXJpYWxpemUodik7XG59KTtcbnZhciBjb21wb3NpdGVSdWxlcyA9IFtjbGFzc1J1bGUsIHN5bWJvbFJ1bGUsIGN1c3RvbVJ1bGUsIHR5cGVkQXJyYXlSdWxlXTtcbnZhciB0cmFuc2Zvcm1WYWx1ZSA9ICh2YWx1ZSwgc3VwZXJKc29uKSA9PiB7XG4gIGNvbnN0IGFwcGxpY2FibGVDb21wb3NpdGVSdWxlID0gZmluZEFycihjb21wb3NpdGVSdWxlcywgKHJ1bGUpID0+IHJ1bGUuaXNBcHBsaWNhYmxlKHZhbHVlLCBzdXBlckpzb24pKTtcbiAgaWYgKGFwcGxpY2FibGVDb21wb3NpdGVSdWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBhcHBsaWNhYmxlQ29tcG9zaXRlUnVsZS50cmFuc2Zvcm0odmFsdWUsIHN1cGVySnNvbiksXG4gICAgICB0eXBlOiBhcHBsaWNhYmxlQ29tcG9zaXRlUnVsZS5hbm5vdGF0aW9uKHZhbHVlLCBzdXBlckpzb24pXG4gICAgfTtcbiAgfVxuICBjb25zdCBhcHBsaWNhYmxlU2ltcGxlUnVsZSA9IGZpbmRBcnIoc2ltcGxlUnVsZXMsIChydWxlKSA9PiBydWxlLmlzQXBwbGljYWJsZSh2YWx1ZSwgc3VwZXJKc29uKSk7XG4gIGlmIChhcHBsaWNhYmxlU2ltcGxlUnVsZSkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogYXBwbGljYWJsZVNpbXBsZVJ1bGUudHJhbnNmb3JtKHZhbHVlLCBzdXBlckpzb24pLFxuICAgICAgdHlwZTogYXBwbGljYWJsZVNpbXBsZVJ1bGUuYW5ub3RhdGlvblxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn07XG52YXIgc2ltcGxlUnVsZXNCeUFubm90YXRpb24gPSB7fTtcbnNpbXBsZVJ1bGVzLmZvckVhY2goKHJ1bGUpID0+IHtcbiAgc2ltcGxlUnVsZXNCeUFubm90YXRpb25bcnVsZS5hbm5vdGF0aW9uXSA9IHJ1bGU7XG59KTtcbnZhciB1bnRyYW5zZm9ybVZhbHVlID0gKGpzb24sIHR5cGUsIHN1cGVySnNvbikgPT4ge1xuICBpZiAoaXNBcnJheSh0eXBlKSkge1xuICAgIHN3aXRjaCAodHlwZVswXSkge1xuICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICByZXR1cm4gc3ltYm9sUnVsZS51bnRyYW5zZm9ybShqc29uLCB0eXBlLCBzdXBlckpzb24pO1xuICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgIHJldHVybiBjbGFzc1J1bGUudW50cmFuc2Zvcm0oanNvbiwgdHlwZSwgc3VwZXJKc29uKTtcbiAgICAgIGNhc2UgXCJjdXN0b21cIjpcbiAgICAgICAgcmV0dXJuIGN1c3RvbVJ1bGUudW50cmFuc2Zvcm0oanNvbiwgdHlwZSwgc3VwZXJKc29uKTtcbiAgICAgIGNhc2UgXCJ0eXBlZC1hcnJheVwiOlxuICAgICAgICByZXR1cm4gdHlwZWRBcnJheVJ1bGUudW50cmFuc2Zvcm0oanNvbiwgdHlwZSwgc3VwZXJKc29uKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNmb3JtYXRpb246IFwiICsgdHlwZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gc2ltcGxlUnVsZXNCeUFubm90YXRpb25bdHlwZV07XG4gICAgaWYgKCF0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2Zvcm1hdGlvbjogXCIgKyB0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uLnVudHJhbnNmb3JtKGpzb24sIHN1cGVySnNvbik7XG4gIH1cbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L2FjY2Vzc0RlZXAuanNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgZ2V0TnRoS2V5ID0gKHZhbHVlLCBuKSA9PiB7XG4gIGlmIChuID4gdmFsdWUuc2l6ZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBvdXQgb2YgYm91bmRzXCIpO1xuICBjb25zdCBrZXlzID0gdmFsdWUua2V5cygpO1xuICB3aGlsZSAobiA+IDApIHtcbiAgICBrZXlzLm5leHQoKTtcbiAgICBuLS07XG4gIH1cbiAgcmV0dXJuIGtleXMubmV4dCgpLnZhbHVlO1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlUGF0aChwYXRoKSB7XG4gIGlmIChpbmNsdWRlcyhwYXRoLCBcIl9fcHJvdG9fX1wiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIl9fcHJvdG9fXyBpcyBub3QgYWxsb3dlZCBhcyBhIHByb3BlcnR5XCIpO1xuICB9XG4gIGlmIChpbmNsdWRlcyhwYXRoLCBcInByb3RvdHlwZVwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInByb3RvdHlwZSBpcyBub3QgYWxsb3dlZCBhcyBhIHByb3BlcnR5XCIpO1xuICB9XG4gIGlmIChpbmNsdWRlcyhwYXRoLCBcImNvbnN0cnVjdG9yXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29uc3RydWN0b3IgaXMgbm90IGFsbG93ZWQgYXMgYSBwcm9wZXJ0eVwiKTtcbiAgfVxufVxudmFyIGdldERlZXAgPSAob2JqZWN0LCBwYXRoKSA9PiB7XG4gIHZhbGlkYXRlUGF0aChwYXRoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0gcGF0aFtpXTtcbiAgICBpZiAoaXNTZXQob2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gZ2V0TnRoS2V5KG9iamVjdCwgK2tleSk7XG4gICAgfSBlbHNlIGlmIChpc01hcChvYmplY3QpKSB7XG4gICAgICBjb25zdCByb3cgPSAra2V5O1xuICAgICAgY29uc3QgdHlwZSA9ICtwYXRoWysraV0gPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgICAgY29uc3Qga2V5T2ZSb3cgPSBnZXROdGhLZXkob2JqZWN0LCByb3cpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJrZXlcIjpcbiAgICAgICAgICBvYmplY3QgPSBrZXlPZlJvdztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmdldChrZXlPZlJvdyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufTtcbnZhciBzZXREZWVwID0gKG9iamVjdCwgcGF0aCwgbWFwcGVyKSA9PiB7XG4gIHZhbGlkYXRlUGF0aChwYXRoKTtcbiAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG1hcHBlcihvYmplY3QpO1xuICB9XG4gIGxldCBwYXJlbnQgPSBvYmplY3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBwYXRoW2ldO1xuICAgIGlmIChpc0FycmF5KHBhcmVudCkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gK2tleTtcbiAgICAgIHBhcmVudCA9IHBhcmVudFtpbmRleF07XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0MihwYXJlbnQpKSB7XG4gICAgICBwYXJlbnQgPSBwYXJlbnRba2V5XTtcbiAgICB9IGVsc2UgaWYgKGlzU2V0KHBhcmVudCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9ICtrZXk7XG4gICAgICBwYXJlbnQgPSBnZXROdGhLZXkocGFyZW50LCByb3cpO1xuICAgIH0gZWxzZSBpZiAoaXNNYXAocGFyZW50KSkge1xuICAgICAgY29uc3QgaXNFbmQgPSBpID09PSBwYXRoLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoaXNFbmQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCByb3cgPSAra2V5O1xuICAgICAgY29uc3QgdHlwZSA9ICtwYXRoWysraV0gPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgICAgY29uc3Qga2V5T2ZSb3cgPSBnZXROdGhLZXkocGFyZW50LCByb3cpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJrZXlcIjpcbiAgICAgICAgICBwYXJlbnQgPSBrZXlPZlJvdztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50LmdldChrZXlPZlJvdyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGxhc3RLZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIGlmIChpc0FycmF5KHBhcmVudCkpIHtcbiAgICBwYXJlbnRbK2xhc3RLZXldID0gbWFwcGVyKHBhcmVudFsrbGFzdEtleV0pO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QyKHBhcmVudCkpIHtcbiAgICBwYXJlbnRbbGFzdEtleV0gPSBtYXBwZXIocGFyZW50W2xhc3RLZXldKTtcbiAgfVxuICBpZiAoaXNTZXQocGFyZW50KSkge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0TnRoS2V5KHBhcmVudCwgK2xhc3RLZXkpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gbWFwcGVyKG9sZFZhbHVlKTtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICBwYXJlbnQuZGVsZXRlKG9sZFZhbHVlKTtcbiAgICAgIHBhcmVudC5hZGQobmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNNYXAocGFyZW50KSkge1xuICAgIGNvbnN0IHJvdyA9ICtwYXRoW3BhdGgubGVuZ3RoIC0gMl07XG4gICAgY29uc3Qga2V5VG9Sb3cgPSBnZXROdGhLZXkocGFyZW50LCByb3cpO1xuICAgIGNvbnN0IHR5cGUgPSArbGFzdEtleSA9PT0gMCA/IFwia2V5XCIgOiBcInZhbHVlXCI7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwia2V5XCI6IHtcbiAgICAgICAgY29uc3QgbmV3S2V5ID0gbWFwcGVyKGtleVRvUm93KTtcbiAgICAgICAgcGFyZW50LnNldChuZXdLZXksIHBhcmVudC5nZXQoa2V5VG9Sb3cpKTtcbiAgICAgICAgaWYgKG5ld0tleSAhPT0ga2V5VG9Sb3cpIHtcbiAgICAgICAgICBwYXJlbnQuZGVsZXRlKGtleVRvUm93KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ2YWx1ZVwiOiB7XG4gICAgICAgIHBhcmVudC5zZXQoa2V5VG9Sb3csIG1hcHBlcihwYXJlbnQuZ2V0KGtleVRvUm93KSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdXBlcmpzb25AMi4yLjIvbm9kZV9tb2R1bGVzL3N1cGVyanNvbi9kaXN0L3BsYWluZXIuanNcbmZ1bmN0aW9uIHRyYXZlcnNlKHRyZWUsIHdhbGtlcjIsIG9yaWdpbiA9IFtdKSB7XG4gIGlmICghdHJlZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWlzQXJyYXkodHJlZSkpIHtcbiAgICBmb3JFYWNoKHRyZWUsIChzdWJ0cmVlLCBrZXkpID0+IHRyYXZlcnNlKHN1YnRyZWUsIHdhbGtlcjIsIFsuLi5vcmlnaW4sIC4uLnBhcnNlUGF0aChrZXkpXSkpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBbbm9kZVZhbHVlLCBjaGlsZHJlbl0gPSB0cmVlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBmb3JFYWNoKGNoaWxkcmVuLCAoY2hpbGQsIGtleSkgPT4ge1xuICAgICAgdHJhdmVyc2UoY2hpbGQsIHdhbGtlcjIsIFsuLi5vcmlnaW4sIC4uLnBhcnNlUGF0aChrZXkpXSk7XG4gICAgfSk7XG4gIH1cbiAgd2Fsa2VyMihub2RlVmFsdWUsIG9yaWdpbik7XG59XG5mdW5jdGlvbiBhcHBseVZhbHVlQW5ub3RhdGlvbnMocGxhaW4sIGFubm90YXRpb25zLCBzdXBlckpzb24pIHtcbiAgdHJhdmVyc2UoYW5ub3RhdGlvbnMsICh0eXBlLCBwYXRoKSA9PiB7XG4gICAgcGxhaW4gPSBzZXREZWVwKHBsYWluLCBwYXRoLCAodikgPT4gdW50cmFuc2Zvcm1WYWx1ZSh2LCB0eXBlLCBzdXBlckpzb24pKTtcbiAgfSk7XG4gIHJldHVybiBwbGFpbjtcbn1cbmZ1bmN0aW9uIGFwcGx5UmVmZXJlbnRpYWxFcXVhbGl0eUFubm90YXRpb25zKHBsYWluLCBhbm5vdGF0aW9ucykge1xuICBmdW5jdGlvbiBhcHBseShpZGVudGljYWxQYXRocywgcGF0aCkge1xuICAgIGNvbnN0IG9iamVjdCA9IGdldERlZXAocGxhaW4sIHBhcnNlUGF0aChwYXRoKSk7XG4gICAgaWRlbnRpY2FsUGF0aHMubWFwKHBhcnNlUGF0aCkuZm9yRWFjaCgoaWRlbnRpY2FsT2JqZWN0UGF0aCkgPT4ge1xuICAgICAgcGxhaW4gPSBzZXREZWVwKHBsYWluLCBpZGVudGljYWxPYmplY3RQYXRoLCAoKSA9PiBvYmplY3QpO1xuICAgIH0pO1xuICB9XG4gIGlmIChpc0FycmF5KGFubm90YXRpb25zKSkge1xuICAgIGNvbnN0IFtyb290LCBvdGhlcl0gPSBhbm5vdGF0aW9ucztcbiAgICByb290LmZvckVhY2goKGlkZW50aWNhbFBhdGgpID0+IHtcbiAgICAgIHBsYWluID0gc2V0RGVlcChwbGFpbiwgcGFyc2VQYXRoKGlkZW50aWNhbFBhdGgpLCAoKSA9PiBwbGFpbik7XG4gICAgfSk7XG4gICAgaWYgKG90aGVyKSB7XG4gICAgICBmb3JFYWNoKG90aGVyLCBhcHBseSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvckVhY2goYW5ub3RhdGlvbnMsIGFwcGx5KTtcbiAgfVxuICByZXR1cm4gcGxhaW47XG59XG52YXIgaXNEZWVwID0gKG9iamVjdCwgc3VwZXJKc29uKSA9PiBpc1BsYWluT2JqZWN0MihvYmplY3QpIHx8IGlzQXJyYXkob2JqZWN0KSB8fCBpc01hcChvYmplY3QpIHx8IGlzU2V0KG9iamVjdCkgfHwgaXNJbnN0YW5jZU9mUmVnaXN0ZXJlZENsYXNzKG9iamVjdCwgc3VwZXJKc29uKTtcbmZ1bmN0aW9uIGFkZElkZW50aXR5KG9iamVjdCwgcGF0aCwgaWRlbnRpdGllcykge1xuICBjb25zdCBleGlzdGluZ1NldCA9IGlkZW50aXRpZXMuZ2V0KG9iamVjdCk7XG4gIGlmIChleGlzdGluZ1NldCkge1xuICAgIGV4aXN0aW5nU2V0LnB1c2gocGF0aCk7XG4gIH0gZWxzZSB7XG4gICAgaWRlbnRpdGllcy5zZXQob2JqZWN0LCBbcGF0aF0pO1xuICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhpZGVudGl0aXRlcywgZGVkdXBlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBsZXQgcm9vdEVxdWFsaXR5UGF0aHMgPSB2b2lkIDA7XG4gIGlkZW50aXRpdGVzLmZvckVhY2goKHBhdGhzKSA9PiB7XG4gICAgaWYgKHBhdGhzLmxlbmd0aCA8PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZGVkdXBlKSB7XG4gICAgICBwYXRocyA9IHBhdGhzLm1hcCgocGF0aCkgPT4gcGF0aC5tYXAoU3RyaW5nKSkuc29ydCgoYSwgYikgPT4gYS5sZW5ndGggLSBiLmxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0IFtyZXByZXNlbnRhdGl2ZVBhdGgsIC4uLmlkZW50aWNhbFBhdGhzXSA9IHBhdGhzO1xuICAgIGlmIChyZXByZXNlbnRhdGl2ZVBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICByb290RXF1YWxpdHlQYXRocyA9IGlkZW50aWNhbFBhdGhzLm1hcChzdHJpbmdpZnlQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W3N0cmluZ2lmeVBhdGgocmVwcmVzZW50YXRpdmVQYXRoKV0gPSBpZGVudGljYWxQYXRocy5tYXAoc3RyaW5naWZ5UGF0aCk7XG4gICAgfVxuICB9KTtcbiAgaWYgKHJvb3RFcXVhbGl0eVBhdGhzKSB7XG4gICAgaWYgKGlzRW1wdHlPYmplY3QocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIFtyb290RXF1YWxpdHlQYXRoc107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbcm9vdEVxdWFsaXR5UGF0aHMsIHJlc3VsdF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBpc0VtcHR5T2JqZWN0KHJlc3VsdCkgPyB2b2lkIDAgOiByZXN1bHQ7XG4gIH1cbn1cbnZhciB3YWxrZXIgPSAob2JqZWN0LCBpZGVudGl0aWVzLCBzdXBlckpzb24sIGRlZHVwZSwgcGF0aCA9IFtdLCBvYmplY3RzSW5UaGlzUGF0aCA9IFtdLCBzZWVuT2JqZWN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpID0+IHtcbiAgdmFyIF9hMjU7XG4gIGNvbnN0IHByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlMihvYmplY3QpO1xuICBpZiAoIXByaW1pdGl2ZSkge1xuICAgIGFkZElkZW50aXR5KG9iamVjdCwgcGF0aCwgaWRlbnRpdGllcyk7XG4gICAgY29uc3Qgc2VlbiA9IHNlZW5PYmplY3RzLmdldChvYmplY3QpO1xuICAgIGlmIChzZWVuKSB7XG4gICAgICByZXR1cm4gZGVkdXBlID8ge1xuICAgICAgICB0cmFuc2Zvcm1lZFZhbHVlOiBudWxsXG4gICAgICB9IDogc2VlbjtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc0RlZXAob2JqZWN0LCBzdXBlckpzb24pKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZWQyID0gdHJhbnNmb3JtVmFsdWUob2JqZWN0LCBzdXBlckpzb24pO1xuICAgIGNvbnN0IHJlc3VsdDIgPSB0cmFuc2Zvcm1lZDIgPyB7XG4gICAgICB0cmFuc2Zvcm1lZFZhbHVlOiB0cmFuc2Zvcm1lZDIudmFsdWUsXG4gICAgICBhbm5vdGF0aW9uczogW3RyYW5zZm9ybWVkMi50eXBlXVxuICAgIH0gOiB7XG4gICAgICB0cmFuc2Zvcm1lZFZhbHVlOiBvYmplY3RcbiAgICB9O1xuICAgIGlmICghcHJpbWl0aXZlKSB7XG4gICAgICBzZWVuT2JqZWN0cy5zZXQob2JqZWN0LCByZXN1bHQyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDI7XG4gIH1cbiAgaWYgKGluY2x1ZGVzKG9iamVjdHNJblRoaXNQYXRoLCBvYmplY3QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zZm9ybWVkVmFsdWU6IG51bGxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHRyYW5zZm9ybWF0aW9uUmVzdWx0ID0gdHJhbnNmb3JtVmFsdWUob2JqZWN0LCBzdXBlckpzb24pO1xuICBjb25zdCB0cmFuc2Zvcm1lZCA9IChfYTI1ID0gdHJhbnNmb3JtYXRpb25SZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zZm9ybWF0aW9uUmVzdWx0LnZhbHVlKSAhPSBudWxsID8gX2EyNSA6IG9iamVjdDtcbiAgY29uc3QgdHJhbnNmb3JtZWRWYWx1ZSA9IGlzQXJyYXkodHJhbnNmb3JtZWQpID8gW10gOiB7fTtcbiAgY29uc3QgaW5uZXJBbm5vdGF0aW9ucyA9IHt9O1xuICBmb3JFYWNoKHRyYW5zZm9ybWVkLCAodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSBcIl9fcHJvdG9fX1wiIHx8IGluZGV4ID09PSBcImNvbnN0cnVjdG9yXCIgfHwgaW5kZXggPT09IFwicHJvdG90eXBlXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGV0ZWN0ZWQgcHJvcGVydHkgJHtpbmRleH0uIFRoaXMgaXMgYSBwcm90b3R5cGUgcG9sbHV0aW9uIHJpc2ssIHBsZWFzZSByZW1vdmUgaXQgZnJvbSB5b3VyIG9iamVjdC5gKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdXJzaXZlUmVzdWx0ID0gd2Fsa2VyKHZhbHVlLCBpZGVudGl0aWVzLCBzdXBlckpzb24sIGRlZHVwZSwgWy4uLnBhdGgsIGluZGV4XSwgWy4uLm9iamVjdHNJblRoaXNQYXRoLCBvYmplY3RdLCBzZWVuT2JqZWN0cyk7XG4gICAgdHJhbnNmb3JtZWRWYWx1ZVtpbmRleF0gPSByZWN1cnNpdmVSZXN1bHQudHJhbnNmb3JtZWRWYWx1ZTtcbiAgICBpZiAoaXNBcnJheShyZWN1cnNpdmVSZXN1bHQuYW5ub3RhdGlvbnMpKSB7XG4gICAgICBpbm5lckFubm90YXRpb25zW2luZGV4XSA9IHJlY3Vyc2l2ZVJlc3VsdC5hbm5vdGF0aW9ucztcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QyKHJlY3Vyc2l2ZVJlc3VsdC5hbm5vdGF0aW9ucykpIHtcbiAgICAgIGZvckVhY2gocmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zLCAodHJlZSwga2V5KSA9PiB7XG4gICAgICAgIGlubmVyQW5ub3RhdGlvbnNbZXNjYXBlS2V5KGluZGV4KSArIFwiLlwiICsga2V5XSA9IHRyZWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZXN1bHQgPSBpc0VtcHR5T2JqZWN0KGlubmVyQW5ub3RhdGlvbnMpID8ge1xuICAgIHRyYW5zZm9ybWVkVmFsdWUsXG4gICAgYW5ub3RhdGlvbnM6ICEhdHJhbnNmb3JtYXRpb25SZXN1bHQgPyBbdHJhbnNmb3JtYXRpb25SZXN1bHQudHlwZV0gOiB2b2lkIDBcbiAgfSA6IHtcbiAgICB0cmFuc2Zvcm1lZFZhbHVlLFxuICAgIGFubm90YXRpb25zOiAhIXRyYW5zZm9ybWF0aW9uUmVzdWx0ID8gW3RyYW5zZm9ybWF0aW9uUmVzdWx0LnR5cGUsIGlubmVyQW5ub3RhdGlvbnNdIDogaW5uZXJBbm5vdGF0aW9uc1xuICB9O1xuICBpZiAoIXByaW1pdGl2ZSkge1xuICAgIHNlZW5PYmplY3RzLnNldChvYmplY3QsIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9jb3B5LWFueXRoaW5nQDMuMC41L25vZGVfbW9kdWxlcy9jb3B5LWFueXRoaW5nL2Rpc3QvaW5kZXguanNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9pcy13aGF0QDQuMS4xNi9ub2RlX21vZHVsZXMvaXMtd2hhdC9kaXN0L2luZGV4LmpzXG5pbml0X2VzbV9zaGltcygpO1xuZnVuY3Rpb24gZ2V0VHlwZTIocGF5bG9hZCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBheWxvYWQpLnNsaWNlKDgsIC0xKTtcbn1cbmZ1bmN0aW9uIGlzQXJyYXkyKHBheWxvYWQpIHtcbiAgcmV0dXJuIGdldFR5cGUyKHBheWxvYWQpID09PSBcIkFycmF5XCI7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0MyhwYXlsb2FkKSB7XG4gIGlmIChnZXRUeXBlMihwYXlsb2FkKSAhPT0gXCJPYmplY3RcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXlsb2FkKTtcbiAgcmV0dXJuICEhcHJvdG90eXBlICYmIHByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cbmZ1bmN0aW9uIGlzTnVsbDIocGF5bG9hZCkge1xuICByZXR1cm4gZ2V0VHlwZTIocGF5bG9hZCkgPT09IFwiTnVsbFwiO1xufVxuZnVuY3Rpb24gaXNPbmVPZihhLCBiLCBjLCBkLCBlKSB7XG4gIHJldHVybiAodmFsdWUpID0+IGEodmFsdWUpIHx8IGIodmFsdWUpIHx8ICEhYyAmJiBjKHZhbHVlKSB8fCAhIWQgJiYgZCh2YWx1ZSkgfHwgISFlICYmIGUodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNVbmRlZmluZWQyKHBheWxvYWQpIHtcbiAgcmV0dXJuIGdldFR5cGUyKHBheWxvYWQpID09PSBcIlVuZGVmaW5lZFwiO1xufVxudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gaXNPbmVPZihpc051bGwyLCBpc1VuZGVmaW5lZDIpO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vY29weS1hbnl0aGluZ0AzLjAuNS9ub2RlX21vZHVsZXMvY29weS1hbnl0aGluZy9kaXN0L2luZGV4LmpzXG5mdW5jdGlvbiBhc3NpZ25Qcm9wKGNhcnJ5LCBrZXksIG5ld1ZhbCwgb3JpZ2luYWxPYmplY3QsIGluY2x1ZGVOb25lbnVtZXJhYmxlKSB7XG4gIGNvbnN0IHByb3BUeXBlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvcmlnaW5hbE9iamVjdCwga2V5KSA/IFwiZW51bWVyYWJsZVwiIDogXCJub25lbnVtZXJhYmxlXCI7XG4gIGlmIChwcm9wVHlwZSA9PT0gXCJlbnVtZXJhYmxlXCIpXG4gICAgY2Fycnlba2V5XSA9IG5ld1ZhbDtcbiAgaWYgKGluY2x1ZGVOb25lbnVtZXJhYmxlICYmIHByb3BUeXBlID09PSBcIm5vbmVudW1lcmFibGVcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYXJyeSwga2V5LCB7XG4gICAgICB2YWx1ZTogbmV3VmFsLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBjb3B5KHRhcmdldDIyLCBvcHRpb25zID0ge30pIHtcbiAgaWYgKGlzQXJyYXkyKHRhcmdldDIyKSkge1xuICAgIHJldHVybiB0YXJnZXQyMi5tYXAoKGl0ZW0pID0+IGNvcHkoaXRlbSwgb3B0aW9ucykpO1xuICB9XG4gIGlmICghaXNQbGFpbk9iamVjdDModGFyZ2V0MjIpKSB7XG4gICAgcmV0dXJuIHRhcmdldDIyO1xuICB9XG4gIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0MjIpO1xuICBjb25zdCBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQyMik7XG4gIHJldHVybiBbLi4ucHJvcHMsIC4uLnN5bWJvbHNdLnJlZHVjZSgoY2FycnksIGtleSkgPT4ge1xuICAgIGlmIChpc0FycmF5MihvcHRpb25zLnByb3BzKSAmJiAhb3B0aW9ucy5wcm9wcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2Fycnk7XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHRhcmdldDIyW2tleV07XG4gICAgY29uc3QgbmV3VmFsID0gY29weSh2YWwsIG9wdGlvbnMpO1xuICAgIGFzc2lnblByb3AoY2FycnksIGtleSwgbmV3VmFsLCB0YXJnZXQyMiwgb3B0aW9ucy5ub25lbnVtZXJhYmxlKTtcbiAgICByZXR1cm4gY2Fycnk7XG4gIH0sIHt9KTtcbn1cblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N1cGVyanNvbkAyLjIuMi9ub2RlX21vZHVsZXMvc3VwZXJqc29uL2Rpc3QvaW5kZXguanNcbnZhciBTdXBlckpTT04gPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gZGVkdXBlUmVmZXJlbnRpYWxFcXVhbGl0aWVzICBJZiB0cnVlLCBTdXBlckpTT04gd2lsbCBtYWtlIHN1cmUgb25seSBvbmUgaW5zdGFuY2Ugb2YgcmVmZXJlbnRpYWxseSBlcXVhbCBvYmplY3RzIGFyZSBzZXJpYWxpemVkIGFuZCB0aGUgcmVzdCBhcmUgcmVwbGFjZWQgd2l0aCBgbnVsbGAuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGRlZHVwZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIHRoaXMuY2xhc3NSZWdpc3RyeSA9IG5ldyBDbGFzc1JlZ2lzdHJ5KCk7XG4gICAgdGhpcy5zeW1ib2xSZWdpc3RyeSA9IG5ldyBSZWdpc3RyeSgocykgPT4ge1xuICAgICAgdmFyIF9hMjU7XG4gICAgICByZXR1cm4gKF9hMjUgPSBzLmRlc2NyaXB0aW9uKSAhPSBudWxsID8gX2EyNSA6IFwiXCI7XG4gICAgfSk7XG4gICAgdGhpcy5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5ID0gbmV3IEN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkoKTtcbiAgICB0aGlzLmFsbG93ZWRFcnJvclByb3BzID0gW107XG4gICAgdGhpcy5kZWR1cGUgPSBkZWR1cGU7XG4gIH1cbiAgc2VyaWFsaXplKG9iamVjdCkge1xuICAgIGNvbnN0IGlkZW50aXRpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IG91dHB1dCA9IHdhbGtlcihvYmplY3QsIGlkZW50aXRpZXMsIHRoaXMsIHRoaXMuZGVkdXBlKTtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICBqc29uOiBvdXRwdXQudHJhbnNmb3JtZWRWYWx1ZVxuICAgIH07XG4gICAgaWYgKG91dHB1dC5hbm5vdGF0aW9ucykge1xuICAgICAgcmVzLm1ldGEgPSB7XG4gICAgICAgIC4uLnJlcy5tZXRhLFxuICAgICAgICB2YWx1ZXM6IG91dHB1dC5hbm5vdGF0aW9uc1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZXF1YWxpdHlBbm5vdGF0aW9ucyA9IGdlbmVyYXRlUmVmZXJlbnRpYWxFcXVhbGl0eUFubm90YXRpb25zKGlkZW50aXRpZXMsIHRoaXMuZGVkdXBlKTtcbiAgICBpZiAoZXF1YWxpdHlBbm5vdGF0aW9ucykge1xuICAgICAgcmVzLm1ldGEgPSB7XG4gICAgICAgIC4uLnJlcy5tZXRhLFxuICAgICAgICByZWZlcmVudGlhbEVxdWFsaXRpZXM6IGVxdWFsaXR5QW5ub3RhdGlvbnNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZGVzZXJpYWxpemUocGF5bG9hZCkge1xuICAgIGNvbnN0IHsganNvbiwgbWV0YSB9ID0gcGF5bG9hZDtcbiAgICBsZXQgcmVzdWx0ID0gY29weShqc29uKTtcbiAgICBpZiAobWV0YSA9PSBudWxsID8gdm9pZCAwIDogbWV0YS52YWx1ZXMpIHtcbiAgICAgIHJlc3VsdCA9IGFwcGx5VmFsdWVBbm5vdGF0aW9ucyhyZXN1bHQsIG1ldGEudmFsdWVzLCB0aGlzKTtcbiAgICB9XG4gICAgaWYgKG1ldGEgPT0gbnVsbCA/IHZvaWQgMCA6IG1ldGEucmVmZXJlbnRpYWxFcXVhbGl0aWVzKSB7XG4gICAgICByZXN1bHQgPSBhcHBseVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhyZXN1bHQsIG1ldGEucmVmZXJlbnRpYWxFcXVhbGl0aWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzdHJpbmdpZnkob2JqZWN0KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuc2VyaWFsaXplKG9iamVjdCkpO1xuICB9XG4gIHBhcnNlKHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRlc2VyaWFsaXplKEpTT04ucGFyc2Uoc3RyaW5nKSk7XG4gIH1cbiAgcmVnaXN0ZXJDbGFzcyh2LCBvcHRpb25zKSB7XG4gICAgdGhpcy5jbGFzc1JlZ2lzdHJ5LnJlZ2lzdGVyKHYsIG9wdGlvbnMpO1xuICB9XG4gIHJlZ2lzdGVyU3ltYm9sKHYsIGlkZW50aWZpZXIpIHtcbiAgICB0aGlzLnN5bWJvbFJlZ2lzdHJ5LnJlZ2lzdGVyKHYsIGlkZW50aWZpZXIpO1xuICB9XG4gIHJlZ2lzdGVyQ3VzdG9tKHRyYW5zZm9ybWVyLCBuYW1lKSB7XG4gICAgdGhpcy5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LnJlZ2lzdGVyKHtcbiAgICAgIG5hbWUsXG4gICAgICAuLi50cmFuc2Zvcm1lclxuICAgIH0pO1xuICB9XG4gIGFsbG93RXJyb3JQcm9wcyguLi5wcm9wcykge1xuICAgIHRoaXMuYWxsb3dlZEVycm9yUHJvcHMucHVzaCguLi5wcm9wcyk7XG4gIH1cbn07XG5TdXBlckpTT04uZGVmYXVsdEluc3RhbmNlID0gbmV3IFN1cGVySlNPTigpO1xuU3VwZXJKU09OLnNlcmlhbGl6ZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2Uuc2VyaWFsaXplLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uZGVzZXJpYWxpemUgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLmRlc2VyaWFsaXplLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uc3RyaW5naWZ5ID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5zdHJpbmdpZnkuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcblN1cGVySlNPTi5wYXJzZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UucGFyc2UuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcblN1cGVySlNPTi5yZWdpc3RlckNsYXNzID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5yZWdpc3RlckNsYXNzLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04ucmVnaXN0ZXJTeW1ib2wgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnJlZ2lzdGVyU3ltYm9sLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04ucmVnaXN0ZXJDdXN0b20gPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnJlZ2lzdGVyQ3VzdG9tLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uYWxsb3dFcnJvclByb3BzID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5hbGxvd0Vycm9yUHJvcHMuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcbnZhciBzZXJpYWxpemUgPSBTdXBlckpTT04uc2VyaWFsaXplO1xudmFyIGRlc2VyaWFsaXplID0gU3VwZXJKU09OLmRlc2VyaWFsaXplO1xudmFyIHN0cmluZ2lmeSA9IFN1cGVySlNPTi5zdHJpbmdpZnk7XG52YXIgcGFyc2UgPSBTdXBlckpTT04ucGFyc2U7XG52YXIgcmVnaXN0ZXJDbGFzcyA9IFN1cGVySlNPTi5yZWdpc3RlckNsYXNzO1xudmFyIHJlZ2lzdGVyQ3VzdG9tID0gU3VwZXJKU09OLnJlZ2lzdGVyQ3VzdG9tO1xudmFyIHJlZ2lzdGVyU3ltYm9sID0gU3VwZXJKU09OLnJlZ2lzdGVyU3ltYm9sO1xudmFyIGFsbG93RXJyb3JQcm9wcyA9IFN1cGVySlNPTi5hbGxvd0Vycm9yUHJvcHM7XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9icm9hZGNhc3QtY2hhbm5lbC9jb250ZXh0LnRzXG5pbml0X2VzbV9zaGltcygpO1xudmFyIF9fREVWVE9PTFNfS0lUX0JST0FEQ0FTVF9NRVNTQUdJTkdfRVZFTlRfS0VZID0gXCJfX2RldnRvb2xzLWtpdC1icm9hZGNhc3QtbWVzc2FnaW5nLWV2ZW50LWtleV9fXCI7XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9icm9hZGNhc3QtY2hhbm5lbC9pbmRleC50c1xudmFyIEJST0FEQ0FTVF9DSEFOTkVMX05BTUUgPSBcIl9fZGV2dG9vbHMta2l0OmJyb2FkY2FzdC1jaGFubmVsX19cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJyb2FkY2FzdENoYW5uZWwoKSB7XG4gIGNvbnN0IGNoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChCUk9BRENBU1RfQ0hBTk5FTF9OQU1FKTtcbiAgcmV0dXJuIHtcbiAgICBwb3N0OiAoZGF0YSkgPT4ge1xuICAgICAgY2hhbm5lbC5wb3N0TWVzc2FnZShTdXBlckpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZXZlbnQ6IF9fREVWVE9PTFNfS0lUX0JST0FEQ0FTVF9NRVNTQUdJTkdfRVZFTlRfS0VZLFxuICAgICAgICBkYXRhXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICAgIGNoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IFN1cGVySlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgaWYgKHBhcnNlZC5ldmVudCA9PT0gX19ERVZUT09MU19LSVRfQlJPQURDQVNUX01FU1NBR0lOR19FVkVOVF9LRVkpIHtcbiAgICAgICAgICBoYW5kbGVyKHBhcnNlZC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9lbGVjdHJvbi9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2VsZWN0cm9uL2NsaWVudC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2VsZWN0cm9uL2NvbnRleHQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0MTYgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbnZhciBfX0VMRUNUUk9OX0NMSUVOVF9DT05URVhUX18gPSBcImVsZWN0cm9uOmNsaWVudC1jb250ZXh0XCI7XG52YXIgX19FTEVDVFJPTl9SUE9YWV9DT05URVhUX18gPSBcImVsZWN0cm9uOnByb3h5LWNvbnRleHRcIjtcbnZhciBfX0VMRUNUUk9OX1NFUlZFUl9DT05URVhUX18gPSBcImVsZWN0cm9uOnNlcnZlci1jb250ZXh0XCI7XG52YXIgX19ERVZUT09MU19LSVRfRUxFQ1RST05fTUVTU0FHSU5HX0VWRU5UX0tFWV9fID0ge1xuICAvLyBjbGllbnRcbiAgQ0xJRU5UX1RPX1BST1hZOiBcImNsaWVudC0+cHJveHlcIixcbiAgLy8gb246IHByb3h5LT5jbGllbnRcbiAgLy8gcHJveHlcbiAgUFJPWFlfVE9fQ0xJRU5UOiBcInByb3h5LT5jbGllbnRcIixcbiAgLy8gb246IHNlcnZlci0+cHJveHlcbiAgUFJPWFlfVE9fU0VSVkVSOiBcInByb3h5LT5zZXJ2ZXJcIixcbiAgLy8gb246IGNsaWVudC0+cHJveHlcbiAgLy8gc2VydmVyXG4gIFNFUlZFUl9UT19QUk9YWTogXCJzZXJ2ZXItPnByb3h5XCJcbiAgLy8gb246IHByb3h5LT5zZXJ2ZXJcbn07XG5mdW5jdGlvbiBnZXRFbGVjdHJvbkNsaWVudENvbnRleHQoKSB7XG4gIHJldHVybiB0YXJnZXQxNltfX0VMRUNUUk9OX0NMSUVOVF9DT05URVhUX19dO1xufVxuZnVuY3Rpb24gc2V0RWxlY3Ryb25DbGllbnRDb250ZXh0KGNvbnRleHQpIHtcbiAgdGFyZ2V0MTZbX19FTEVDVFJPTl9DTElFTlRfQ09OVEVYVF9fXSA9IGNvbnRleHQ7XG59XG5mdW5jdGlvbiBnZXRFbGVjdHJvblByb3h5Q29udGV4dCgpIHtcbiAgcmV0dXJuIHRhcmdldDE2W19fRUxFQ1RST05fUlBPWFlfQ09OVEVYVF9fXTtcbn1cbmZ1bmN0aW9uIHNldEVsZWN0cm9uUHJveHlDb250ZXh0KGNvbnRleHQpIHtcbiAgdGFyZ2V0MTZbX19FTEVDVFJPTl9SUE9YWV9DT05URVhUX19dID0gY29udGV4dDtcbn1cbmZ1bmN0aW9uIGdldEVsZWN0cm9uU2VydmVyQ29udGV4dCgpIHtcbiAgcmV0dXJuIHRhcmdldDE2W19fRUxFQ1RST05fU0VSVkVSX0NPTlRFWFRfX107XG59XG5mdW5jdGlvbiBzZXRFbGVjdHJvblNlcnZlckNvbnRleHQoY29udGV4dCkge1xuICB0YXJnZXQxNltfX0VMRUNUUk9OX1NFUlZFUl9DT05URVhUX19dID0gY29udGV4dDtcbn1cblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2VsZWN0cm9uL2NsaWVudC50c1xuZnVuY3Rpb24gY3JlYXRlRWxlY3Ryb25DbGllbnRDaGFubmVsKCkge1xuICBjb25zdCBzb2NrZXQgPSBnZXRFbGVjdHJvbkNsaWVudENvbnRleHQoKTtcbiAgcmV0dXJuIHtcbiAgICBwb3N0OiAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmVtaXQoX19ERVZUT09MU19LSVRfRUxFQ1RST05fTUVTU0FHSU5HX0VWRU5UX0tFWV9fLkNMSUVOVF9UT19QUk9YWSwgU3VwZXJKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICAgIHNvY2tldC5vbihfX0RFVlRPT0xTX0tJVF9FTEVDVFJPTl9NRVNTQUdJTkdfRVZFTlRfS0VZX18uUFJPWFlfVE9fQ0xJRU5ULCAoZSkgPT4ge1xuICAgICAgICBoYW5kbGVyKFN1cGVySlNPTi5wYXJzZShlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9lbGVjdHJvbi9wcm94eS50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmZ1bmN0aW9uIGNyZWF0ZUVsZWN0cm9uUHJveHlDaGFubmVsKCkge1xuICBjb25zdCBzb2NrZXQgPSBnZXRFbGVjdHJvblByb3h5Q29udGV4dCgpO1xuICByZXR1cm4ge1xuICAgIHBvc3Q6IChkYXRhKSA9PiB7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICAgIHNvY2tldC5vbihfX0RFVlRPT0xTX0tJVF9FTEVDVFJPTl9NRVNTQUdJTkdfRVZFTlRfS0VZX18uU0VSVkVSX1RPX1BST1hZLCAoZGF0YSkgPT4ge1xuICAgICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoX19ERVZUT09MU19LSVRfRUxFQ1RST05fTUVTU0FHSU5HX0VWRU5UX0tFWV9fLlBST1hZX1RPX0NMSUVOVCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIHNvY2tldC5vbihfX0RFVlRPT0xTX0tJVF9FTEVDVFJPTl9NRVNTQUdJTkdfRVZFTlRfS0VZX18uQ0xJRU5UX1RPX1BST1hZLCAoZGF0YSkgPT4ge1xuICAgICAgICBzb2NrZXQuYnJvYWRjYXN0LmVtaXQoX19ERVZUT09MU19LSVRfRUxFQ1RST05fTUVTU0FHSU5HX0VWRU5UX0tFWV9fLlBST1hZX1RPX1NFUlZFUiwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9lbGVjdHJvbi9zZXJ2ZXIudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5mdW5jdGlvbiBjcmVhdGVFbGVjdHJvblNlcnZlckNoYW5uZWwoKSB7XG4gIGNvbnN0IHNvY2tldCA9IGdldEVsZWN0cm9uU2VydmVyQ29udGV4dCgpO1xuICByZXR1cm4ge1xuICAgIHBvc3Q6IChkYXRhKSA9PiB7XG4gICAgICBzb2NrZXQuZW1pdChfX0RFVlRPT0xTX0tJVF9FTEVDVFJPTl9NRVNTQUdJTkdfRVZFTlRfS0VZX18uU0VSVkVSX1RPX1BST1hZLCBTdXBlckpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICB9LFxuICAgIG9uOiAoaGFuZGxlcikgPT4ge1xuICAgICAgc29ja2V0Lm9uKF9fREVWVE9PTFNfS0lUX0VMRUNUUk9OX01FU1NBR0lOR19FVkVOVF9LRVlfXy5QUk9YWV9UT19TRVJWRVIsIChkYXRhKSA9PiB7XG4gICAgICAgIGhhbmRsZXIoU3VwZXJKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2V4dGVuc2lvbi9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2V4dGVuc2lvbi9jbGllbnQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9leHRlbnNpb24vY29udGV4dC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQxNyB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xudmFyIF9fRVhURU5TSU9OX0NMSUVOVF9DT05URVhUX18gPSBcImVsZWN0cm9uOmNsaWVudC1jb250ZXh0XCI7XG52YXIgX19ERVZUT09MU19LSVRfRVhURU5TSU9OX01FU1NBR0lOR19FVkVOVF9LRVlfXyA9IHtcbiAgLy8gY2xpZW50XG4gIENMSUVOVF9UT19QUk9YWTogXCJjbGllbnQtPnByb3h5XCIsXG4gIC8vIG9uOiBwcm94eS0+Y2xpZW50XG4gIC8vIHByb3h5XG4gIFBST1hZX1RPX0NMSUVOVDogXCJwcm94eS0+Y2xpZW50XCIsXG4gIC8vIG9uOiBzZXJ2ZXItPnByb3h5XG4gIFBST1hZX1RPX1NFUlZFUjogXCJwcm94eS0+c2VydmVyXCIsXG4gIC8vIG9uOiBjbGllbnQtPnByb3h5XG4gIC8vIHNlcnZlclxuICBTRVJWRVJfVE9fUFJPWFk6IFwic2VydmVyLT5wcm94eVwiXG4gIC8vIG9uOiBwcm94eS0+c2VydmVyXG59O1xuZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uQ2xpZW50Q29udGV4dCgpIHtcbiAgcmV0dXJuIHRhcmdldDE3W19fRVhURU5TSU9OX0NMSUVOVF9DT05URVhUX19dO1xufVxuZnVuY3Rpb24gc2V0RXh0ZW5zaW9uQ2xpZW50Q29udGV4dChjb250ZXh0KSB7XG4gIHRhcmdldDE3W19fRVhURU5TSU9OX0NMSUVOVF9DT05URVhUX19dID0gY29udGV4dDtcbn1cblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2V4dGVuc2lvbi9jbGllbnQudHNcbmZ1bmN0aW9uIGNyZWF0ZUV4dGVuc2lvbkNsaWVudENoYW5uZWwoKSB7XG4gIGxldCBkaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgbGV0IHBvcnQgPSBudWxsO1xuICBsZXQgcmVjb25uZWN0VGltZXIgPSBudWxsO1xuICBsZXQgb25NZXNzYWdlSGFuZGxlciA9IG51bGw7XG4gIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lcik7XG4gICAgICBwb3J0ID0gY2hyb21lLnJ1bnRpbWUuY29ubmVjdCh7XG4gICAgICAgIG5hbWU6IGAke2Nocm9tZS5kZXZ0b29scy5pbnNwZWN0ZWRXaW5kb3cudGFiSWR9YFxuICAgICAgfSk7XG4gICAgICBzZXRFeHRlbnNpb25DbGllbnRDb250ZXh0KHBvcnQpO1xuICAgICAgZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICBwb3J0ID09IG51bGwgPyB2b2lkIDAgOiBwb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihvbk1lc3NhZ2VIYW5kbGVyKTtcbiAgICAgIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgcG9ydCA9PSBudWxsID8gdm9pZCAwIDogcG9ydC5vbk1lc3NhZ2UucmVtb3ZlTGlzdGVuZXIob25NZXNzYWdlSGFuZGxlcik7XG4gICAgICAgIHJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChjb25uZWN0LCAxZTMpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdCgpO1xuICByZXR1cm4ge1xuICAgIHBvc3Q6IChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGlzY29ubmVjdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBvcnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBvcnQucG9zdE1lc3NhZ2UoU3VwZXJKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICAgIG9uTWVzc2FnZUhhbmRsZXIgPSAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZGlzY29ubmVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXIoU3VwZXJKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgIH07XG4gICAgICBwb3J0ID09IG51bGwgPyB2b2lkIDAgOiBwb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihvbk1lc3NhZ2VIYW5kbGVyKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9leHRlbnNpb24vcHJveHkudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5mdW5jdGlvbiBjcmVhdGVFeHRlbnNpb25Qcm94eUNoYW5uZWwoKSB7XG4gIGNvbnN0IHBvcnQgPSBjaHJvbWUucnVudGltZS5jb25uZWN0KHtcbiAgICBuYW1lOiBcImNvbnRlbnQtc2NyaXB0XCJcbiAgfSk7XG4gIGZ1bmN0aW9uIHNlbmRNZXNzYWdlVG9Vc2VyQXBwKHBheWxvYWQpIHtcbiAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgc291cmNlOiBfX0RFVlRPT0xTX0tJVF9FWFRFTlNJT05fTUVTU0FHSU5HX0VWRU5UX0tFWV9fLlBST1hZX1RPX1NFUlZFUixcbiAgICAgIHBheWxvYWRcbiAgICB9LCBcIipcIik7XG4gIH1cbiAgZnVuY3Rpb24gc2VuZE1lc3NhZ2VUb0RldlRvb2xzQ2xpZW50KGUpIHtcbiAgICBpZiAoZS5kYXRhICYmIGUuZGF0YS5zb3VyY2UgPT09IF9fREVWVE9PTFNfS0lUX0VYVEVOU0lPTl9NRVNTQUdJTkdfRVZFTlRfS0VZX18uU0VSVkVSX1RPX1BST1hZKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwb3J0LnBvc3RNZXNzYWdlKGUuZGF0YS5wYXlsb2FkKTtcbiAgICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKHNlbmRNZXNzYWdlVG9Vc2VyQXBwKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHNlbmRNZXNzYWdlVG9EZXZUb29sc0NsaWVudCk7XG4gIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKCgpID0+IHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgc2VuZE1lc3NhZ2VUb0RldlRvb2xzQ2xpZW50KTtcbiAgICBzZW5kTWVzc2FnZVRvVXNlckFwcChTdXBlckpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGV2ZW50OiBcInNodXRkb3duXCJcbiAgICB9KSk7XG4gIH0pO1xuICBzZW5kTWVzc2FnZVRvVXNlckFwcChTdXBlckpTT04uc3RyaW5naWZ5KHtcbiAgICBldmVudDogXCJpbml0XCJcbiAgfSkpO1xuICByZXR1cm4ge1xuICAgIHBvc3Q6IChkYXRhKSA9PiB7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9leHRlbnNpb24vc2VydmVyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuZnVuY3Rpb24gY3JlYXRlRXh0ZW5zaW9uU2VydmVyQ2hhbm5lbCgpIHtcbiAgcmV0dXJuIHtcbiAgICBwb3N0OiAoZGF0YSkgPT4ge1xuICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgc291cmNlOiBfX0RFVlRPT0xTX0tJVF9FWFRFTlNJT05fTUVTU0FHSU5HX0VWRU5UX0tFWV9fLlNFUlZFUl9UT19QUk9YWSxcbiAgICAgICAgcGF5bG9hZDogU3VwZXJKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSwgXCIqXCIpO1xuICAgIH0sXG4gICAgb246IChoYW5kbGVyKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5zb3VyY2UgPT09IF9fREVWVE9PTFNfS0lUX0VYVEVOU0lPTl9NRVNTQUdJTkdfRVZFTlRfS0VZX18uUFJPWFlfVE9fU0VSVkVSICYmIGV2ZW50LmRhdGEucGF5bG9hZCkge1xuICAgICAgICAgIGhhbmRsZXIoU3VwZXJKU09OLnBhcnNlKGV2ZW50LmRhdGEucGF5bG9hZCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBsaXN0ZW5lcik7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2lmcmFtZS9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2lmcmFtZS9jbGllbnQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgYXMgaXNCcm93c2VyMyB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xuXG4vLyBzcmMvbWVzc2FnaW5nL3ByZXNldHMvaWZyYW1lL2NvbnRleHQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0MTggfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbnZhciBfX0RFVlRPT0xTX0tJVF9JRlJBTUVfTUVTU0FHSU5HX0VWRU5UX0tFWSA9IFwiX19kZXZ0b29scy1raXQtaWZyYW1lLW1lc3NhZ2luZy1ldmVudC1rZXlfX1wiO1xudmFyIF9fSUZSQU1FX1NFUlZFUl9DT05URVhUX18gPSBcImlmcmFtZTpzZXJ2ZXItY29udGV4dFwiO1xuZnVuY3Rpb24gZ2V0SWZyYW1lU2VydmVyQ29udGV4dCgpIHtcbiAgcmV0dXJuIHRhcmdldDE4W19fSUZSQU1FX1NFUlZFUl9DT05URVhUX19dO1xufVxuZnVuY3Rpb24gc2V0SWZyYW1lU2VydmVyQ29udGV4dChjb250ZXh0KSB7XG4gIHRhcmdldDE4W19fSUZSQU1FX1NFUlZFUl9DT05URVhUX19dID0gY29udGV4dDtcbn1cblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL2lmcmFtZS9jbGllbnQudHNcbmZ1bmN0aW9uIGNyZWF0ZUlmcmFtZUNsaWVudENoYW5uZWwoKSB7XG4gIGlmICghaXNCcm93c2VyMykge1xuICAgIHJldHVybiB7XG4gICAgICBwb3N0OiAoZGF0YSkgPT4ge1xuICAgICAgfSxcbiAgICAgIG9uOiAoaGFuZGxlcikgPT4ge1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwb3N0OiAoZGF0YSkgPT4gd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShTdXBlckpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGV2ZW50OiBfX0RFVlRPT0xTX0tJVF9JRlJBTUVfTUVTU0FHSU5HX0VWRU5UX0tFWSxcbiAgICAgIGRhdGFcbiAgICB9KSwgXCIqXCIpLFxuICAgIG9uOiAoaGFuZGxlcikgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gU3VwZXJKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cucGFyZW50ICYmIHBhcnNlZC5ldmVudCA9PT0gX19ERVZUT09MU19LSVRfSUZSQU1FX01FU1NBR0lOR19FVkVOVF9LRVkpIHtcbiAgICAgICAgICBoYW5kbGVyKHBhcnNlZC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy9pZnJhbWUvc2VydmVyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuaW1wb3J0IHsgaXNCcm93c2VyIGFzIGlzQnJvd3NlcjQgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcbmZ1bmN0aW9uIGNyZWF0ZUlmcmFtZVNlcnZlckNoYW5uZWwoKSB7XG4gIGlmICghaXNCcm93c2VyNCkge1xuICAgIHJldHVybiB7XG4gICAgICBwb3N0OiAoZGF0YSkgPT4ge1xuICAgICAgfSxcbiAgICAgIG9uOiAoaGFuZGxlcikgPT4ge1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwb3N0OiAoZGF0YSkgPT4ge1xuICAgICAgdmFyIF9hMjU7XG4gICAgICBjb25zdCBpZnJhbWUgPSBnZXRJZnJhbWVTZXJ2ZXJDb250ZXh0KCk7XG4gICAgICAoX2EyNSA9IGlmcmFtZSA9PSBudWxsID8gdm9pZCAwIDogaWZyYW1lLmNvbnRlbnRXaW5kb3cpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LnBvc3RNZXNzYWdlKFN1cGVySlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBldmVudDogX19ERVZUT09MU19LSVRfSUZSQU1FX01FU1NBR0lOR19FVkVOVF9LRVksXG4gICAgICAgIGRhdGFcbiAgICAgIH0pLCBcIipcIik7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gZ2V0SWZyYW1lU2VydmVyQ29udGV4dCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IFN1cGVySlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSAoaWZyYW1lID09IG51bGwgPyB2b2lkIDAgOiBpZnJhbWUuY29udGVudFdpbmRvdykgJiYgcGFyc2VkLmV2ZW50ID09PSBfX0RFVlRPT0xTX0tJVF9JRlJBTUVfTUVTU0FHSU5HX0VWRU5UX0tFWSkge1xuICAgICAgICAgICAgaGFuZGxlcihwYXJzZWQuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL3ZpdGUvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy92aXRlL2NsaWVudC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL3ZpdGUvY29udGV4dC50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmltcG9ydCB7IHRhcmdldCBhcyB0YXJnZXQxOSB9IGZyb20gXCJAdnVlL2RldnRvb2xzLXNoYXJlZFwiO1xudmFyIF9fREVWVE9PTFNfS0lUX1ZJVEVfTUVTU0FHSU5HX0VWRU5UX0tFWSA9IFwiX19kZXZ0b29scy1raXQtdml0ZS1tZXNzYWdpbmctZXZlbnQta2V5X19cIjtcbnZhciBfX1ZJVEVfQ0xJRU5UX0NPTlRFWFRfXyA9IFwidml0ZTpjbGllbnQtY29udGV4dFwiO1xudmFyIF9fVklURV9TRVJWRVJfQ09OVEVYVF9fID0gXCJ2aXRlOnNlcnZlci1jb250ZXh0XCI7XG5mdW5jdGlvbiBnZXRWaXRlQ2xpZW50Q29udGV4dCgpIHtcbiAgcmV0dXJuIHRhcmdldDE5W19fVklURV9DTElFTlRfQ09OVEVYVF9fXTtcbn1cbmZ1bmN0aW9uIHNldFZpdGVDbGllbnRDb250ZXh0KGNvbnRleHQpIHtcbiAgdGFyZ2V0MTlbX19WSVRFX0NMSUVOVF9DT05URVhUX19dID0gY29udGV4dDtcbn1cbmZ1bmN0aW9uIGdldFZpdGVTZXJ2ZXJDb250ZXh0KCkge1xuICByZXR1cm4gdGFyZ2V0MTlbX19WSVRFX1NFUlZFUl9DT05URVhUX19dO1xufVxuZnVuY3Rpb24gc2V0Vml0ZVNlcnZlckNvbnRleHQoY29udGV4dCkge1xuICB0YXJnZXQxOVtfX1ZJVEVfU0VSVkVSX0NPTlRFWFRfX10gPSBjb250ZXh0O1xufVxuXG4vLyBzcmMvbWVzc2FnaW5nL3ByZXNldHMvdml0ZS9jbGllbnQudHNcbmZ1bmN0aW9uIGNyZWF0ZVZpdGVDbGllbnRDaGFubmVsKCkge1xuICBjb25zdCBjbGllbnQgPSBnZXRWaXRlQ2xpZW50Q29udGV4dCgpO1xuICByZXR1cm4ge1xuICAgIHBvc3Q6IChkYXRhKSA9PiB7XG4gICAgICBjbGllbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGNsaWVudC5zZW5kKF9fREVWVE9PTFNfS0lUX1ZJVEVfTUVTU0FHSU5HX0VWRU5UX0tFWSwgU3VwZXJKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSxcbiAgICBvbjogKGhhbmRsZXIpID0+IHtcbiAgICAgIGNsaWVudCA9PSBudWxsID8gdm9pZCAwIDogY2xpZW50Lm9uKF9fREVWVE9PTFNfS0lUX1ZJVEVfTUVTU0FHSU5HX0VWRU5UX0tFWSwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZXIoU3VwZXJKU09OLnBhcnNlKGV2ZW50KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy92aXRlL3NlcnZlci50c1xuaW5pdF9lc21fc2hpbXMoKTtcbmZ1bmN0aW9uIGNyZWF0ZVZpdGVTZXJ2ZXJDaGFubmVsKCkge1xuICB2YXIgX2EyNTtcbiAgY29uc3Qgdml0ZVNlcnZlciA9IGdldFZpdGVTZXJ2ZXJDb250ZXh0KCk7XG4gIGNvbnN0IHdzID0gKF9hMjUgPSB2aXRlU2VydmVyLmhvdCkgIT0gbnVsbCA/IF9hMjUgOiB2aXRlU2VydmVyLndzO1xuICByZXR1cm4ge1xuICAgIHBvc3Q6IChkYXRhKSA9PiB3cyA9PSBudWxsID8gdm9pZCAwIDogd3Muc2VuZChfX0RFVlRPT0xTX0tJVF9WSVRFX01FU1NBR0lOR19FVkVOVF9LRVksIFN1cGVySlNPTi5zdHJpbmdpZnkoZGF0YSkpLFxuICAgIG9uOiAoaGFuZGxlcikgPT4gd3MgPT0gbnVsbCA/IHZvaWQgMCA6IHdzLm9uKF9fREVWVE9PTFNfS0lUX1ZJVEVfTUVTU0FHSU5HX0VWRU5UX0tFWSwgKGV2ZW50KSA9PiB7XG4gICAgICBoYW5kbGVyKFN1cGVySlNPTi5wYXJzZShldmVudCkpO1xuICAgIH0pXG4gIH07XG59XG5cbi8vIHNyYy9tZXNzYWdpbmcvcHJlc2V0cy93cy9pbmRleC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL3dzL2NsaWVudC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL3dzL2NvbnRleHQudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5pbXBvcnQgeyB0YXJnZXQgYXMgdGFyZ2V0MjAgfSBmcm9tIFwiQHZ1ZS9kZXZ0b29scy1zaGFyZWRcIjtcblxuLy8gc3JjL21lc3NhZ2luZy9wcmVzZXRzL3dzL3NlcnZlci50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL21lc3NhZ2luZy9pbmRleC50c1xudmFyIF9hMTksIF9iMTk7XG4oX2IxOSA9IChfYTE5ID0gdGFyZ2V0MjEpLl9fVlVFX0RFVlRPT0xTX0tJVF9NRVNTQUdFX0NIQU5ORUxTX18pICE9IG51bGwgPyBfYjE5IDogX2ExOS5fX1ZVRV9ERVZUT09MU19LSVRfTUVTU0FHRV9DSEFOTkVMU19fID0gW107XG52YXIgX2EyMCwgX2IyMDtcbihfYjIwID0gKF9hMjAgPSB0YXJnZXQyMSkuX19WVUVfREVWVE9PTFNfS0lUX1JQQ19DTElFTlRfXykgIT0gbnVsbCA/IF9iMjAgOiBfYTIwLl9fVlVFX0RFVlRPT0xTX0tJVF9SUENfQ0xJRU5UX18gPSBudWxsO1xudmFyIF9hMjEsIF9iMjE7XG4oX2IyMSA9IChfYTIxID0gdGFyZ2V0MjEpLl9fVlVFX0RFVlRPT0xTX0tJVF9SUENfU0VSVkVSX18pICE9IG51bGwgPyBfYjIxIDogX2EyMS5fX1ZVRV9ERVZUT09MU19LSVRfUlBDX1NFUlZFUl9fID0gbnVsbDtcbnZhciBfYTIyLCBfYjIyO1xuKF9iMjIgPSAoX2EyMiA9IHRhcmdldDIxKS5fX1ZVRV9ERVZUT09MU19LSVRfVklURV9SUENfQ0xJRU5UX18pICE9IG51bGwgPyBfYjIyIDogX2EyMi5fX1ZVRV9ERVZUT09MU19LSVRfVklURV9SUENfQ0xJRU5UX18gPSBudWxsO1xudmFyIF9hMjMsIF9iMjM7XG4oX2IyMyA9IChfYTIzID0gdGFyZ2V0MjEpLl9fVlVFX0RFVlRPT0xTX0tJVF9WSVRFX1JQQ19TRVJWRVJfXykgIT0gbnVsbCA/IF9iMjMgOiBfYTIzLl9fVlVFX0RFVlRPT0xTX0tJVF9WSVRFX1JQQ19TRVJWRVJfXyA9IG51bGw7XG52YXIgX2EyNCwgX2IyNDtcbihfYjI0ID0gKF9hMjQgPSB0YXJnZXQyMSkuX19WVUVfREVWVE9PTFNfS0lUX0JST0FEQ0FTVF9SUENfU0VSVkVSX18pICE9IG51bGwgPyBfYjI0IDogX2EyNC5fX1ZVRV9ERVZUT09MU19LSVRfQlJPQURDQVNUX1JQQ19TRVJWRVJfXyA9IG51bGw7XG5mdW5jdGlvbiBzZXRScGNDbGllbnRUb0dsb2JhbChycGMpIHtcbiAgdGFyZ2V0MjEuX19WVUVfREVWVE9PTFNfS0lUX1JQQ19DTElFTlRfXyA9IHJwYztcbn1cbmZ1bmN0aW9uIHNldFJwY1NlcnZlclRvR2xvYmFsKHJwYykge1xuICB0YXJnZXQyMS5fX1ZVRV9ERVZUT09MU19LSVRfUlBDX1NFUlZFUl9fID0gcnBjO1xufVxuZnVuY3Rpb24gZ2V0UnBjQ2xpZW50KCkge1xuICByZXR1cm4gdGFyZ2V0MjEuX19WVUVfREVWVE9PTFNfS0lUX1JQQ19DTElFTlRfXztcbn1cbmZ1bmN0aW9uIGdldFJwY1NlcnZlcigpIHtcbiAgcmV0dXJuIHRhcmdldDIxLl9fVlVFX0RFVlRPT0xTX0tJVF9SUENfU0VSVkVSX187XG59XG5mdW5jdGlvbiBzZXRWaXRlUnBjQ2xpZW50VG9HbG9iYWwocnBjKSB7XG4gIHRhcmdldDIxLl9fVlVFX0RFVlRPT0xTX0tJVF9WSVRFX1JQQ19DTElFTlRfXyA9IHJwYztcbn1cbmZ1bmN0aW9uIHNldFZpdGVScGNTZXJ2ZXJUb0dsb2JhbChycGMpIHtcbiAgdGFyZ2V0MjEuX19WVUVfREVWVE9PTFNfS0lUX1ZJVEVfUlBDX1NFUlZFUl9fID0gcnBjO1xufVxuZnVuY3Rpb24gZ2V0Vml0ZVJwY0NsaWVudCgpIHtcbiAgcmV0dXJuIHRhcmdldDIxLl9fVlVFX0RFVlRPT0xTX0tJVF9WSVRFX1JQQ19DTElFTlRfXztcbn1cbmZ1bmN0aW9uIGdldFZpdGVScGNTZXJ2ZXIoKSB7XG4gIHJldHVybiB0YXJnZXQyMS5fX1ZVRV9ERVZUT09MU19LSVRfVklURV9SUENfU0VSVkVSX187XG59XG5mdW5jdGlvbiBnZXRDaGFubmVsKHByZXNldCwgaG9zdCA9IFwiY2xpZW50XCIpIHtcbiAgY29uc3QgY2hhbm5lbCA9IHtcbiAgICBpZnJhbWU6IHtcbiAgICAgIGNsaWVudDogY3JlYXRlSWZyYW1lQ2xpZW50Q2hhbm5lbCxcbiAgICAgIHNlcnZlcjogY3JlYXRlSWZyYW1lU2VydmVyQ2hhbm5lbFxuICAgIH1baG9zdF0sXG4gICAgZWxlY3Ryb246IHtcbiAgICAgIGNsaWVudDogY3JlYXRlRWxlY3Ryb25DbGllbnRDaGFubmVsLFxuICAgICAgcHJveHk6IGNyZWF0ZUVsZWN0cm9uUHJveHlDaGFubmVsLFxuICAgICAgc2VydmVyOiBjcmVhdGVFbGVjdHJvblNlcnZlckNoYW5uZWxcbiAgICB9W2hvc3RdLFxuICAgIHZpdGU6IHtcbiAgICAgIGNsaWVudDogY3JlYXRlVml0ZUNsaWVudENoYW5uZWwsXG4gICAgICBzZXJ2ZXI6IGNyZWF0ZVZpdGVTZXJ2ZXJDaGFubmVsXG4gICAgfVtob3N0XSxcbiAgICBicm9hZGNhc3Q6IHtcbiAgICAgIGNsaWVudDogY3JlYXRlQnJvYWRjYXN0Q2hhbm5lbCxcbiAgICAgIHNlcnZlcjogY3JlYXRlQnJvYWRjYXN0Q2hhbm5lbFxuICAgIH1baG9zdF0sXG4gICAgZXh0ZW5zaW9uOiB7XG4gICAgICBjbGllbnQ6IGNyZWF0ZUV4dGVuc2lvbkNsaWVudENoYW5uZWwsXG4gICAgICBwcm94eTogY3JlYXRlRXh0ZW5zaW9uUHJveHlDaGFubmVsLFxuICAgICAgc2VydmVyOiBjcmVhdGVFeHRlbnNpb25TZXJ2ZXJDaGFubmVsXG4gICAgfVtob3N0XVxuICB9W3ByZXNldF07XG4gIHJldHVybiBjaGFubmVsKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVScGNDbGllbnQoZnVuY3Rpb25zLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBjaGFubmVsOiBfY2hhbm5lbCwgb3B0aW9uczogX29wdGlvbnMsIHByZXNldCB9ID0gb3B0aW9ucztcbiAgY29uc3QgY2hhbm5lbCA9IHByZXNldCA/IGdldENoYW5uZWwocHJlc2V0KSA6IF9jaGFubmVsO1xuICBjb25zdCBycGMgPSBjcmVhdGVCaXJwYyhmdW5jdGlvbnMsIHtcbiAgICAuLi5fb3B0aW9ucyxcbiAgICAuLi5jaGFubmVsLFxuICAgIHRpbWVvdXQ6IC0xXG4gIH0pO1xuICBpZiAocHJlc2V0ID09PSBcInZpdGVcIikge1xuICAgIHNldFZpdGVScGNDbGllbnRUb0dsb2JhbChycGMpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZXRScGNDbGllbnRUb0dsb2JhbChycGMpO1xuICByZXR1cm4gcnBjO1xufVxuZnVuY3Rpb24gY3JlYXRlUnBjU2VydmVyKGZ1bmN0aW9ucywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgY2hhbm5lbDogX2NoYW5uZWwsIG9wdGlvbnM6IF9vcHRpb25zLCBwcmVzZXQgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNoYW5uZWwgPSBwcmVzZXQgPyBnZXRDaGFubmVsKHByZXNldCwgXCJzZXJ2ZXJcIikgOiBfY2hhbm5lbDtcbiAgY29uc3QgcnBjU2VydmVyID0gZ2V0UnBjU2VydmVyKCk7XG4gIGlmICghcnBjU2VydmVyKSB7XG4gICAgY29uc3QgZ3JvdXAgPSBjcmVhdGVCaXJwY0dyb3VwKGZ1bmN0aW9ucywgW2NoYW5uZWxdLCB7XG4gICAgICAuLi5fb3B0aW9ucyxcbiAgICAgIHRpbWVvdXQ6IC0xXG4gICAgfSk7XG4gICAgaWYgKHByZXNldCA9PT0gXCJ2aXRlXCIpIHtcbiAgICAgIHNldFZpdGVScGNTZXJ2ZXJUb0dsb2JhbChncm91cCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFJwY1NlcnZlclRvR2xvYmFsKGdyb3VwKTtcbiAgfSBlbHNlIHtcbiAgICBycGNTZXJ2ZXIudXBkYXRlQ2hhbm5lbHMoKGNoYW5uZWxzKSA9PiB7XG4gICAgICBjaGFubmVscy5wdXNoKGNoYW5uZWwpO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVScGNQcm94eShvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBjaGFubmVsOiBfY2hhbm5lbCwgb3B0aW9uczogX29wdGlvbnMsIHByZXNldCB9ID0gb3B0aW9ucztcbiAgY29uc3QgY2hhbm5lbCA9IHByZXNldCA/IGdldENoYW5uZWwocHJlc2V0LCBcInByb3h5XCIpIDogX2NoYW5uZWw7XG4gIHJldHVybiBjcmVhdGVCaXJwYyh7fSwge1xuICAgIC4uLl9vcHRpb25zLFxuICAgIC4uLmNoYW5uZWwsXG4gICAgdGltZW91dDogLTFcbiAgfSk7XG59XG5cbi8vIHNyYy9zaGFyZWQvaW5kZXgudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9zaGFyZWQvZW52LnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvc2hhcmVkL3RpbWUudHNcbmluaXRfZXNtX3NoaW1zKCk7XG5cbi8vIHNyYy9zaGFyZWQvdXRpbC50c1xuaW5pdF9lc21fc2hpbXMoKTtcblxuLy8gc3JjL2NvcmUvY29tcG9uZW50L3N0YXRlL3JlcGxhY2VyLnRzXG5pbml0X2VzbV9zaGltcygpO1xuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvc3RhdGUvY3VzdG9tLnRzXG5pbml0X2VzbV9zaGltcygpO1xuZnVuY3Rpb24gZ2V0RnVuY3Rpb25EZXRhaWxzKGZ1bmMpIHtcbiAgbGV0IHN0cmluZyA9IFwiXCI7XG4gIGxldCBtYXRjaGVzID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBzdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICBtYXRjaGVzID0gU3RyaW5nLnByb3RvdHlwZS5tYXRjaC5jYWxsKHN0cmluZywgL1xcKFtcXHNcXFNdKj9cXCkvKTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIGNvbnN0IG1hdGNoID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzBdO1xuICBjb25zdCBhcmdzID0gdHlwZW9mIG1hdGNoID09PSBcInN0cmluZ1wiID8gbWF0Y2ggOiBcIig/KVwiO1xuICBjb25zdCBuYW1lID0gdHlwZW9mIGZ1bmMubmFtZSA9PT0gXCJzdHJpbmdcIiA/IGZ1bmMubmFtZSA6IFwiXCI7XG4gIHJldHVybiB7XG4gICAgX2N1c3RvbToge1xuICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgZGlzcGxheVRleHQ6IGA8c3BhbiBzdHlsZT1cIm9wYWNpdHk6Ljg7bWFyZ2luLXJpZ2h0OjVweDtcIj5mdW5jdGlvbjwvc3Bhbj4gPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTpub3dyYXA7XCI+JHtlc2NhcGUobmFtZSl9JHthcmdzfTwvc3Bhbj5gLFxuICAgICAgdG9vbHRpcFRleHQ6IHN0cmluZy50cmltKCkgPyBgPHByZT4ke3N0cmluZ308L3ByZT5gIDogbnVsbFxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEJpZ0ludERldGFpbHModmFsKSB7XG4gIGNvbnN0IHN0cmluZ2lmaWVkQmlnSW50ID0gQmlnSW50LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCk7XG4gIHJldHVybiB7XG4gICAgX2N1c3RvbToge1xuICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgIGRpc3BsYXlUZXh0OiBgQmlnSW50KCR7c3RyaW5naWZpZWRCaWdJbnR9KWAsXG4gICAgICB2YWx1ZTogc3RyaW5naWZpZWRCaWdJbnRcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXREYXRlRGV0YWlscyh2YWwpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbC5nZXRUaW1lKCkpO1xuICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICByZXR1cm4ge1xuICAgIF9jdXN0b206IHtcbiAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgZGlzcGxheVRleHQ6IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSxcbiAgICAgIHZhbHVlOiBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgLTEpXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0TWFwRGV0YWlscyh2YWwpIHtcbiAgY29uc3QgbGlzdCA9IE9iamVjdC5mcm9tRW50cmllcyh2YWwpO1xuICByZXR1cm4ge1xuICAgIF9jdXN0b206IHtcbiAgICAgIHR5cGU6IFwibWFwXCIsXG4gICAgICBkaXNwbGF5VGV4dDogXCJNYXBcIixcbiAgICAgIHZhbHVlOiBsaXN0LFxuICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgYWJzdHJhY3Q6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRTZXREZXRhaWxzKHZhbCkge1xuICBjb25zdCBsaXN0ID0gQXJyYXkuZnJvbSh2YWwpO1xuICByZXR1cm4ge1xuICAgIF9jdXN0b206IHtcbiAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICBkaXNwbGF5VGV4dDogYFNldFske2xpc3QubGVuZ3RofV1gLFxuICAgICAgdmFsdWU6IGxpc3QsXG4gICAgICByZWFkT25seTogdHJ1ZVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENhdWdodEdldHRlcnMoc3RvcmUpIHtcbiAgY29uc3QgZ2V0dGVycyA9IHt9O1xuICBjb25zdCBvcmlnR2V0dGVycyA9IHN0b3JlLmdldHRlcnMgfHwge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcmlnR2V0dGVycyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdldHRlcnMsIGtleSwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBvcmlnR2V0dGVyc1trZXldO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZ2V0dGVycztcbn1cbmZ1bmN0aW9uIHJlZHVjZVN0YXRlTGlzdChsaXN0KSB7XG4gIGlmICghbGlzdC5sZW5ndGgpXG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgcmV0dXJuIGxpc3QucmVkdWNlKChtYXAsIGl0ZW0pID0+IHtcbiAgICBjb25zdCBrZXkgPSBpdGVtLnR5cGUgfHwgXCJkYXRhXCI7XG4gICAgY29uc3Qgb2JqID0gbWFwW2tleV0gPSBtYXBba2V5XSB8fCB7fTtcbiAgICBvYmpbaXRlbS5rZXldID0gaXRlbS52YWx1ZTtcbiAgICByZXR1cm4gbWFwO1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBuYW1lZE5vZGVNYXBUb09iamVjdChtYXApIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGwgPSBtYXAubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG5vZGUgPSBtYXAuaXRlbShpKTtcbiAgICByZXN1bHRbbm9kZS5uYW1lXSA9IG5vZGUudmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldFN0b3JlRGV0YWlscyhzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIF9jdXN0b206IHtcbiAgICAgIHR5cGU6IFwic3RvcmVcIixcbiAgICAgIGRpc3BsYXlUZXh0OiBcIlN0b3JlXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBzdGF0ZTogc3RvcmUuc3RhdGUsXG4gICAgICAgIGdldHRlcnM6IGdldENhdWdodEdldHRlcnMoc3RvcmUpXG4gICAgICB9LFxuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFic3RyYWN0OiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Um91dGVyRGV0YWlscyhyb3V0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICBfY3VzdG9tOiB7XG4gICAgICB0eXBlOiBcInJvdXRlclwiLFxuICAgICAgZGlzcGxheVRleHQ6IFwiVnVlUm91dGVyXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBvcHRpb25zOiByb3V0ZXIub3B0aW9ucyxcbiAgICAgICAgY3VycmVudFJvdXRlOiByb3V0ZXIuY3VycmVudFJvdXRlXG4gICAgICB9LFxuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFic3RyYWN0OiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VEZXRhaWxzKGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5fKVxuICAgIGluc3RhbmNlID0gaW5zdGFuY2UuXztcbiAgY29uc3Qgc3RhdGUgPSBwcm9jZXNzSW5zdGFuY2VTdGF0ZShpbnN0YW5jZSk7XG4gIHJldHVybiB7XG4gICAgX2N1c3RvbToge1xuICAgICAgdHlwZTogXCJjb21wb25lbnRcIixcbiAgICAgIGlkOiBpbnN0YW5jZS5fX1ZVRV9ERVZUT09MU19ORVhUX1VJRF9fLFxuICAgICAgZGlzcGxheVRleHQ6IGdldEluc3RhbmNlTmFtZShpbnN0YW5jZSksXG4gICAgICB0b29sdGlwVGV4dDogXCJDb21wb25lbnQgaW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiByZWR1Y2VTdGF0ZUxpc3Qoc3RhdGUpLFxuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFic3RyYWN0OiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50RGVmaW5pdGlvbkRldGFpbHMoZGVmaW5pdGlvbikge1xuICBsZXQgZGlzcGxheSA9IGdldENvbXBvbmVudE5hbWUoZGVmaW5pdGlvbik7XG4gIGlmIChkaXNwbGF5KSB7XG4gICAgaWYgKGRlZmluaXRpb24ubmFtZSAmJiBkZWZpbml0aW9uLl9fZmlsZSlcbiAgICAgIGRpc3BsYXkgKz0gYCA8c3Bhbj4oJHtkZWZpbml0aW9uLl9fZmlsZX0pPC9zcGFuPmA7XG4gIH0gZWxzZSB7XG4gICAgZGlzcGxheSA9IFwiPGk+VW5rbm93biBDb21wb25lbnQ8L2k+XCI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBfY3VzdG9tOiB7XG4gICAgICB0eXBlOiBcImNvbXBvbmVudC1kZWZpbml0aW9uXCIsXG4gICAgICBkaXNwbGF5VGV4dDogZGlzcGxheSxcbiAgICAgIHRvb2x0aXBUZXh0OiBcIkNvbXBvbmVudCBkZWZpbml0aW9uXCIsXG4gICAgICAuLi5kZWZpbml0aW9uLl9fZmlsZSA/IHtcbiAgICAgICAgZmlsZTogZGVmaW5pdGlvbi5fX2ZpbGVcbiAgICAgIH0gOiB7fVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEhUTUxFbGVtZW50RGV0YWlscyh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICBfY3VzdG9tOiB7XG4gICAgICAgIHR5cGU6IFwiSFRNTEVsZW1lbnRcIixcbiAgICAgICAgZGlzcGxheVRleHQ6IGA8c3BhbiBjbGFzcz1cIm9wYWNpdHktMzBcIj4mbHQ7PC9zcGFuPjxzcGFuIGNsYXNzPVwidGV4dC1ibHVlLTUwMFwiPiR7dmFsdWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTwvc3Bhbj48c3BhbiBjbGFzcz1cIm9wYWNpdHktMzBcIj4mZ3Q7PC9zcGFuPmAsXG4gICAgICAgIHZhbHVlOiBuYW1lZE5vZGVNYXBUb09iamVjdCh2YWx1ZS5hdHRyaWJ1dGVzKVxuICAgICAgfVxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2N1c3RvbToge1xuICAgICAgICB0eXBlOiBcIkhUTUxFbGVtZW50XCIsXG4gICAgICAgIGRpc3BsYXlUZXh0OiBgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJsdWUtNTAwXCI+JHtTdHJpbmcodmFsdWUpfTwvc3Bhbj5gXG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gdHJ5R2V0UmVmVmFsdWUocmVmKSB7XG4gIGlmIChlbnN1cmVQcm9wZXJ0eUV4aXN0cyhyZWYsIFwiX3ZhbHVlXCIsIHRydWUpKSB7XG4gICAgcmV0dXJuIHJlZi5fdmFsdWU7XG4gIH1cbiAgaWYgKGVuc3VyZVByb3BlcnR5RXhpc3RzKHJlZiwgXCJ2YWx1ZVwiLCB0cnVlKSkge1xuICAgIHJldHVybiByZWYudmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE9iamVjdERldGFpbHMob2JqZWN0KSB7XG4gIHZhciBfYTI1LCBfYjI1LCBfYywgX2Q7XG4gIGNvbnN0IGluZm8gPSBnZXRTZXR1cFN0YXRlVHlwZShvYmplY3QpO1xuICBjb25zdCBpc1N0YXRlID0gaW5mby5yZWYgfHwgaW5mby5jb21wdXRlZCB8fCBpbmZvLnJlYWN0aXZlO1xuICBpZiAoaXNTdGF0ZSkge1xuICAgIGNvbnN0IHN0YXRlVHlwZU5hbWUgPSBpbmZvLmNvbXB1dGVkID8gXCJDb21wdXRlZFwiIDogaW5mby5yZWYgPyBcIlJlZlwiIDogaW5mby5yZWFjdGl2ZSA/IFwiUmVhY3RpdmVcIiA6IG51bGw7XG4gICAgY29uc3QgdmFsdWUgPSB0b1JhdzIoaW5mby5yZWFjdGl2ZSA/IG9iamVjdCA6IHRyeUdldFJlZlZhbHVlKG9iamVjdCkpO1xuICAgIGNvbnN0IHJhdyA9IGVuc3VyZVByb3BlcnR5RXhpc3RzKG9iamVjdCwgXCJlZmZlY3RcIikgPyAoKF9iMjUgPSAoX2EyNSA9IG9iamVjdC5lZmZlY3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTI1LnJhdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMjUudG9TdHJpbmcoKSkgfHwgKChfZCA9IChfYyA9IG9iamVjdC5lZmZlY3QpID09IG51bGwgPyB2b2lkIDAgOiBfYy5mbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnRvU3RyaW5nKCkpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgX2N1c3RvbToge1xuICAgICAgICB0eXBlOiBzdGF0ZVR5cGVOYW1lID09IG51bGwgPyB2b2lkIDAgOiBzdGF0ZVR5cGVOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIHN0YXRlVHlwZU5hbWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICAuLi5yYXcgPyB7IHRvb2x0aXBUZXh0OiBgPHNwYW4gY2xhc3M9XCJmb250LW1vbm9cIj4ke3Jhd308L3NwYW4+YCB9IDoge31cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGlmIChlbnN1cmVQcm9wZXJ0eUV4aXN0cyhvYmplY3QsIFwiX19hc3luY0xvYWRlclwiKSAmJiB0eXBlb2Ygb2JqZWN0Ll9fYXN5bmNMb2FkZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiB7XG4gICAgICBfY3VzdG9tOiB7XG4gICAgICAgIHR5cGU6IFwiY29tcG9uZW50LWRlZmluaXRpb25cIixcbiAgICAgICAgZGlzcGxheTogXCJBc3luYyBjb21wb25lbnQgZGVmaW5pdGlvblwiXG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvY29yZS9jb21wb25lbnQvc3RhdGUvcmVwbGFjZXIudHNcbmZ1bmN0aW9uIHN0cmluZ2lmeVJlcGxhY2VyKGtleSwgX3ZhbHVlLCBkZXB0aCwgc2Vlbkluc3RhbmNlKSB7XG4gIHZhciBfYTI1O1xuICBpZiAoa2V5ID09PSBcImNvbXBpbGVyT3B0aW9uc1wiKVxuICAgIHJldHVybjtcbiAgY29uc3QgdmFsID0gdGhpc1trZXldO1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIGNvbnN0IGwgPSB2YWwubGVuZ3RoO1xuICAgIGlmIChsID4gTUFYX0FSUkFZX1NJWkUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9pc0FycmF5OiB0cnVlLFxuICAgICAgICBsZW5ndGg6IGwsXG4gICAgICAgIGl0ZW1zOiB2YWwuc2xpY2UoMCwgTUFYX0FSUkFZX1NJWkUpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAodmFsLmxlbmd0aCA+IE1BWF9TVFJJTkdfU0laRSlcbiAgICAgIHJldHVybiBgJHt2YWwuc3Vic3RyaW5nKDAsIE1BWF9TVFJJTkdfU0laRSl9Li4uICgke3ZhbC5sZW5ndGh9IHRvdGFsIGxlbmd0aClgO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiB2YWw7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBVTkRFRklORUQ7XG4gIH0gZWxzZSBpZiAodmFsID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICByZXR1cm4gSU5GSU5JVFk7XG4gIH0gZWxzZSBpZiAodmFsID09PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIHtcbiAgICByZXR1cm4gTkVHQVRJVkVfSU5GSU5JVFk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGdldEZ1bmN0aW9uRGV0YWlscyh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwic3ltYm9sXCIpIHtcbiAgICByZXR1cm4gYFtuYXRpdmUgU3ltYm9sICR7U3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCl9XWA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJiaWdpbnRcIikge1xuICAgIHJldHVybiBnZXRCaWdJbnREZXRhaWxzKHZhbCk7XG4gIH0gZWxzZSBpZiAodmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpO1xuICAgIGlmIChwcm90byA9PT0gXCJbb2JqZWN0IE1hcF1cIikge1xuICAgICAgcmV0dXJuIGdldE1hcERldGFpbHModmFsKTtcbiAgICB9IGVsc2UgaWYgKHByb3RvID09PSBcIltvYmplY3QgU2V0XVwiKSB7XG4gICAgICByZXR1cm4gZ2V0U2V0RGV0YWlscyh2YWwpO1xuICAgIH0gZWxzZSBpZiAocHJvdG8gPT09IFwiW29iamVjdCBSZWdFeHBdXCIpIHtcbiAgICAgIHJldHVybiBgW25hdGl2ZSBSZWdFeHAgJHtSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKX1dYDtcbiAgICB9IGVsc2UgaWYgKHByb3RvID09PSBcIltvYmplY3QgRGF0ZV1cIikge1xuICAgICAgcmV0dXJuIGdldERhdGVEZXRhaWxzKHZhbCk7XG4gICAgfSBlbHNlIGlmIChwcm90byA9PT0gXCJbb2JqZWN0IEVycm9yXVwiKSB7XG4gICAgICByZXR1cm4gYFtuYXRpdmUgRXJyb3IgJHt2YWwubWVzc2FnZX08PiR7dmFsLnN0YWNrfV1gO1xuICAgIH0gZWxzZSBpZiAoZW5zdXJlUHJvcGVydHlFeGlzdHModmFsLCBcInN0YXRlXCIsIHRydWUpICYmIGVuc3VyZVByb3BlcnR5RXhpc3RzKHZhbCwgXCJfdm1cIiwgdHJ1ZSkpIHtcbiAgICAgIHJldHVybiBnZXRTdG9yZURldGFpbHModmFsKTtcbiAgICB9IGVsc2UgaWYgKHZhbC5jb25zdHJ1Y3RvciAmJiB2YWwuY29uc3RydWN0b3IubmFtZSA9PT0gXCJWdWVSb3V0ZXJcIikge1xuICAgICAgcmV0dXJuIGdldFJvdXRlckRldGFpbHModmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzVnVlSW5zdGFuY2UodmFsKSkge1xuICAgICAgY29uc3QgY29tcG9uZW50VmFsID0gZ2V0SW5zdGFuY2VEZXRhaWxzKHZhbCk7XG4gICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZURlcHRoID0gc2Vlbkluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBzZWVuSW5zdGFuY2UuZ2V0KHZhbCk7XG4gICAgICBpZiAocGFyZW50SW5zdGFuY2VEZXB0aCAmJiBwYXJlbnRJbnN0YW5jZURlcHRoIDwgZGVwdGgpIHtcbiAgICAgICAgcmV0dXJuIGBbW0NpcmN1bGFyUmVmXV0gPCR7Y29tcG9uZW50VmFsLl9jdXN0b20uZGlzcGxheVRleHR9PmA7XG4gICAgICB9XG4gICAgICBzZWVuSW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IHNlZW5JbnN0YW5jZS5zZXQodmFsLCBkZXB0aCk7XG4gICAgICByZXR1cm4gY29tcG9uZW50VmFsO1xuICAgIH0gZWxzZSBpZiAoZW5zdXJlUHJvcGVydHlFeGlzdHModmFsLCBcInJlbmRlclwiLCB0cnVlKSAmJiB0eXBlb2YgdmFsLnJlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcG9uZW50RGVmaW5pdGlvbkRldGFpbHModmFsKTtcbiAgICB9IGVsc2UgaWYgKHZhbC5jb25zdHJ1Y3RvciAmJiB2YWwuY29uc3RydWN0b3IubmFtZSA9PT0gXCJWTm9kZVwiKSB7XG4gICAgICByZXR1cm4gYFtuYXRpdmUgVk5vZGUgPCR7dmFsLnRhZ30+XWA7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdmFsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBnZXRIVE1MRWxlbWVudERldGFpbHModmFsKTtcbiAgICB9IGVsc2UgaWYgKCgoX2EyNSA9IHZhbC5jb25zdHJ1Y3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUubmFtZSkgPT09IFwiU3RvcmVcIiAmJiBcIl93cmFwcGVkR2V0dGVyc1wiIGluIHZhbCkge1xuICAgICAgcmV0dXJuIFwiW29iamVjdCBTdG9yZV1cIjtcbiAgICB9IGVsc2UgaWYgKGVuc3VyZVByb3BlcnR5RXhpc3RzKHZhbCwgXCJjdXJyZW50Um91dGVcIiwgdHJ1ZSkpIHtcbiAgICAgIHJldHVybiBcIltvYmplY3QgUm91dGVyXVwiO1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21EZXRhaWxzID0gZ2V0T2JqZWN0RGV0YWlscyh2YWwpO1xuICAgIGlmIChjdXN0b21EZXRhaWxzICE9IG51bGwpXG4gICAgICByZXR1cm4gY3VzdG9tRGV0YWlscztcbiAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4odmFsKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgcmV0dXJuIHNhbml0aXplKHZhbCk7XG59XG5cbi8vIHNyYy9zaGFyZWQvdHJhbnNmZXIudHNcbmluaXRfZXNtX3NoaW1zKCk7XG52YXIgTUFYX1NFUklBTElaRURfU0laRSA9IDIgKiAxMDI0ICogMTAyNDtcbmZ1bmN0aW9uIGlzT2JqZWN0KF9kYXRhLCBwcm90bykge1xuICByZXR1cm4gcHJvdG8gPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG59XG5mdW5jdGlvbiBpc0FycmF5MyhfZGF0YSwgcHJvdG8pIHtcbiAgcmV0dXJuIHByb3RvID09PSBcIltvYmplY3QgQXJyYXldXCI7XG59XG5mdW5jdGlvbiBpc1Z1ZVJlYWN0aXZlTGlua05vZGUobm9kZSkge1xuICB2YXIgX2EyNTtcbiAgY29uc3QgY29uc3RydWN0b3JOYW1lID0gKF9hMjUgPSBub2RlID09IG51bGwgPyB2b2lkIDAgOiBub2RlLmNvbnN0cnVjdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EyNS5uYW1lO1xuICByZXR1cm4gY29uc3RydWN0b3JOYW1lID09PSBcIkRlcFwiICYmIFwiYWN0aXZlTGlua1wiIGluIG5vZGUgfHwgY29uc3RydWN0b3JOYW1lID09PSBcIkxpbmtcIiAmJiBcImRlcFwiIGluIG5vZGU7XG59XG5mdW5jdGlvbiBlbmNvZGUoZGF0YSwgcmVwbGFjZXIsIGxpc3QsIHNlZW4sIGRlcHRoID0gMCwgc2VlblZ1ZUluc3RhbmNlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSkge1xuICBsZXQgc3RvcmVkO1xuICBsZXQga2V5O1xuICBsZXQgdmFsdWU7XG4gIGxldCBpO1xuICBsZXQgbDtcbiAgY29uc3Qgc2VlbkluZGV4ID0gc2Vlbi5nZXQoZGF0YSk7XG4gIGlmIChzZWVuSW5kZXggIT0gbnVsbClcbiAgICByZXR1cm4gc2VlbkluZGV4O1xuICBjb25zdCBpbmRleCA9IGxpc3QubGVuZ3RoO1xuICBjb25zdCBwcm90byA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRhKTtcbiAgaWYgKGlzT2JqZWN0KGRhdGEsIHByb3RvKSkge1xuICAgIGlmIChpc1Z1ZVJlYWN0aXZlTGlua05vZGUoZGF0YSkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgc3RvcmVkID0ge307XG4gICAgc2Vlbi5zZXQoZGF0YSwgaW5kZXgpO1xuICAgIGxpc3QucHVzaChzdG9yZWQpO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoa2V5ID09PSBcImNvbXBpbGVyT3B0aW9uc1wiKVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB2YWx1ZSA9IGRhdGFba2V5XTtcbiAgICAgIGNvbnN0IGlzVm0gPSB2YWx1ZSAhPSBudWxsICYmIGlzT2JqZWN0KHZhbHVlLCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSkpICYmIGlzVnVlSW5zdGFuY2UodmFsdWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcGxhY2VyKSB7XG4gICAgICAgICAgdmFsdWUgPSByZXBsYWNlci5jYWxsKGRhdGEsIGtleSwgdmFsdWUsIGRlcHRoLCBzZWVuVnVlSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZhbHVlID0gZTtcbiAgICAgIH1cbiAgICAgIHN0b3JlZFtrZXldID0gZW5jb2RlKHZhbHVlLCByZXBsYWNlciwgbGlzdCwgc2VlbiwgZGVwdGggKyAxLCBzZWVuVnVlSW5zdGFuY2UpO1xuICAgICAgaWYgKGlzVm0pIHtcbiAgICAgICAgc2VlblZ1ZUluc3RhbmNlLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQXJyYXkzKGRhdGEsIHByb3RvKSkge1xuICAgIHN0b3JlZCA9IFtdO1xuICAgIHNlZW4uc2V0KGRhdGEsIGluZGV4KTtcbiAgICBsaXN0LnB1c2goc3RvcmVkKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gZGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gZGF0YVtpXTtcbiAgICAgICAgaWYgKHJlcGxhY2VyKVxuICAgICAgICAgIHZhbHVlID0gcmVwbGFjZXIuY2FsbChkYXRhLCBpLCB2YWx1ZSwgZGVwdGgsIHNlZW5WdWVJbnN0YW5jZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZhbHVlID0gZTtcbiAgICAgIH1cbiAgICAgIHN0b3JlZFtpXSA9IGVuY29kZSh2YWx1ZSwgcmVwbGFjZXIsIGxpc3QsIHNlZW4sIGRlcHRoICsgMSwgc2VlblZ1ZUluc3RhbmNlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGlzdC5wdXNoKGRhdGEpO1xuICB9XG4gIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGRlY29kZShsaXN0LCByZXZpdmVyMiA9IG51bGwpIHtcbiAgbGV0IGkgPSBsaXN0Lmxlbmd0aDtcbiAgbGV0IGosIGssIGRhdGEsIGtleSwgdmFsdWUsIHByb3RvO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgZGF0YSA9IGxpc3RbaV07XG4gICAgcHJvdG8gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSk7XG4gICAgaWYgKHByb3RvID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gICAgICBmb3IgKGogPSAwLCBrID0ga2V5cy5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgdmFsdWUgPSBsaXN0W2RhdGFba2V5XV07XG4gICAgICAgIGlmIChyZXZpdmVyMilcbiAgICAgICAgICB2YWx1ZSA9IHJldml2ZXIyLmNhbGwoZGF0YSwga2V5LCB2YWx1ZSk7XG4gICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvdG8gPT09IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgZm9yIChqID0gMCwgayA9IGRhdGEubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgIHZhbHVlID0gbGlzdFtkYXRhW2pdXTtcbiAgICAgICAgaWYgKHJldml2ZXIyKVxuICAgICAgICAgIHZhbHVlID0gcmV2aXZlcjIuY2FsbChkYXRhLCBqLCB2YWx1ZSk7XG4gICAgICAgIGRhdGFbal0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUNpcmN1bGFyQXV0b0NodW5rcyhkYXRhLCByZXBsYWNlciA9IG51bGwsIHNwYWNlID0gbnVsbCkge1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIHJlc3VsdCA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IEpTT04uc3RyaW5naWZ5KGRhdGEsIChrLCB2KSA9PiB7XG4gICAgICB2YXIgX2EyNTtcbiAgICAgIHJldHVybiAoX2EyNSA9IHJlcGxhY2VyID09IG51bGwgPyB2b2lkIDAgOiByZXBsYWNlcihrLCB2KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMjUuY2FsbCh0aGlzKTtcbiAgICB9LCBzcGFjZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXN1bHQgPSBzdHJpbmdpZnlTdHJpY3RDaXJjdWxhckF1dG9DaHVua3MoZGF0YSwgcmVwbGFjZXIsIHNwYWNlKTtcbiAgfVxuICBpZiAocmVzdWx0Lmxlbmd0aCA+IE1BWF9TRVJJQUxJWkVEX1NJWkUpIHtcbiAgICBjb25zdCBjaHVua0NvdW50ID0gTWF0aC5jZWlsKHJlc3VsdC5sZW5ndGggLyBNQVhfU0VSSUFMSVpFRF9TSVpFKTtcbiAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rQ291bnQ7IGkrKylcbiAgICAgIGNodW5rcy5wdXNoKHJlc3VsdC5zbGljZShpICogTUFYX1NFUklBTElaRURfU0laRSwgKGkgKyAxKSAqIE1BWF9TRVJJQUxJWkVEX1NJWkUpKTtcbiAgICByZXR1cm4gY2h1bmtzO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlTdHJpY3RDaXJjdWxhckF1dG9DaHVua3MoZGF0YSwgcmVwbGFjZXIgPSBudWxsLCBzcGFjZSA9IG51bGwpIHtcbiAgY29uc3QgbGlzdCA9IFtdO1xuICBlbmNvZGUoZGF0YSwgcmVwbGFjZXIsIGxpc3QsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICByZXR1cm4gc3BhY2UgPyBgICR7SlNPTi5zdHJpbmdpZnkobGlzdCwgbnVsbCwgc3BhY2UpfWAgOiBgICR7SlNPTi5zdHJpbmdpZnkobGlzdCl9YDtcbn1cbmZ1bmN0aW9uIHBhcnNlQ2lyY3VsYXJBdXRvQ2h1bmtzKGRhdGEsIHJldml2ZXIyID0gbnVsbCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICBkYXRhID0gZGF0YS5qb2luKFwiXCIpO1xuICBjb25zdCBoYXNDaXJjdWxhciA9IC9eXFxzLy50ZXN0KGRhdGEpO1xuICBpZiAoIWhhc0NpcmN1bGFyKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBKU09OLnBhcnNlKGRhdGEpIDogSlNPTi5wYXJzZShkYXRhLCByZXZpdmVyMik7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGlzdCA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgZGVjb2RlKGxpc3QsIHJldml2ZXIyKTtcbiAgICByZXR1cm4gbGlzdFswXTtcbiAgfVxufVxuXG4vLyBzcmMvc2hhcmVkL3V0aWwudHNcbmZ1bmN0aW9uIHN0cmluZ2lmeTIoZGF0YSkge1xuICByZXR1cm4gc3RyaW5naWZ5Q2lyY3VsYXJBdXRvQ2h1bmtzKGRhdGEsIHN0cmluZ2lmeVJlcGxhY2VyKTtcbn1cbmZ1bmN0aW9uIHBhcnNlMihkYXRhLCByZXZpdmUyID0gZmFsc2UpIHtcbiAgaWYgKGRhdGEgPT0gdm9pZCAwKVxuICAgIHJldHVybiB7fTtcbiAgcmV0dXJuIHJldml2ZTIgPyBwYXJzZUNpcmN1bGFyQXV0b0NodW5rcyhkYXRhLCByZXZpdmVyKSA6IHBhcnNlQ2lyY3VsYXJBdXRvQ2h1bmtzKGRhdGEpO1xufVxuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBkZXZ0b29scyA9IHtcbiAgaG9vayxcbiAgaW5pdDogKCkgPT4ge1xuICAgIGluaXREZXZUb29scygpO1xuICB9LFxuICBnZXQgY3R4KCkge1xuICAgIHJldHVybiBkZXZ0b29sc0NvbnRleHQ7XG4gIH0sXG4gIGdldCBhcGkoKSB7XG4gICAgcmV0dXJuIGRldnRvb2xzQ29udGV4dC5hcGk7XG4gIH1cbn07XG5leHBvcnQge1xuICBEZXZUb29sc0NvbnRleHRIb29rS2V5cyxcbiAgRGV2VG9vbHNNZXNzYWdpbmdIb29rS2V5cyxcbiAgRGV2VG9vbHNWNlBsdWdpbkFQSUhvb2tLZXlzLFxuICBJTkZJTklUWSxcbiAgTkFOLFxuICBORUdBVElWRV9JTkZJTklUWSxcbiAgUk9VVEVSX0lORk9fS0VZLFxuICBST1VURVJfS0VZLFxuICBVTkRFRklORUQsXG4gIGFjdGl2ZUFwcFJlY29yZCxcbiAgYWRkQ3VzdG9tQ29tbWFuZCxcbiAgYWRkQ3VzdG9tVGFiLFxuICBhZGREZXZUb29sc0FwcFJlY29yZCxcbiAgYWRkRGV2VG9vbHNQbHVnaW5Ub0J1ZmZlcixcbiAgYWRkSW5zcGVjdG9yLFxuICBjYWxsQ29ubmVjdGVkVXBkYXRlZEhvb2ssXG4gIGNhbGxEZXZUb29sc1BsdWdpblNldHVwRm4sXG4gIGNhbGxJbnNwZWN0b3JVcGRhdGVkSG9vayxcbiAgY2FsbFN0YXRlVXBkYXRlZEhvb2ssXG4gIGNyZWF0ZUNvbXBvbmVudHNEZXZUb29sc1BsdWdpbixcbiAgY3JlYXRlRGV2VG9vbHNBcGksXG4gIGNyZWF0ZURldlRvb2xzQ3R4SG9va3MsXG4gIGNyZWF0ZVJwY0NsaWVudCxcbiAgY3JlYXRlUnBjUHJveHksXG4gIGNyZWF0ZVJwY1NlcnZlcixcbiAgZGV2dG9vbHMsXG4gIGRldnRvb2xzQXBwUmVjb3JkcyxcbiAgZGV2dG9vbHNDb250ZXh0LFxuICBkZXZ0b29sc0luc3BlY3RvcixcbiAgZGV2dG9vbHNQbHVnaW5CdWZmZXIsXG4gIGRldnRvb2xzUm91dGVyLFxuICBkZXZ0b29sc1JvdXRlckluZm8sXG4gIGRldnRvb2xzU3RhdGUsXG4gIGVzY2FwZSxcbiAgZm9ybWF0SW5zcGVjdG9yU3RhdGVWYWx1ZSxcbiAgZ2V0QWN0aXZlSW5zcGVjdG9ycyxcbiAgZ2V0RGV2VG9vbHNFbnYsXG4gIGdldEV4dGVuc2lvbkNsaWVudENvbnRleHQsXG4gIGdldEluc3BlY3RvcixcbiAgZ2V0SW5zcGVjdG9yQWN0aW9ucyxcbiAgZ2V0SW5zcGVjdG9ySW5mbyxcbiAgZ2V0SW5zcGVjdG9yTm9kZUFjdGlvbnMsXG4gIGdldEluc3BlY3RvclN0YXRlVmFsdWVUeXBlLFxuICBnZXRSYXcsXG4gIGdldFJwY0NsaWVudCxcbiAgZ2V0UnBjU2VydmVyLFxuICBnZXRWaXRlUnBjQ2xpZW50LFxuICBnZXRWaXRlUnBjU2VydmVyLFxuICBpbml0RGV2VG9vbHMsXG4gIGlzUGxhaW5PYmplY3QsXG4gIG9uRGV2VG9vbHNDbGllbnRDb25uZWN0ZWQsXG4gIG9uRGV2VG9vbHNDb25uZWN0ZWQsXG4gIHBhcnNlMiBhcyBwYXJzZSxcbiAgcmVnaXN0ZXJEZXZUb29sc1BsdWdpbixcbiAgcmVtb3ZlQ3VzdG9tQ29tbWFuZCxcbiAgcmVtb3ZlRGV2VG9vbHNBcHBSZWNvcmQsXG4gIHJlbW92ZVJlZ2lzdGVyZWRQbHVnaW5BcHAsXG4gIHJlc2V0RGV2VG9vbHNTdGF0ZSxcbiAgc2V0QWN0aXZlQXBwUmVjb3JkLFxuICBzZXRBY3RpdmVBcHBSZWNvcmRJZCxcbiAgc2V0RGV2VG9vbHNFbnYsXG4gIHNldEVsZWN0cm9uQ2xpZW50Q29udGV4dCxcbiAgc2V0RWxlY3Ryb25Qcm94eUNvbnRleHQsXG4gIHNldEVsZWN0cm9uU2VydmVyQ29udGV4dCxcbiAgc2V0RXh0ZW5zaW9uQ2xpZW50Q29udGV4dCxcbiAgc2V0SWZyYW1lU2VydmVyQ29udGV4dCxcbiAgc2V0T3BlbkluRWRpdG9yQmFzZVVybCxcbiAgc2V0UnBjU2VydmVyVG9HbG9iYWwsXG4gIHNldFZpdGVDbGllbnRDb250ZXh0LFxuICBzZXRWaXRlUnBjQ2xpZW50VG9HbG9iYWwsXG4gIHNldFZpdGVScGNTZXJ2ZXJUb0dsb2JhbCxcbiAgc2V0Vml0ZVNlcnZlckNvbnRleHQsXG4gIHNldHVwRGV2VG9vbHNQbHVnaW4sXG4gIHN0cmluZ2lmeTIgYXMgc3RyaW5naWZ5LFxuICB0b0VkaXQsXG4gIHRvU3VibWl0LFxuICB0b2dnbGVDbGllbnRDb25uZWN0ZWQsXG4gIHRvZ2dsZUNvbXBvbmVudEluc3BlY3RvckVuYWJsZWQsXG4gIHRvZ2dsZUhpZ2hQZXJmTW9kZSxcbiAgdXBkYXRlRGV2VG9vbHNDbGllbnREZXRlY3RlZCxcbiAgdXBkYXRlRGV2VG9vbHNTdGF0ZSxcbiAgdXBkYXRlVGltZWxpbmVMYXllcnNTdGF0ZVxufTtcbiIsIi8qIVxuICogcGluaWEgdjMuMC4yXG4gKiAoYykgMjAyNSBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5qZWN0LCB0b1Jhdywgd2F0Y2gsIHVucmVmLCBtYXJrUmF3LCBlZmZlY3RTY29wZSwgcmVmLCBpc1JlZiwgaXNSZWFjdGl2ZSwgZ2V0Q3VycmVudFNjb3BlLCBvblNjb3BlRGlzcG9zZSwgZ2V0Q3VycmVudEluc3RhbmNlLCByZWFjdGl2ZSwgdG9SZWYsIG5leHRUaWNrLCBjb21wdXRlZCwgdG9SZWZzIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHNldHVwRGV2dG9vbHNQbHVnaW4gfSBmcm9tICdAdnVlL2RldnRvb2xzLWFwaSc7XG5cbi8qKlxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXG4gKiBgZmV0Y2hgLCBgc2V0dXBgLCBgc2VydmVyUHJlZmV0Y2hgIGFuZCBvdGhlcnNcbiAqL1xubGV0IGFjdGl2ZVBpbmlhO1xuLyoqXG4gKiBTZXRzIG9yIHVuc2V0cyB0aGUgYWN0aXZlIHBpbmlhLiBVc2VkIGluIFNTUiBhbmQgaW50ZXJuYWxseSB3aGVuIGNhbGxpbmdcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcbiAqXG4gKiBAcGFyYW0gcGluaWEgLSBQaW5pYSBpbnN0YW5jZVxuICovXG4vLyBAdHMtZXhwZWN0LWVycm9yOiBjYW5ub3QgY29uc3RyYWluIHRoZSB0eXBlIG9mIHRoZSByZXR1cm5cbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XG4vKipcbiAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBwaW5pYSBpZiB0aGVyZSBpcyBhbnkuXG4gKi9cbmNvbnN0IGdldEFjdGl2ZVBpbmlhID0gKCkgPT4gKGhhc0luamVjdGlvbkNvbnRleHQoKSAmJiBpbmplY3QocGluaWFTeW1ib2wpKSB8fCBhY3RpdmVQaW5pYTtcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5vKSB7XG4gICAgcmV0dXJuIChvICYmXG4gICAgICAgIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IE9iamVjdF0nICYmXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XG59XG4vLyB0eXBlIERlZXBSZWFkb25seTxUPiA9IHsgcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IERlZXBSZWFkb25seTxUW1BdPiB9XG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XG4vKipcbiAqIFBvc3NpYmxlIHR5cGVzIGZvciBTdWJzY3JpcHRpb25DYWxsYmFja1xuICovXG52YXIgTXV0YXRpb25UeXBlO1xuKGZ1bmN0aW9uIChNdXRhdGlvblR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBEaXJlY3QgbXV0YXRpb24gb2YgdGhlIHN0YXRlOlxuICAgICAqXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXG4gICAgICogLSBgc3RvcmUuJHN0YXRlLm5hbWUgPSAnbmV3IG5hbWUnYFxuICAgICAqIC0gYHN0b3JlLmxpc3QucHVzaCgnbmV3IGl0ZW0nKWBcbiAgICAgKi9cbiAgICBNdXRhdGlvblR5cGVbXCJkaXJlY3RcIl0gPSBcImRpcmVjdFwiO1xuICAgIC8qKlxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHsgbmFtZTogJ25ld05hbWUnIH0pYFxuICAgICAqL1xuICAgIE11dGF0aW9uVHlwZVtcInBhdGNoT2JqZWN0XCJdID0gXCJwYXRjaCBvYmplY3RcIjtcbiAgICAvKipcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS4kcGF0Y2goc3RhdGUgPT4gc3RhdGUubmFtZSA9ICduZXdOYW1lJylgXG4gICAgICovXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hGdW5jdGlvblwiXSA9IFwicGF0Y2ggZnVuY3Rpb25cIjtcbiAgICAvLyBtYXliZSByZXNldD8gZm9yICRzdGF0ZSA9IHt9IGFuZCAkcmVzZXRcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qXG4gKiBGaWxlU2F2ZXIuanMgQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXG4gKlxuICogT3JpZ2luYWxseSBieSBFbGkgR3JleSwgYWRhcHRlZCBhcyBhbiBFU00gbW9kdWxlIGJ5IEVkdWFyZG8gU2FuIE1hcnRpblxuICogTW9yb3RlLlxuICpcbiAqIExpY2Vuc2UgOiBNSVRcbiAqL1xuLy8gVGhlIG9uZSBhbmQgb25seSB3YXkgb2YgZ2V0dGluZyBnbG9iYWwgc2NvcGUgaW4gYWxsIGVudmlyb25tZW50c1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzMyNzcxODIvMTAwODk5OVxuY29uc3QgX2dsb2JhbCA9IC8qI19fUFVSRV9fKi8gKCgpID0+IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy53aW5kb3cgPT09IHdpbmRvd1xuICAgID8gd2luZG93XG4gICAgOiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmXG4gICAgICAgID8gc2VsZlxuICAgICAgICA6IHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbFxuICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgICAgICAgICAgOiB7IEhUTUxFbGVtZW50OiBudWxsIH0pKCk7XG5mdW5jdGlvbiBib20oYmxvYiwgeyBhdXRvQm9tID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgLy8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcbiAgICAvLyBub3RlOiB5b3VyIGJyb3dzZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgVVRGLTE2IFUrRkVGRiB0byBFRiBCQiBCRlxuICAgIGlmIChhdXRvQm9tICYmXG4gICAgICAgIC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZmVmZiksIGJsb2JdLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2I7XG59XG5mdW5jdGlvbiBkb3dubG9hZCh1cmwsIG5hbWUsIG9wdHMpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNhdmVBcyh4aHIucmVzcG9uc2UsIG5hbWUsIG9wdHMpO1xuICAgIH07XG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBkb3dubG9hZCBmaWxlJyk7XG4gICAgfTtcbiAgICB4aHIuc2VuZCgpO1xufVxuZnVuY3Rpb24gY29yc0VuYWJsZWQodXJsKSB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgLy8gdXNlIHN5bmMgdG8gYXZvaWQgcG9wdXAgYmxvY2tlclxuICAgIHhoci5vcGVuKCdIRUFEJywgdXJsLCBmYWxzZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHsgfVxuICAgIHJldHVybiB4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDw9IDI5OTtcbn1cbi8vIGBhLmNsaWNrKClgIGRvZXNuJ3Qgd29yayBmb3IgYWxsIGJyb3dzZXJzICgjNDY1KVxuZnVuY3Rpb24gY2xpY2sobm9kZSkge1xuICAgIHRyeSB7XG4gICAgICAgIG5vZGUuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IGV2dCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICAgICAgZGV0YWlsOiAwLFxuICAgICAgICAgICAgc2NyZWVuWDogODAsXG4gICAgICAgICAgICBzY3JlZW5ZOiAyMCxcbiAgICAgICAgICAgIGNsaWVudFg6IDgwLFxuICAgICAgICAgICAgY2xpZW50WTogMjAsXG4gICAgICAgICAgICBjdHJsS2V5OiBmYWxzZSxcbiAgICAgICAgICAgIGFsdEtleTogZmFsc2UsXG4gICAgICAgICAgICBzaGlmdEtleTogZmFsc2UsXG4gICAgICAgICAgICBtZXRhS2V5OiBmYWxzZSxcbiAgICAgICAgICAgIGJ1dHRvbjogMCxcbiAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG59XG5jb25zdCBfbmF2aWdhdG9yID0gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcbi8vIERldGVjdCBXZWJWaWV3IGluc2lkZSBhIG5hdGl2ZSBtYWNPUyBhcHAgYnkgcnVsaW5nIG91dCBhbGwgYnJvd3NlcnNcbi8vIFdlIGp1c3QgbmVlZCB0byBjaGVjayBmb3IgJ1NhZmFyaScgYmVjYXVzZSBhbGwgb3RoZXIgYnJvd3NlcnMgKGJlc2lkZXMgRmlyZWZveCkgaW5jbHVkZSB0aGF0IHRvb1xuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXG5jb25zdCBpc01hY09TV2ViVmlldyA9IC8qI19fUFVSRV9fKi8gKCgpID0+IC9NYWNpbnRvc2gvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgL0FwcGxlV2ViS2l0Ly50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcbmNvbnN0IHNhdmVBcyA9ICFJU19DTElFTlRcbiAgICA/ICgpID0+IHsgfSAvLyBub29wXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxuICAgICAgICB0eXBlb2YgSFRNTEFuY2hvckVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XG4gICAgICAgICAgICA/IGRvd25sb2FkU2F2ZUFzXG4gICAgICAgICAgICA6IC8vIFVzZSBtc1NhdmVPck9wZW5CbG9iIGFzIGEgc2Vjb25kIGFwcHJvYWNoXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBtc1NhdmVBc1xuICAgICAgICAgICAgICAgICAgICA6IC8vIEZhbGxiYWNrIHRvIHVzaW5nIEZpbGVSZWFkZXIgYW5kIGEgcG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcbmZ1bmN0aW9uIGRvd25sb2FkU2F2ZUFzKGJsb2IsIG5hbWUgPSAnZG93bmxvYWQnLCBvcHRzKSB7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcbiAgICBhLnJlbCA9ICdub29wZW5lcic7IC8vIHRhYm5hYmJpbmdcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2hyb21lIGV4dGVuc2lvbnMgJiBwYWNrYWdlZCBhcHBzXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gU3VwcG9ydCByZWd1bGFyIGxpbmtzXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XG4gICAgICAgIGlmIChhLm9yaWdpbiAhPT0gbG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICBpZiAoY29yc0VuYWJsZWQoYS5ocmVmKSkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXG4gICAgICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbXNTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBAdHMtaWdub3JlOiB3b3JrcyBvbiB3aW5kb3dzXG4gICAgICAgIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJvbShibG9iLCBvcHRzKSwgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmlsZVNhdmVyU2F2ZUFzKGJsb2IsIG5hbWUsIG9wdHMsIHBvcHVwKSB7XG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXG4gICAgLy8gTW9zdGx5IG9ubHkgYXZhaWxhYmxlIG9uIHVzZXIgaW50ZXJhY3Rpb24gYW5kIHRoZSBmaWxlUmVhZGVyIGlzIGFzeW5jIHNvLi4uXG4gICAgcG9wdXAgPSBwb3B1cCB8fCBvcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgaWYgKHBvcHVwKSB7XG4gICAgICAgIHBvcHVwLmRvY3VtZW50LnRpdGxlID0gcG9wdXAuZG9jdW1lbnQuYm9keS5pbm5lclRleHQgPSAnZG93bmxvYWRpbmcuLi4nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgY29uc3QgZm9yY2UgPSBibG9iLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XG4gICAgY29uc3QgaXNDaHJvbWVJT1MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpIHx8IGlzTWFjT1NXZWJWaWV3KSAmJlxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiBVUkxzXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgdXJsID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIHJlYWRlci5yZXN1bHQgdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcbiAgICAgICAgICAgICAgICA/IHVybFxuICAgICAgICAgICAgICAgIDogdXJsLnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBpZiAocG9wdXApXG4gICAgICAgICAgICBwb3B1cC5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSwgNGU0KTsgLy8gNDBzXG4gICAgfVxufVxuXG4vKipcbiAqIFNob3dzIGEgdG9hc3Qgb3IgY29uc29sZS5sb2dcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXG4gKiBAcGFyYW0gdHlwZSAtIGRpZmZlcmVudCBjb2xvciBvZiB0aGUgdG9vbHRpcFxuICovXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xuICAgIGNvbnN0IHBpbmlhTWVzc2FnZSA9ICfwn42NICcgKyBtZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgX19WVUVfREVWVE9PTFNfVE9BU1RfXyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBObyBsb25nZXIgYXZhaWxhYmxlIDooXG4gICAgICAgIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18ocGluaWFNZXNzYWdlLCB0eXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd3YXJuJykge1xuICAgICAgICBjb25zb2xlLndhcm4ocGluaWFNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQaW5pYShvKSB7XG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcbn1cblxuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbiBkZXZ0b29scyBhY3Rpb25zLCB0aGV5IGFyZSBub3QgUGluaWEgYWN0aW9ucy5cbiAqL1xuLy8gLS0tXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcbiAgICBpZiAoISgnY2xpcGJvYXJkJyBpbiBuYXZpZ2F0b3IpKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZShgWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQ2xpcGJvYXJkIEFQSWAsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZG9jdW1lbnQgaXMgbm90IGZvY3VzZWQnKSkge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpIHtcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIGNvcGllZCB0byBjbGlwYm9hcmQuJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoY2hlY2tOb3RGb2N1c2VkRXJyb3IoZXJyb3IpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlKHBpbmlhKSB7XG4gICAgaWYgKGNoZWNrQ2xpcGJvYXJkQWNjZXNzKCkpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBsb2FkU3RvcmVzU3RhdGUocGluaWEsIEpTT04ucGFyc2UoYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIHBhc3RlZCBmcm9tIGNsaXBib2FyZC4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgfSksICdwaW5pYS1zdGF0ZS5qc29uJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBleHBvcnQgdGhlIHN0YXRlIGFzIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmxldCBmaWxlSW5wdXQ7XG5mdW5jdGlvbiBnZXRGaWxlT3BlbmVyKCkge1xuICAgIGlmICghZmlsZUlucHV0KSB7XG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgICBmaWxlSW5wdXQuYWNjZXB0ID0gJy5qc29uJztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkZpbGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBmaWxlSW5wdXQuZmlsZXM7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzLml0ZW0oMCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHRleHQ6IGF3YWl0IGZpbGUudGV4dCgpLCBmaWxlIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jYW5jZWwgPSAoKSA9PiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgZmlsZUlucHV0Lm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvcGVuRmlsZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUocGluaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcGVuID0gZ2V0RmlsZU9wZW5lcigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVuKCk7XG4gICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHRleHQsIGZpbGUgfSA9IHJlc3VsdDtcbiAgICAgICAgbG9hZFN0b3Jlc1N0YXRlKHBpbmlhLCBKU09OLnBhcnNlKHRleHQpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBHbG9iYWwgc3RhdGUgaW1wb3J0ZWQgZnJvbSBcIiR7ZmlsZS5uYW1lfVwiLmApO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gaW1wb3J0IHRoZSBzdGF0ZSBmcm9tIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvYWRTdG9yZXNTdGF0ZShwaW5pYSwgc3RhdGUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVba2V5XTtcbiAgICAgICAgLy8gc3RvcmUgaXMgYWxyZWFkeSBpbnN0YW50aWF0ZWQsIHBhdGNoIGl0XG4gICAgICAgIGlmIChzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0b3JlU3RhdGUsIHN0YXRlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RvcmUgaXMgbm90IGluc3RhbnRpYXRlZCwgc2V0IHRoZSBpbml0aWFsIHN0YXRlXG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtrZXldID0gc3RhdGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuY29uc3QgUElOSUFfUk9PVF9MQUJFTCA9ICfwn42NIFBpbmlhIChyb290KSc7XG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShzdG9yZSkge1xuICAgIHJldHVybiBpc1BpbmlhKHN0b3JlKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGlkOiBQSU5JQV9ST09UX0lELFxuICAgICAgICAgICAgbGFiZWw6IFBJTklBX1JPT1RfTEFCRUwsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBpZDogc3RvcmUuJGlkLFxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcbiAgICAgICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcbiAgICBpZiAoaXNQaW5pYShzdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVOYW1lcyA9IEFycmF5LmZyb20oc3RvcmUuX3Mua2V5cygpKTtcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0ZTogc3RvcmVOYW1lcy5tYXAoKHN0b3JlSWQpID0+ICh7XG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAga2V5OiBzdG9yZUlkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5zdGF0ZS52YWx1ZVtzdG9yZUlkXSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGdldHRlcnM6IHN0b3JlTmFtZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChpZCkgPT4gc3RvcmVNYXAuZ2V0KGlkKS5fZ2V0dGVycylcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVNYXAuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxuICAgICAgICB9KSksXG4gICAgfTtcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xuICAgIGlmIChzdG9yZS5fZ2V0dGVycyAmJiBzdG9yZS5fZ2V0dGVycy5sZW5ndGgpIHtcbiAgICAgICAgc3RhdGUuZ2V0dGVycyA9IHN0b3JlLl9nZXR0ZXJzLm1hcCgoZ2V0dGVyTmFtZSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogZ2V0dGVyTmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtnZXR0ZXJOYW1lXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuc2l6ZSkge1xuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEV2ZW50RGF0YShldmVudHMpIHtcbiAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5yZWR1Y2UoKGRhdGEsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBkYXRhLmtleXMucHVzaChldmVudC5rZXkpO1xuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XG4gICAgICAgICAgICBkYXRhLm9sZFZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5vbGRWYWx1ZTtcbiAgICAgICAgICAgIGRhdGEubmV3VmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm5ld1ZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9sZFZhbHVlOiB7fSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgb3BlcmF0aW9uczogW10sXG4gICAgICAgICAgICBuZXdWYWx1ZToge30sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogZm9ybWF0RGlzcGxheShldmVudHMudHlwZSksXG4gICAgICAgICAgICBrZXk6IGZvcm1hdERpc3BsYXkoZXZlbnRzLmtleSksXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGV2ZW50cy5uZXdWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5kaXJlY3Q6XG4gICAgICAgICAgICByZXR1cm4gJ211dGF0aW9uJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnJHBhdGNoJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xuICAgIH1cbn1cblxuLy8gdGltZWxpbmUgY2FuIGJlIHBhdXNlZCB3aGVuIGRpcmVjdGx5IGNoYW5naW5nIHRoZSBzdGF0ZVxubGV0IGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xuY29uc3QgTVVUQVRJT05TX0xBWUVSX0lEID0gJ3BpbmlhOm11dGF0aW9ucyc7XG5jb25zdCBJTlNQRUNUT1JfSUQgPSAncGluaWEnO1xuY29uc3QgeyBhc3NpZ246IGFzc2lnbiQxIH0gPSBPYmplY3Q7XG4vKipcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcbiAqXG4gKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgc3RvcmVcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xuICovXG5jb25zdCBnZXRTdG9yZVR5cGUgPSAoaWQpID0+ICfwn42NICcgKyBpZDtcbi8qKlxuICogQWRkIHRoZSBwaW5pYSBwbHVnaW4gd2l0aG91dCBhbnkgc3RvcmUuIEFsbG93cyBkaXNwbGF5aW5nIGEgUGluaWEgcGx1Z2luIHRhYlxuICogYXMgc29vbiBhcyBpdCBpcyBhZGRlZCB0byB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHBhcmFtIGFwcCAtIFZ1ZSBhcHBsaWNhdGlvblxuICogQHBhcmFtIHBpbmlhIC0gcGluaWEgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpIHtcbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLFxuICAgICAgICBhcHAsXG4gICAgfSwgKGFwaSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFwaS5ub3cgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICBsYWJlbDogYFBpbmlhIPCfjY1gLFxuICAgICAgICAgICAgY29sb3I6IDB4ZTVkZjg4LFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XG4gICAgICAgICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgICAgIGljb246ICdzdG9yYWdlJyxcbiAgICAgICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogJ1NlYXJjaCBzdG9yZXMnLFxuICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2NvbnRlbnRfY29weScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWN0aW9uR2xvYmFsUGFzdGVTdGF0ZShwaW5pYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NhdmUgdGhlIHN0YXRlIGFzIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZvbGRlcl9vcGVuJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnSW1wb3J0IHRoZSBzdGF0ZSBmcm9tIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5vZGVBY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgKHdpdGggXCIkcmVzZXRcIiknLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KG5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0b3JlLiRyZXNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgQ2Fubm90IHJlc2V0IFwiJHtub2RlSWR9XCIgc3RvcmUgYmVjYXVzZSBpdCBkb2Vzbid0IGhhdmUgYSBcIiRyZXNldFwiIG1ldGhvZCBpbXBsZW1lbnRlZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuJHJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBTdG9yZSBcIiR7bm9kZUlkfVwiIHJlc2V0LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gKHBheWxvYWQuY29tcG9uZW50SW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5KTtcbiAgICAgICAgICAgIGlmIChwcm94eSAmJiBwcm94eS5fcFN0b3Jlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBpbmlhU3RvcmVzID0gcGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZS5wcm94eS5fcFN0b3JlcztcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKHBpbmlhU3RvcmVzKS5mb3JFYWNoKChzdG9yZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldFN0b3JlVHlwZShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnc3RhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuX2lzT3B0aW9uc0FQSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdG9SYXcoc3RvcmUuJHN0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdyZXN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSBvZiB0aGlzIHN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiBzdG9yZS4kcmVzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAvLyBOT1RFOiB3b3JrYXJvdW5kIHRvIHVud3JhcCB0cmFuc2ZlcnJlZCByZWZzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkucmVkdWNlKChzdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZVtrZXldID0gc3RvcmUuJHN0YXRlW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZS5fZ2V0dGVycyAmJiBzdG9yZS5fZ2V0dGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldFN0b3JlVHlwZShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2dldHRlcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuX2dldHRlcnMucmVkdWNlKChnZXR0ZXJzLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnNba2V5XSA9IHN0b3JlW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBqdXN0IHdhbnQgdG8gc2hvdyBpdCBpbiBkZXZ0b29sc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVzID0gW3BpbmlhXTtcbiAgICAgICAgICAgICAgICBzdG9yZXMgPSBzdG9yZXMuY29uY2F0KEFycmF5LmZyb20ocGluaWEuX3MudmFsdWVzKCkpKTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IChwYXlsb2FkLmZpbHRlclxuICAgICAgICAgICAgICAgICAgICA/IHN0b3Jlcy5maWx0ZXIoKHN0b3JlKSA9PiAnJGlkJyBpbiBzdG9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdG9yZS4kaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBQSU5JQV9ST09UX0xBQkVMLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocGF5bG9hZC5maWx0ZXIudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgICAgICAgICAgICAgIDogc3RvcmVzKS5tYXAoZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEV4cG9zZSBwaW5pYSBpbnN0YW5jZSBhcyAkcGluaWEgdG8gd2luZG93XG4gICAgICAgIGdsb2JhbFRoaXMuJHBpbmlhID0gcGluaWE7XG4gICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZSgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zcGVjdGVkU3RvcmUgPSBwYXlsb2FkLm5vZGVJZCA9PT0gUElOSUFfUk9PVF9JRFxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bGQgYmUgdGhlIHNlbGVjdGVkIHN0b3JlIHJlc3RvcmVkIGZvciBhIGRpZmZlcmVudCBwcm9qZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgYmV0dGVyIG5vdCB0byBzYXkgYW55dGhpbmcgaGVyZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0ZWRTdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHBvc2Ugc2VsZWN0ZWQgc3RvcmUgYXMgJHN0b3JlIHRvIHdpbmRvd1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5ub2RlSWQgIT09IFBJTklBX1JPT1RfSUQpXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLiRzdG9yZSA9IHRvUmF3KGluc3BlY3RlZFN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoaW5zcGVjdGVkU3RvcmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxuICAgICAgICAgICAgICAgICAgICA6IHBpbmlhLl9zLmdldChwYXlsb2FkLm5vZGVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBzdG9yZSBcIiR7cGF5bG9hZC5ub2RlSWR9XCIgbm90IGZvdW5kYCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUGluaWEoaW5zcGVjdGVkU3RvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VzcyBvbmx5IHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpbnNwZWN0ZWRTdG9yZS5fY3VzdG9tUHJvcGVydGllcy5oYXMocGF0aFswXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbMF0gaW4gaW5zcGVjdGVkU3RvcmUuJHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJyRzdGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBSb290IGFjY2Vzcywgd2UgY2FuIG9taXQgdGhlIGAudmFsdWVgIGJlY2F1c2UgdGhlIGRldnRvb2xzIEFQSSBkb2VzIGl0IGZvciB1c1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJ3N0YXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnNldChpbnNwZWN0ZWRTdG9yZSwgcGF0aCwgcGF5bG9hZC5zdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uZWRpdENvbXBvbmVudFN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC50eXBlLnN0YXJ0c1dpdGgoJ/CfjY0nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlSWQgPSBwYXlsb2FkLnR5cGUucmVwbGFjZSgvXvCfjY1cXHMqLywgJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KHN0b3JlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0TWVzc2FnZShgc3RvcmUgXCIke3N0b3JlSWR9XCIgbm90IGZvdW5kYCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcbiAgICAgICAgICAgICAgICBpZiAocGF0aFswXSAhPT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBJbnZhbGlkIHBhdGggZm9yIHN0b3JlIFwiJHtzdG9yZUlkfVwiOlxcbiR7cGF0aH1cXG5Pbmx5IHN0YXRlIGNhbiBiZSBtb2RpZmllZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV3cml0ZSB0aGUgZmlyc3QgZW50cnkgdG8gYmUgYWJsZSB0byBkaXJlY3RseSBzZXQgdGhlIHN0YXRlIGFzXG4gICAgICAgICAgICAgICAgLy8gd2VsbCBhcyBhbnkgb3RoZXIgcGF0aFxuICAgICAgICAgICAgICAgIHBhdGhbMF0gPSAnJHN0YXRlJztcbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIHN0b3JlKSB7XG4gICAgaWYgKCFjb21wb25lbnRTdGF0ZVR5cGVzLmluY2x1ZGVzKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKSkge1xuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLnB1c2goZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpO1xuICAgIH1cbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLFxuICAgICAgICBhcHAsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICBsb2dTdG9yZUNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ05vdGlmeSBhYm91dCBuZXcvZGVsZXRlZCBzdG9yZXMnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdXNlRW1vamlzOiB7XG4gICAgICAgICAgICAvLyAgIGxhYmVsOiAnVXNlIGVtb2ppcyBpbiBtZXNzYWdlcyDimqHvuI8nLFxuICAgICAgICAgICAgLy8gICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgIH0sXG4gICAgfSwgKGFwaSkgPT4ge1xuICAgICAgICAvLyBncmFjZWZ1bGx5IGhhbmRsZSBlcnJvcnNcbiAgICAgICAgY29uc3Qgbm93ID0gdHlwZW9mIGFwaS5ub3cgPT09ICdmdW5jdGlvbicgPyBhcGkubm93LmJpbmQoYXBpKSA6IERhdGUubm93O1xuICAgICAgICBzdG9yZS4kb25BY3Rpb24oKHsgYWZ0ZXIsIG9uRXJyb3IsIG5hbWUsIGFyZ3MgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBJZCA9IHJ1bm5pbmdBY3Rpb25JZCsrO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5urICcgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWZ0ZXIoKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5usICcgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9uRXJyb3IoKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dUeXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5KlICcgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgd2F0Y2goKCkgPT4gdW5yZWYoc3RvcmVbbmFtZV0pLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNUaW1lbGluZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHsgZGVlcDogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0b3JlLiRzdWJzY3JpYmUoKHsgZXZlbnRzLCB0eXBlIH0sIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBpZiAoIWlzVGltZWxpbmVBY3RpdmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gcm9vdFN0b3JlLnN0YXRlW3N0b3JlLmlkXSA9IHN0YXRlXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgdGl0bGU6IGZvcm1hdE11dGF0aW9uVHlwZSh0eXBlKSxcbiAgICAgICAgICAgICAgICBkYXRhOiBhc3NpZ24kMSh7IHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCkgfSwgZm9ybWF0RXZlbnREYXRhKGV2ZW50cykpLFxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn4qS177iPJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9ICfwn6epJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50cyAmJiAhQXJyYXkuaXNBcnJheShldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gZXZlbnRzLnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLmRhdGFbJ3Jhd0V2ZW50KHMpJ10gPSB7XG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdEZWJ1Z2dlckV2ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ3JhdyBEZWJ1Z2dlckV2ZW50W10nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnREYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHsgZGV0YWNoZWQ6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XG4gICAgICAgIGNvbnN0IGhvdFVwZGF0ZSA9IHN0b3JlLl9ob3RVcGRhdGU7XG4gICAgICAgIHN0b3JlLl9ob3RVcGRhdGUgPSBtYXJrUmF3KChuZXdTdG9yZSkgPT4ge1xuICAgICAgICAgICAgaG90VXBkYXRlKG5ld1N0b3JlKTtcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+UpSAnICsgc3RvcmUuJGlkLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0hNUiB1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogZm9ybWF0RGlzcGxheShgSE1SIHVwZGF0ZWApLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZGV2dG9vbHMgdG9vXG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgJGRpc3Bvc2UgfSA9IHN0b3JlO1xuICAgICAgICBzdG9yZS4kZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgICRkaXNwb3NlKCk7XG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxuICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgRGlzcG9zZWQgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSDwn5eRYCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRyaWdnZXIgYW4gdXBkYXRlIHNvIGl0IGNhbiBkaXNwbGF5IG5ldyByZWdpc3RlcmVkIHN0b3Jlc1xuICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxuICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIGluc3RhbGxlZCDwn4aVYCk7XG4gICAgfSk7XG59XG5sZXQgcnVubmluZ0FjdGlvbklkID0gMDtcbmxldCBhY3RpdmVBY3Rpb247XG4vKipcbiAqIFBhdGNoZXMgYSBzdG9yZSB0byBlbmFibGUgYWN0aW9uIGdyb3VwaW5nIGluIGRldnRvb2xzIGJ5IHdyYXBwaW5nIHRoZSBzdG9yZSB3aXRoIGEgUHJveHkgdGhhdCBpcyBwYXNzZWQgYXMgdGhlXG4gKiBjb250ZXh0IG9mIGFsbCBhY3Rpb25zLCBhbGxvd2luZyB1cyB0byBzZXQgYHJ1bm5pbmdBY3Rpb25gIG9uIGVhY2ggYWNjZXNzIGFuZCBlZmZlY3RpdmVseSBhc3NvY2lhdGluZyBhbnkgc3RhdGVcbiAqIG11dGF0aW9uIHRvIHRoZSBhY3Rpb24uXG4gKlxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gcGF0Y2hcbiAqIEBwYXJhbSBhY3Rpb25OYW1lcyAtIGxpc3Qgb2YgYWN0aW9uc3QgdG8gcGF0Y2hcbiAqL1xuZnVuY3Rpb24gcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgYWN0aW9uTmFtZXMsIHdyYXBXaXRoUHJveHkpIHtcbiAgICAvLyBvcmlnaW5hbCBhY3Rpb25zIG9mIHRoZSBzdG9yZSBhcyB0aGV5IGFyZSBnaXZlbiBieSBwaW5pYS4gV2UgYXJlIGdvaW5nIHRvIG92ZXJyaWRlIHRoZW1cbiAgICBjb25zdCBhY3Rpb25zID0gYWN0aW9uTmFtZXMucmVkdWNlKChzdG9yZUFjdGlvbnMsIGFjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgLy8gdXNlIHRvUmF3IHRvIGF2b2lkIHRyYWNraW5nICM1NDFcbiAgICAgICAgc3RvcmVBY3Rpb25zW2FjdGlvbk5hbWVdID0gdG9SYXcoc3RvcmUpW2FjdGlvbk5hbWVdO1xuICAgICAgICByZXR1cm4gc3RvcmVBY3Rpb25zO1xuICAgIH0sIHt9KTtcbiAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgaW4gYWN0aW9ucykge1xuICAgICAgICBzdG9yZVthY3Rpb25OYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRoZSBydW5uaW5nIGFjdGlvbiBpZCBpcyBpbmNyZW1lbnRlZCBpbiBhIGJlZm9yZSBhY3Rpb24gaG9va1xuICAgICAgICAgICAgY29uc3QgX2FjdGlvbklkID0gcnVubmluZ0FjdGlvbklkO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tlZFN0b3JlID0gd3JhcFdpdGhQcm94eVxuICAgICAgICAgICAgICAgID8gbmV3IFByb3h5KHN0b3JlLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSBfYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSBfYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IHN0b3JlO1xuICAgICAgICAgICAgLy8gRm9yIFNldHVwIFN0b3JlcyB3ZSBuZWVkIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFzeW5jLWNvbnRleHRcbiAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcbiAgICAgICAgICAgIGNvbnN0IHJldFZhbHVlID0gYWN0aW9uc1thY3Rpb25OYW1lXS5hcHBseSh0cmFja2VkU3RvcmUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHNhZmVyIGFzIGFzeW5jIGFjdGlvbnMgaW4gU2V0dXAgU3RvcmVzIHdvdWxkIGFzc29jaWF0ZSBtdXRhdGlvbnMgZG9uZSBvdXRzaWRlIG9mIHRoZSBhY3Rpb25cbiAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiByZXRWYWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbilcbiAqL1xuZnVuY3Rpb24gZGV2dG9vbHNQbHVnaW4oeyBhcHAsIHN0b3JlLCBvcHRpb25zIH0pIHtcbiAgICAvLyBITVIgbW9kdWxlXG4gICAgaWYgKHN0b3JlLiRpZC5zdGFydHNXaXRoKCdfX2hvdDonKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGRldGVjdCBvcHRpb24gYXBpIHZzIHNldHVwIGFwaVxuICAgIHN0b3JlLl9pc09wdGlvbnNBUEkgPSAhIW9wdGlvbnMuc3RhdGU7XG4gICAgLy8gRG8gbm90IG92ZXJ3cml0ZSBhY3Rpb25zIG1vY2tlZCBieSBAcGluaWEvdGVzdGluZyAoIzIyOTgpXG4gICAgaWYgKCFzdG9yZS5fcC5fdGVzdGluZykge1xuICAgICAgICBwYXRjaEFjdGlvbkZvckdyb3VwaW5nKHN0b3JlLCBPYmplY3Qua2V5cyhvcHRpb25zLmFjdGlvbnMpLCBzdG9yZS5faXNPcHRpb25zQVBJKTtcbiAgICAgICAgLy8gVXBncmFkZSB0aGUgSE1SIHRvIGFsc28gdXBkYXRlIHRoZSBuZXcgYWN0aW9uc1xuICAgICAgICBjb25zdCBvcmlnaW5hbEhvdFVwZGF0ZSA9IHN0b3JlLl9ob3RVcGRhdGU7XG4gICAgICAgIHRvUmF3KHN0b3JlKS5faG90VXBkYXRlID0gZnVuY3Rpb24gKG5ld1N0b3JlKSB7XG4gICAgICAgICAgICBvcmlnaW5hbEhvdFVwZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMobmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucyksICEhc3RvcmUuX2lzT3B0aW9uc0FQSSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIFxuICAgIC8vIEZJWE1FOiBpcyB0aGVyZSBhIHdheSB0byBhbGxvdyB0aGUgYXNzaWdubWVudCBmcm9tIFN0b3JlPElkLCBTLCBHLCBBPiB0byBTdG9yZUdlbmVyaWM/XG4gICAgc3RvcmUpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBQaW5pYSBpbnN0YW5jZSB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvblxuICovXG5mdW5jdGlvbiBjcmVhdGVQaW5pYSgpIHtcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xuICAgIC8vIE5PVEU6IGhlcmUgd2UgY291bGQgY2hlY2sgdGhlIHdpbmRvdyBvYmplY3QgZm9yIGEgc3RhdGUgYW5kIGRpcmVjdGx5IHNldCBpdFxuICAgIC8vIGlmIHRoZXJlIGlzIGFueXRoaW5nIGxpa2UgaXQgd2l0aCBWdWUgMyBTU1JcbiAgICBjb25zdCBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiByZWYoe30pKTtcbiAgICBsZXQgX3AgPSBbXTtcbiAgICAvLyBwbHVnaW5zIGFkZGVkIGJlZm9yZSBjYWxsaW5nIGFwcC51c2UocGluaWEpXG4gICAgbGV0IHRvQmVJbnN0YWxsZWQgPSBbXTtcbiAgICBjb25zdCBwaW5pYSA9IG1hcmtSYXcoe1xuICAgICAgICBpbnN0YWxsKGFwcCkge1xuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgIHBpbmlhLl9hID0gYXBwO1xuICAgICAgICAgICAgYXBwLnByb3ZpZGUocGluaWFTeW1ib2wsIHBpbmlhKTtcbiAgICAgICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcGluaWEgPSBwaW5pYTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykpICYmIElTX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQuZm9yRWFjaCgocGx1Z2luKSA9PiBfcC5wdXNoKHBsdWdpbikpO1xuICAgICAgICAgICAgdG9CZUluc3RhbGxlZCA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1c2UocGx1Z2luKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2EpIHtcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLnB1c2gocGx1Z2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9wLnB1c2gocGx1Z2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBfcCxcbiAgICAgICAgLy8gaXQncyBhY3R1YWxseSB1bmRlZmluZWQgaGVyZVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIF9hOiBudWxsLFxuICAgICAgICBfZTogc2NvcGUsXG4gICAgICAgIF9zOiBuZXcgTWFwKCksXG4gICAgICAgIHN0YXRlLFxuICAgIH0pO1xuICAgIC8vIHBpbmlhIGRldnRvb2xzIHJlbHkgb24gZGV2IG9ubHkgZmVhdHVyZXMgc28gdGhleSBjYW5ub3QgYmUgZm9yY2VkIHVubGVzc1xuICAgIC8vIHRoZSBkZXYgYnVpbGQgb2YgVnVlIGlzIHVzZWQuIEF2b2lkIG9sZCBicm93c2VycyBsaWtlIElFMTEuXG4gICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQgJiYgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwaW5pYS51c2UoZGV2dG9vbHNQbHVnaW4pO1xuICAgIH1cbiAgICByZXR1cm4gcGluaWE7XG59XG4vKipcbiAqIERpc3Bvc2UgYSBQaW5pYSBpbnN0YW5jZSBieSBzdG9wcGluZyBpdHMgZWZmZWN0U2NvcGUgYW5kIHJlbW92aW5nIHRoZSBzdGF0ZSwgcGx1Z2lucyBhbmQgc3RvcmVzLiBUaGlzIGlzIG1vc3RseVxuICogdXNlZnVsIGluIHRlc3RzLCB3aXRoIGJvdGggYSB0ZXN0aW5nIHBpbmlhIG9yIGEgcmVndWxhciBwaW5pYSBhbmQgaW4gYXBwbGljYXRpb25zIHRoYXQgdXNlIG11bHRpcGxlIHBpbmlhIGluc3RhbmNlcy5cbiAqIE9uY2UgZGlzcG9zZWQsIHRoZSBwaW5pYSBpbnN0YW5jZSBjYW5ub3QgYmUgdXNlZCBhbnltb3JlLlxuICpcbiAqIEBwYXJhbSBwaW5pYSAtIHBpbmlhIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGRpc3Bvc2VQaW5pYShwaW5pYSkge1xuICAgIHBpbmlhLl9lLnN0b3AoKTtcbiAgICBwaW5pYS5fcy5jbGVhcigpO1xuICAgIHBpbmlhLl9wLnNwbGljZSgwKTtcbiAgICBwaW5pYS5zdGF0ZS52YWx1ZSA9IHt9O1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IG5vbiB2YWxpZFxuICAgIHBpbmlhLl9hID0gbnVsbDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBmdW5jdGlvbiBpcyBhIGBTdG9yZURlZmluaXRpb25gLlxuICpcbiAqIEBwYXJhbSBmbiAtIG9iamVjdCB0byB0ZXN0XG4gKiBAcmV0dXJucyB0cnVlIGlmIGBmbmAgaXMgYSBTdG9yZURlZmluaXRpb25cbiAqL1xuY29uc3QgaXNVc2VTdG9yZSA9IChmbikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGZuLiRpZCA9PT0gJ3N0cmluZyc7XG59O1xuLyoqXG4gKiBNdXRhdGVzIGluIHBsYWNlIGBuZXdTdGF0ZWAgd2l0aCBgb2xkU3RhdGVgIHRvIF9ob3QgdXBkYXRlXyBpdC4gSXQgd2lsbFxuICogcmVtb3ZlIGFueSBrZXkgbm90IGV4aXN0aW5nIGluIGBuZXdTdGF0ZWAgYW5kIHJlY3Vyc2l2ZWx5IG1lcmdlIHBsYWluXG4gKiBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSBuZXdTdGF0ZSAtIG5ldyBzdGF0ZSBvYmplY3QgdG8gYmUgcGF0Y2hlZFxuICogQHBhcmFtIG9sZFN0YXRlIC0gb2xkIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcGF0Y2ggbmV3U3RhdGVcbiAqIEByZXR1cm5zIC0gbmV3U3RhdGVcbiAqL1xuZnVuY3Rpb24gcGF0Y2hPYmplY3QobmV3U3RhdGUsIG9sZFN0YXRlKSB7XG4gICAgLy8gbm8gbmVlZCB0byBnbyB0aHJvdWdoIHN5bWJvbHMgYmVjYXVzZSB0aGV5IGNhbm5vdCBiZSBzZXJpYWxpemVkIGFueXdheVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gb2xkU3RhdGVba2V5XTtcbiAgICAgICAgLy8gc2tpcCB0aGUgd2hvbGUgc3ViIHRyZWVcbiAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0YXRlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBuZXdTdGF0ZVtrZXldO1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICAhaXNSZWYoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlW2tleV0gPSBwYXRjaE9iamVjdCh0YXJnZXRWYWx1ZSwgc3ViUGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gb2JqZWN0cyBhcmUgZWl0aGVyIGEgYml0IG1vcmUgY29tcGxleCAoZS5nLiByZWZzKSBvciBwcmltaXRpdmVzLCBzbyB3ZVxuICAgICAgICAgICAgLy8ganVzdCBzZXQgdGhlIHdob2xlIHRoaW5nXG4gICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gc3ViUGF0Y2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBjb25zdCB1c2VVc2VyID0gZGVmaW5lU3RvcmUoLi4uKVxuICogaWYgKGltcG9ydC5tZXRhLmhvdCkge1xuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGluaXRpYWxVc2VTdG9yZSAtIHJldHVybiBvZiB0aGUgZGVmaW5lU3RvcmUgdG8gaG90IHVwZGF0ZVxuICogQHBhcmFtIGhvdCAtIGBpbXBvcnQubWV0YS5ob3RgXG4gKi9cbmZ1bmN0aW9uIGFjY2VwdEhNUlVwZGF0ZShpbml0aWFsVXNlU3RvcmUsIGhvdCkge1xuICAgIC8vIHN0cmlwIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSBpaWZlLnByb2RcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaW5pYSA9IGhvdC5kYXRhLnBpbmlhIHx8IGluaXRpYWxVc2VTdG9yZS5fcGluaWE7XG4gICAgICAgIGlmICghcGluaWEpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXG4gICAgICAgIGhvdC5kYXRhLnBpbmlhID0gcGluaWE7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb3QgZGF0YScsIG5ld1N0b3JlKVxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VTdG9yZSA9IG5ld01vZHVsZVtleHBvcnROYW1lXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2luZyBmb3InLCBleHBvcnROYW1lKVxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FjY2VwdGluZyB1cGRhdGUgZm9yJywgdXNlU3RvcmUuJGlkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdXNlU3RvcmUuJGlkO1xuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBpZCBvZiB0aGUgc3RvcmUgY2hhbmdlZCBmcm9tIFwiJHtpbml0aWFsVXNlU3RvcmUuJGlkfVwiIHRvIFwiJHtpZH1cIi4gUmVsb2FkaW5nLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gaW1wb3J0Lm1ldGEuaG90LmludmFsaWRhdGUoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUGluaWFdOiBza2lwcGluZyBobXIgYmVjYXVzZSBzdG9yZSBkb2Vzbid0IGV4aXN0IHlldGApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVzZVN0b3JlKHBpbmlhLCBleGlzdGluZ1N0b3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGNhbGxiYWNrKTtcbiAgICBjb25zdCByZW1vdmVTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgIG9uU2NvcGVEaXNwb3NlKHJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XG59XG5mdW5jdGlvbiB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCAuLi5hcmdzKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xufVxuXG5jb25zdCBmYWxsYmFja1J1bldpdGhDb250ZXh0ID0gKGZuKSA9PiBmbigpO1xuLyoqXG4gKiBNYXJrcyBhIGZ1bmN0aW9uIGFzIGFuIGFjdGlvbiBmb3IgYCRvbkFjdGlvbmBcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBBQ1RJT05fTUFSS0VSID0gU3ltYm9sKCk7XG4vKipcbiAqIEFjdGlvbiBuYW1lIHN5bWJvbC4gQWxsb3dzIHRvIGFkZCBhIG5hbWUgdG8gYW4gYWN0aW9uIGFmdGVyIGRlZmluaW5nIGl0XG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgQUNUSU9OX05BTUUgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldCwgcGF0Y2hUb0FwcGx5KSB7XG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTWFwICYmIHBhdGNoVG9BcHBseSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICBwYXRjaFRvQXBwbHkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gdGFyZ2V0LnNldChrZXksIHZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNldCAmJiBwYXRjaFRvQXBwbHkgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcbiAgICB9XG4gICAgLy8gbm8gbmVlZCB0byBnbyB0aHJvdWdoIHN5bWJvbHMgYmVjYXVzZSB0aGV5IGNhbm5vdCBiZSBzZXJpYWxpemVkIGFueXdheVxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xuICAgICAgICBpZiAoIXBhdGNoVG9BcHBseS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFZhbHVlKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgIHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAhaXNSZWYoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGhlcmUgSSB3YW50ZWQgdG8gd2FybiBhYm91dCBpbmNvbnNpc3RlbnQgdHlwZXMgYnV0IGl0J3Mgbm90IHBvc3NpYmxlIGJlY2F1c2UgaW4gc2V0dXAgc3RvcmVzIG9uZSBtaWdodFxuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgYXMgYSBjZXJ0YWluIHR5cGUgZS5nLiBhIE1hcCwgYW5kIHRoZW4gZm9yIHNvbWUgcmVhc29uLCBkdXJpbmcgU1NSLCBjaGFuZ2UgdGhhdFxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXRWYWx1ZSwgc3ViUGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc3ViUGF0Y2ggaXMgYSB2YWxpZCB2YWx1ZVxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzdWJQYXRjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuY29uc3Qgc2tpcEh5ZHJhdGVTeW1ib2wgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICA/IFN5bWJvbCgncGluaWE6c2tpcEh5ZHJhdGlvbicpXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcbi8qKlxuICogVGVsbHMgUGluaWEgdG8gc2tpcCB0aGUgaHlkcmF0aW9uIHByb2Nlc3Mgb2YgYSBnaXZlbiBvYmplY3QuIFRoaXMgaXMgdXNlZnVsIGluIHNldHVwIHN0b3JlcyAob25seSkgd2hlbiB5b3UgcmV0dXJuIGFcbiAqIHN0YXRlZnVsIG9iamVjdCBpbiB0aGUgc3RvcmUgYnV0IGl0IGlzbid0IHJlYWxseSBzdGF0ZS4gZS5nLiByZXR1cm5pbmcgYSByb3V0ZXIgaW5zdGFuY2UgaW4gYSBzZXR1cCBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IG9iamVjdFxuICogQHJldHVybnMgb2JqXG4gKi9cbmZ1bmN0aW9uIHNraXBIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IHZhcmlhYmxlXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxuICovXG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiAoIWlzUGxhaW5PYmplY3Qob2JqKSB8fFxuICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgc2tpcEh5ZHJhdGVTeW1ib2wpKTtcbn1cbmNvbnN0IHsgYXNzaWduIH0gPSBPYmplY3Q7XG5mdW5jdGlvbiBpc0NvbXB1dGVkKG8pIHtcbiAgICByZXR1cm4gISEoaXNSZWYobykgJiYgby5lZmZlY3QpO1xufVxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSwgaG90KSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgYWN0aW9ucywgZ2V0dGVycyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVtpZF07XG4gICAgbGV0IHN0b3JlO1xuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICAgICBpZiAoIWluaXRpYWxTdGF0ZSAmJiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhaG90KSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtpZF0gPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBjcmVhdGluZyBhIHN0YXRlIGluIHBpbmlhLnN0YXRlLnZhbHVlXG4gICAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90XG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICB0b1JlZnMocmVmKHN0YXRlID8gc3RhdGUoKSA6IHt9KS52YWx1ZSlcbiAgICAgICAgICAgIDogdG9SZWZzKHBpbmlhLnN0YXRlLnZhbHVlW2lkXSk7XG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmFtZSBpbiBsb2NhbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IEEgZ2V0dGVyIGNhbm5vdCBoYXZlIHRoZSBzYW1lIG5hbWUgYXMgYW5vdGhlciBzdGF0ZSBwcm9wZXJ0eS4gUmVuYW1lIG9uZSBvZiB0aGVtLiBGb3VuZCB3aXRoIFwiJHtuYW1lfVwiIGluIHN0b3JlIFwiJHtpZH1cIi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXB1dGVkR2V0dGVyc1tuYW1lXSA9IG1hcmtSYXcoY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjcm9zcyB1c2luZyBzdG9yZXNcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGdldHRlcnMhW25hbWVdLmNhbGwoY29udGV4dCwgY29udGV4dClcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBhdm9pZCByZWFkaW5nIHRoZSBnZXR0ZXIgd2hpbGUgYXNzaWduaW5nIHdpdGggYSBnbG9iYWwgdmFyaWFibGVcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyc1tuYW1lXS5jYWxsKHN0b3JlLCBzdG9yZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWRHZXR0ZXJzO1xuICAgICAgICB9LCB7fSkpO1xuICAgIH1cbiAgICBzdG9yZSA9IGNyZWF0ZVNldHVwU3RvcmUoaWQsIHNldHVwLCBvcHRpb25zLCBwaW5pYSwgaG90LCB0cnVlKTtcbiAgICByZXR1cm4gc3RvcmU7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cFN0b3JlKCRpZCwgc2V0dXAsIG9wdGlvbnMgPSB7fSwgcGluaWEsIGhvdCwgaXNPcHRpb25zU3RvcmUpIHtcbiAgICBsZXQgc2NvcGU7XG4gICAgY29uc3Qgb3B0aW9uc0ZvclBsdWdpbiA9IGFzc2lnbih7IGFjdGlvbnM6IHt9IH0sIG9wdGlvbnMpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXBpbmlhLl9lLmFjdGl2ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmlhIGRlc3Ryb3llZCcpO1xuICAgIH1cbiAgICAvLyB3YXRjaGVyIG9wdGlvbnMgZm9yICRzdWJzY3JpYmVcbiAgICBjb25zdCAkc3Vic2NyaWJlT3B0aW9ucyA9IHsgZGVlcDogdHJ1ZSB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAkc3Vic2NyaWJlT3B0aW9ucy5vblRyaWdnZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cyA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdGhpcyB3aGlsZSB0aGUgc3RvcmUgaXMgYmVpbmcgYnVpbHQgYW5kIHRoZSBzdGF0ZSBpcyBiZWluZyBzZXQgaW4gcGluaWFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTGlzdGVuaW5nID09IGZhbHNlICYmICFzdG9yZS5faG90VXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgcGF0Y2ggc2VuZCBhbGwgdGhlIGV2ZW50cyB0b2dldGhlciBsYXRlclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVidWdnZXJFdmVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign8J+NjSBkZWJ1Z2dlckV2ZW50cyBzaG91bGQgYmUgYW4gYXJyYXkuIFRoaXMgaXMgbW9zdCBsaWtlbHkgYW4gaW50ZXJuYWwgUGluaWEgYnVnLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gaW50ZXJuYWwgc3RhdGVcbiAgICBsZXQgaXNMaXN0ZW5pbmc7IC8vIHNldCB0byB0cnVlIGF0IHRoZSBlbmRcbiAgICBsZXQgaXNTeW5jTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXG4gICAgbGV0IHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICBsZXQgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdO1xuICAgIC8vIGF2b2lkIHNldHRpbmcgdGhlIHN0YXRlIGZvciBvcHRpb24gc3RvcmVzIGlmIGl0IGlzIHNldFxuICAgIC8vIGJ5IHRoZSBzZXR1cFxuICAgIGlmICghaXNPcHRpb25zU3RvcmUgJiYgIWluaXRpYWxTdGF0ZSAmJiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhaG90KSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBob3RTdGF0ZSA9IHJlZih7fSk7XG4gICAgLy8gYXZvaWQgdHJpZ2dlcmluZyB0b28gbWFueSBsaXN0ZW5lcnNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcbiAgICBsZXQgYWN0aXZlTGlzdGVuZXI7XG4gICAgZnVuY3Rpb24gJHBhdGNoKHBhcnRpYWxTdGF0ZU9yTXV0YXRvcikge1xuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XG4gICAgICAgIGlzTGlzdGVuaW5nID0gaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHJlc2V0IHRoZSBkZWJ1Z2dlciBldmVudHMgc2luY2UgcGF0Y2hlcyBhcmUgc3luY1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFydGlhbFN0YXRlT3JNdXRhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBwYXJ0aWFsU3RhdGVPck11dGF0b3IocGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXJnZVJlYWN0aXZlT2JqZWN0cyhwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCBwYXJ0aWFsU3RhdGVPck11dGF0b3IpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uTXV0YXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBhcnRpYWxTdGF0ZU9yTXV0YXRvcixcbiAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xuICAgICAgICBuZXh0VGljaygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUxpc3RlbmVyID09PSBteUxpc3RlbmVySWQpIHtcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAvLyBiZWNhdXNlIHdlIHBhdXNlZCB0aGUgd2F0Y2hlciwgd2UgbmVlZCB0byBtYW51YWxseSBjYWxsIHRoZSBzdWJzY3JpcHRpb25zXG4gICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKHN1YnNjcmlwdGlvbnMsIHN1YnNjcmlwdGlvbk11dGF0aW9uLCBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdKTtcbiAgICB9XG4gICAgY29uc3QgJHJlc2V0ID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgPyBmdW5jdGlvbiAkcmVzZXQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgICAgIC8vIHdlIHVzZSBhIHBhdGNoIHRvIGdyb3VwIGFsbCBjaGFuZ2VzIGludG8gb25lIHNpbmdsZSBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkbid0IGVycm9yP1xuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIG5ld1N0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgICAgID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYPCfjY06IFN0b3JlIFwiJHskaWR9XCIgaXMgYnVpbHQgdXNpbmcgdGhlIHNldHVwIHN5bnRheCBhbmQgZG9lcyBub3QgaW1wbGVtZW50ICRyZXNldCgpLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG5vb3A7XG4gICAgZnVuY3Rpb24gJGRpc3Bvc2UoKSB7XG4gICAgICAgIHNjb3BlLnN0b3AoKTtcbiAgICAgICAgc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICBhY3Rpb25TdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHBpbmlhLl9zLmRlbGV0ZSgkaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgdGhhdCB3cmFwcyBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgdHJhY2tlZCB3aXRoICRvbkFjdGlvblxuICAgICAqIEBwYXJhbSBmbiAtIGFjdGlvbiB0byB3cmFwXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdCBhY3Rpb24gPSAoZm4sIG5hbWUgPSAnJykgPT4ge1xuICAgICAgICBpZiAoQUNUSU9OX01BUktFUiBpbiBmbikge1xuICAgICAgICAgICAgZm5bQUNUSU9OX05BTUVdID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwcGVkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyQ2FsbGJhY2tMaXN0ID0gW107XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yQ2FsbGJhY2tMaXN0ID0gW107XG4gICAgICAgICAgICBmdW5jdGlvbiBhZnRlcihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGFmdGVyQ2FsbGJhY2tMaXN0LnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIG9uRXJyb3JDYWxsYmFja0xpc3QucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhhY3Rpb25TdWJzY3JpcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICBuYW1lOiB3cmFwcGVkQWN0aW9uW0FDVElPTl9OQU1FXSxcbiAgICAgICAgICAgICAgICBzdG9yZSxcbiAgICAgICAgICAgICAgICBhZnRlcixcbiAgICAgICAgICAgICAgICBvbkVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgcmV0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXQgPSBmbi5hcHBseSh0aGlzICYmIHRoaXMuJGlkID09PSAkaWQgPyB0aGlzIDogc3RvcmUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzeW5jIGVycm9yc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMob25FcnJvckNhbGxiYWNrTGlzdCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0XG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhhZnRlckNhbGxiYWNrTGlzdCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tMaXN0LCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGFmdGVyIGNhbGxiYWNrc1xuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHJldCk7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgICAgICB3cmFwcGVkQWN0aW9uW0FDVElPTl9NQVJLRVJdID0gdHJ1ZTtcbiAgICAgICAgd3JhcHBlZEFjdGlvbltBQ1RJT05fTkFNRV0gPSBuYW1lOyAvLyB3aWxsIGJlIHNldCBsYXRlclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBhcmUgaW50ZW50aW9uYWxseSBsaW1pdGluZyB0aGUgcmV0dXJuZWQgdHlwZSB0byBqdXN0IEZuXG4gICAgICAgIC8vIGJlY2F1c2UgYWxsIHRoZSBhZGRlZCBwcm9wZXJ0aWVzIGFyZSBpbnRlcm5hbHMgdGhhdCBhcmUgZXhwb3NlZCB0aHJvdWdoIGAkb25BY3Rpb24oKWAgb25seVxuICAgICAgICByZXR1cm4gd3JhcHBlZEFjdGlvbjtcbiAgICB9O1xuICAgIGNvbnN0IF9obXJQYXlsb2FkID0gLyojX19QVVJFX18qLyBtYXJrUmF3KHtcbiAgICAgICAgYWN0aW9uczoge30sXG4gICAgICAgIGdldHRlcnM6IHt9LFxuICAgICAgICBzdGF0ZTogW10sXG4gICAgICAgIGhvdFN0YXRlLFxuICAgIH0pO1xuICAgIGNvbnN0IHBhcnRpYWxTdG9yZSA9IHtcbiAgICAgICAgX3A6IHBpbmlhLFxuICAgICAgICAvLyBfczogc2NvcGUsXG4gICAgICAgICRpZCxcbiAgICAgICAgJG9uQWN0aW9uOiBhZGRTdWJzY3JpcHRpb24uYmluZChudWxsLCBhY3Rpb25TdWJzY3JpcHRpb25zKSxcbiAgICAgICAgJHBhdGNoLFxuICAgICAgICAkcmVzZXQsXG4gICAgICAgICRzdWJzY3JpYmUoY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbnMsIGNhbGxiYWNrLCBvcHRpb25zLmRldGFjaGVkLCAoKSA9PiBzdG9wV2F0Y2hlcigpKTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3BXYXRjaGVyID0gc2NvcGUucnVuKCgpID0+IHdhdGNoKCgpID0+IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmZsdXNoID09PSAnc3luYycgPyBpc1N5bmNMaXN0ZW5pbmcgOiBpc0xpc3RlbmluZykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBNdXRhdGlvblR5cGUuZGlyZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgfSwgc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGFzc2lnbih7fSwgJHN1YnNjcmliZU9wdGlvbnMsIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICAkZGlzcG9zZSxcbiAgICB9O1xuICAgIGNvbnN0IHN0b3JlID0gcmVhY3RpdmUoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICgoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgX19WVUVfUFJPRF9ERVZUT09MU19fKSkgJiYgIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSkgJiYgSVNfQ0xJRU5UKVxuICAgICAgICA/IGFzc2lnbih7XG4gICAgICAgICAgICBfaG1yUGF5bG9hZCxcbiAgICAgICAgICAgIF9jdXN0b21Qcm9wZXJ0aWVzOiBtYXJrUmF3KG5ldyBTZXQoKSksIC8vIGRldnRvb2xzIGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgIH0sIHBhcnRpYWxTdG9yZVxuICAgICAgICAvLyBtdXN0IGJlIGFkZGVkIGxhdGVyXG4gICAgICAgIC8vIHNldHVwU3RvcmVcbiAgICAgICAgKVxuICAgICAgICA6IHBhcnRpYWxTdG9yZSk7XG4gICAgLy8gc3RvcmUgdGhlIHBhcnRpYWwgc3RvcmUgbm93IHNvIHRoZSBzZXR1cCBvZiBzdG9yZXMgY2FuIGluc3RhbnRpYXRlIGVhY2ggb3RoZXIgYmVmb3JlIHRoZXkgYXJlIGZpbmlzaGVkIHdpdGhvdXRcbiAgICAvLyBjcmVhdGluZyBpbmZpbml0ZSBsb29wcy5cbiAgICBwaW5pYS5fcy5zZXQoJGlkLCBzdG9yZSk7XG4gICAgY29uc3QgcnVuV2l0aENvbnRleHQgPSAocGluaWEuX2EgJiYgcGluaWEuX2EucnVuV2l0aENvbnRleHQpIHx8IGZhbGxiYWNrUnVuV2l0aENvbnRleHQ7XG4gICAgLy8gVE9ETzogaWRlYSBjcmVhdGUgc2tpcFNlcmlhbGl6ZSB0aGF0IG1hcmtzIHByb3BlcnRpZXMgYXMgbm9uIHNlcmlhbGl6YWJsZSBhbmQgdGhleSBhcmUgc2tpcHBlZFxuICAgIGNvbnN0IHNldHVwU3RvcmUgPSBydW5XaXRoQ29udGV4dCgoKSA9PiBwaW5pYS5fZS5ydW4oKCkgPT4gKHNjb3BlID0gZWZmZWN0U2NvcGUoKSkucnVuKCgpID0+IHNldHVwKHsgYWN0aW9uIH0pKSkpO1xuICAgIC8vIG92ZXJ3cml0ZSBleGlzdGluZyBhY3Rpb25zIHRvIHN1cHBvcnQgJG9uQWN0aW9uXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2V0dXBTdG9yZSkge1xuICAgICAgICBjb25zdCBwcm9wID0gc2V0dXBTdG9yZVtrZXldO1xuICAgICAgICBpZiAoKGlzUmVmKHByb3ApICYmICFpc0NvbXB1dGVkKHByb3ApKSB8fCBpc1JlYWN0aXZlKHByb3ApKSB7XG4gICAgICAgICAgICAvLyBtYXJrIGl0IGFzIGEgcGllY2Ugb2Ygc3RhdGUgdG8gYmUgc2VyaWFsaXplZFxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcbiAgICAgICAgICAgICAgICBob3RTdGF0ZS52YWx1ZVtrZXldID0gdG9SZWYoc2V0dXBTdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGVPcHRpb25TdG9yZSBkaXJlY3RseSBzZXRzIHRoZSBzdGF0ZSBpbiBwaW5pYS5zdGF0ZS52YWx1ZSBzbyB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzT3B0aW9uc1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsU3RhdGUgJiYgc2hvdWxkSHlkcmF0ZShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWYocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogcHJvcCBpcyB1bmtub3duXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZVJlYWN0aXZlT2JqZWN0cyhwcm9wLCBpbml0aWFsU3RhdGVba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNmZXIgdGhlIHJlZiB0byB0aGUgcGluaWEgc3RhdGUgdG8ga2VlcCBldmVyeXRoaW5nIGluIHN5bmNcbiAgICAgICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdW2tleV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5zdGF0ZS5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhY3Rpb25cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uVmFsdWUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gcHJvcCA6IGFjdGlvbihwcm9wLCBrZXkpO1xuICAgICAgICAgICAgLy8gdGhpcyBhIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQgc3RvcmUgYmVjYXVzZSB0aGUgaG90VXBkYXRlIG1ldGhvZCBuZWVkc1xuICAgICAgICAgICAgLy8gdG8gZG8gaXQgd2l0aCB0aGUgcmlnaHQgY29udGV4dFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgc2V0dXBTdG9yZVtrZXldID0gYWN0aW9uVmFsdWU7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmFjdGlvbnNba2V5XSA9IHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaXN0IGFjdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCBpbiBwbHVnaW5zXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcbiAgICAgICAgICAgIGlmIChpc0NvbXB1dGVkKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuZ2V0dGVyc1trZXldID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmdldHRlcnNba2V5XVxuICAgICAgICAgICAgICAgICAgICA6IHByb3A7XG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJzID0gc2V0dXBTdG9yZS5fZ2V0dGVycyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc2FtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIGdldHRlcnMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBhc3NpZ24oc3RvcmUsIHNldHVwU3RvcmUpO1xuICAgIC8vIGFsbG93cyByZXRyaWV2aW5nIHJlYWN0aXZlIG9iamVjdHMgd2l0aCBgc3RvcmVUb1JlZnMoKWAuIE11c3QgYmUgY2FsbGVkIGFmdGVyIGFzc2lnbmluZyB0byB0aGUgcmVhY3RpdmUgb2JqZWN0LlxuICAgIC8vIE1ha2UgYHN0b3JlVG9SZWZzKClgIHdvcmsgd2l0aCBgcmVhY3RpdmUoKWAgIzc5OVxuICAgIGFzc2lnbih0b1JhdyhzdG9yZSksIHNldHVwU3RvcmUpO1xuICAgIC8vIHVzZSB0aGlzIGluc3RlYWQgb2YgYSBjb21wdXRlZCB3aXRoIHNldHRlciB0byBiZSBhYmxlIHRvIGNyZWF0ZSBpdCBhbnl3aGVyZVxuICAgIC8vIHdpdGhvdXQgbGlua2luZyB0aGUgY29tcHV0ZWQgbGlmZXNwYW4gdG8gd2hlcmV2ZXIgdGhlIHN0b3JlIGlzIGZpcnN0XG4gICAgLy8gY3JlYXRlZC5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsICckc3RhdGUnLCB7XG4gICAgICAgIGdldDogKCkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBob3RTdGF0ZS52YWx1ZSA6IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pLFxuICAgICAgICBzZXQ6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IHNldCBob3RTdGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHBhdGNoKCgkc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkbid0IGVycm9yP1xuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIHN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8vIGFkZCB0aGUgaG90VXBkYXRlIGJlZm9yZSBwbHVnaW5zIHRvIGFsbG93IHRoZW0gdG8gb3ZlcnJpZGUgaXRcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgc3RvcmUuX2hvdFVwZGF0ZSA9IG1hcmtSYXcoKG5ld1N0b3JlKSA9PiB7XG4gICAgICAgICAgICBzdG9yZS5faG90VXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgbmV3U3RvcmUuX2htclBheWxvYWQuc3RhdGUuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGVLZXkgaW4gc3RvcmUuJHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlVGFyZ2V0ID0gbmV3U3RvcmUuJHN0YXRlW3N0YXRlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGVTb3VyY2UgPSBzdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5ld1N0YXRlVGFyZ2V0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChuZXdTdGF0ZVRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob2xkU3RhdGVTb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaE9iamVjdChuZXdTdGF0ZVRhcmdldCwgb2xkU3RhdGVTb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhbnNmZXIgdGhlIHJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RvcmUuJHN0YXRlW3N0YXRlS2V5XSA9IG9sZFN0YXRlU291cmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHBhdGNoIGRpcmVjdCBhY2Nlc3MgcHJvcGVydGllcyB0byBhbGxvdyBzdG9yZS5zdGF0ZVByb3BlcnR5IHRvIHdvcmsgYXNcbiAgICAgICAgICAgICAgICAvLyBzdG9yZS4kc3RhdGUuc3RhdGVQcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGFueSB0eXBlXG4gICAgICAgICAgICAgICAgc3RvcmVbc3RhdGVLZXldID0gdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxldGVkIHN0YXRlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZUtleSBpbiBuZXdTdG9yZS4kc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IG5vb3AgaWYgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc3RvcmVbc3RhdGVLZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gYXZvaWQgZGV2dG9vbHMgbG9nZ2luZyB0aGlzIGFzIGEgbXV0YXRpb25cbiAgICAgICAgICAgIGlzTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0gPSB0b1JlZihuZXdTdG9yZS5faG1yUGF5bG9hZCwgJ2hvdFN0YXRlJyk7XG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uRm4gPSBuZXdTdG9yZVthY3Rpb25OYW1lXTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBhY3Rpb25OYW1lIGlzIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24oYWN0aW9uRm4sIGFjdGlvbk5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogZG9lcyB0aGlzIHdvcmsgaW4gYm90aCBzZXR1cCBhbmQgb3B0aW9uIHN0b3JlP1xuICAgICAgICAgICAgZm9yIChjb25zdCBnZXR0ZXJOYW1lIGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzW2dldHRlck5hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlclZhbHVlID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBzcGVjaWFsIGhhbmRsaW5nIG9mIG9wdGlvbnMgYXBpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChzdG9yZSwgc3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXI7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogZ2V0dGVyTmFtZSBpcyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIHN0b3JlW2dldHRlck5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVyVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBnZXR0ZXJzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm9vcCBpZiBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzdG9yZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBhY3Rpb25zXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm9vcCBpZiBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzdG9yZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSB2YWx1ZXMgdXNlZCBpbiBkZXZ0b29scyBhbmQgdG8gYWxsb3cgZGVsZXRpbmcgbmV3IHByb3BlcnRpZXMgbGF0ZXIgb25cbiAgICAgICAgICAgIHN0b3JlLl9obXJQYXlsb2FkID0gbmV3U3RvcmUuX2htclBheWxvYWQ7XG4gICAgICAgICAgICBzdG9yZS5fZ2V0dGVycyA9IG5ld1N0b3JlLl9nZXR0ZXJzO1xuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykpICYmIElTX0NMSUVOVCkge1xuICAgICAgICBjb25zdCBub25FbnVtZXJhYmxlID0ge1xuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5nIG9uIGRldnRvb2xzIHRyeWluZyB0byBkaXNwbGF5IHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBbJ19wJywgJ19obXJQYXlsb2FkJywgJ19nZXR0ZXJzJywgJ19jdXN0b21Qcm9wZXJ0aWVzJ10uZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCBwLCBhc3NpZ24oeyB2YWx1ZTogc3RvcmVbcF0gfSwgbm9uRW51bWVyYWJsZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gYXBwbHkgYWxsIHBsdWdpbnNcbiAgICBwaW5pYS5fcC5mb3JFYWNoKChleHRlbmRlcikgPT4ge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykpICYmIElTX0NMSUVOVCkge1xuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XG4gICAgICAgICAgICAgICAgc3RvcmU6IHN0b3JlLFxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXG4gICAgICAgICAgICAgICAgcGluaWEsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc0ZvclBsdWdpbixcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGV4dGVuc2lvbnMgfHwge30pLmZvckVhY2goKGtleSkgPT4gc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuYWRkKGtleSkpO1xuICAgICAgICAgICAgYXNzaWduKHN0b3JlLCBleHRlbnNpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgc2NvcGUucnVuKCgpID0+IGV4dGVuZGVyKHtcbiAgICAgICAgICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgICAgICAgICAgYXBwOiBwaW5pYS5fYSxcbiAgICAgICAgICAgICAgICBwaW5pYSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zRm9yUGx1Z2luLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgc3RvcmUuJHN0YXRlICYmXG4gICAgICAgIHR5cGVvZiBzdG9yZS4kc3RhdGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBzdG9yZS4kc3RhdGUuY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgIXN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IFRoZSBcInN0YXRlXCIgbXVzdCBiZSBhIHBsYWluIG9iamVjdC4gSXQgY2Fubm90IGJlXFxuYCArXG4gICAgICAgICAgICBgXFx0c3RhdGU6ICgpID0+IG5ldyBNeUNsYXNzKClcXG5gICtcbiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSBcIiR7c3RvcmUuJGlkfVwiLmApO1xuICAgIH1cbiAgICAvLyBvbmx5IGFwcGx5IGh5ZHJhdGUgdG8gb3B0aW9uIHN0b3JlcyB3aXRoIGFuIGluaXRpYWwgc3RhdGUgaW4gcGluaWFcbiAgICBpZiAoaW5pdGlhbFN0YXRlICYmXG4gICAgICAgIGlzT3B0aW9uc1N0b3JlICYmXG4gICAgICAgIG9wdGlvbnMuaHlkcmF0ZSkge1xuICAgICAgICBvcHRpb25zLmh5ZHJhdGUoc3RvcmUuJHN0YXRlLCBpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RvcmU7XG59XG4vLyBhbGxvd3MgdW51c2VkIHN0b3JlcyB0byBiZSB0cmVlIHNoYWtlblxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG5mdW5jdGlvbiBkZWZpbmVTdG9yZShcbi8vIFRPRE86IGFkZCBwcm9wZXIgdHlwZXMgZnJvbSBhYm92ZVxuaWQsIHNldHVwLCBzZXR1cE9wdGlvbnMpIHtcbiAgICBsZXQgb3B0aW9ucztcbiAgICBjb25zdCBpc1NldHVwU3RvcmUgPSB0eXBlb2Ygc2V0dXAgPT09ICdmdW5jdGlvbic7XG4gICAgLy8gdGhlIG9wdGlvbiBzdG9yZSBzZXR1cCB3aWxsIGNvbnRhaW4gdGhlIGFjdHVhbCBvcHRpb25zIGluIHRoaXMgY2FzZVxuICAgIG9wdGlvbnMgPSBpc1NldHVwU3RvcmUgPyBzZXR1cE9wdGlvbnMgOiBzZXR1cDtcbiAgICBmdW5jdGlvbiB1c2VTdG9yZShwaW5pYSwgaG90KSB7XG4gICAgICAgIGNvbnN0IGhhc0NvbnRleHQgPSBoYXNJbmplY3Rpb25Db250ZXh0KCk7XG4gICAgICAgIHBpbmlhID1cbiAgICAgICAgICAgIC8vIGluIHRlc3QgbW9kZSwgaWdub3JlIHRoZSBhcmd1bWVudCBwcm92aWRlZCBhcyB3ZSBjYW4gYWx3YXlzIHJldHJpZXZlIGFcbiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKVxuICAgICAgICAgICAgKChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSAmJiBhY3RpdmVQaW5pYSAmJiBhY3RpdmVQaW5pYS5fdGVzdGluZyA/IG51bGwgOiBwaW5pYSkgfHxcbiAgICAgICAgICAgICAgICAoaGFzQ29udGV4dCA/IGluamVjdChwaW5pYVN5bWJvbCwgbnVsbCkgOiBudWxsKTtcbiAgICAgICAgaWYgKHBpbmlhKVxuICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY3RpdmVQaW5pYSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBb8J+NjV06IFwiZ2V0QWN0aXZlUGluaWEoKVwiIHdhcyBjYWxsZWQgYnV0IHRoZXJlIHdhcyBubyBhY3RpdmUgUGluaWEuIEFyZSB5b3UgdHJ5aW5nIHRvIHVzZSBhIHN0b3JlIGJlZm9yZSBjYWxsaW5nIFwiYXBwLnVzZShwaW5pYSlcIj9cXG5gICtcbiAgICAgICAgICAgICAgICBgU2VlIGh0dHBzOi8vcGluaWEudnVlanMub3JnL2NvcmUtY29uY2VwdHMvb3V0c2lkZS1jb21wb25lbnQtdXNhZ2UuaHRtbCBmb3IgaGVscC5cXG5gICtcbiAgICAgICAgICAgICAgICBgVGhpcyB3aWxsIGZhaWwgaW4gcHJvZHVjdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBwaW5pYSA9IGFjdGl2ZVBpbmlhO1xuICAgICAgICBpZiAoIXBpbmlhLl9zLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIHRoZSBzdG9yZSByZWdpc3RlcnMgaXQgaW4gYHBpbmlhLl9zYFxuICAgICAgICAgICAgaWYgKGlzU2V0dXBTdG9yZSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVNldHVwU3RvcmUoaWQsIHNldHVwLCBvcHRpb25zLCBwaW5pYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVPcHRpb25zU3RvcmUoaWQsIG9wdGlvbnMsIHBpbmlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm90IHRoZSByaWdodCBpbmZlcnJlZCB0eXBlXG4gICAgICAgICAgICAgICAgdXNlU3RvcmUuX3BpbmlhID0gcGluaWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xuICAgICAgICAgICAgY29uc3QgaG90SWQgPSAnX19ob3Q6JyArIGlkO1xuICAgICAgICAgICAgY29uc3QgbmV3U3RvcmUgPSBpc1NldHVwU3RvcmVcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZVNldHVwU3RvcmUoaG90SWQsIHNldHVwLCBvcHRpb25zLCBwaW5pYSwgdHJ1ZSlcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZU9wdGlvbnNTdG9yZShob3RJZCwgYXNzaWduKHt9LCBvcHRpb25zKSwgcGluaWEsIHRydWUpO1xuICAgICAgICAgICAgaG90Ll9ob3RVcGRhdGUobmV3U3RvcmUpO1xuICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgc3RhdGUgcHJvcGVydGllcyBhbmQgdGhlIHN0b3JlIGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICBkZWxldGUgcGluaWEuc3RhdGUudmFsdWVbaG90SWRdO1xuICAgICAgICAgICAgcGluaWEuX3MuZGVsZXRlKGhvdElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIElTX0NMSUVOVCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAvLyBzYXZlIHN0b3JlcyBpbiBpbnN0YW5jZXMgdG8gYWNjZXNzIHRoZW0gZGV2dG9vbHNcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UucHJveHkgJiZcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBhZGRpbmcgc3RvcmVzIHRoYXQgYXJlIGp1c3QgYnVpbHQgZm9yIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAhaG90KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm0gPSBjdXJyZW50SW5zdGFuY2UucHJveHk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGUgPSAnX3BTdG9yZXMnIGluIHZtID8gdm0uX3BTdG9yZXMgOiAodm0uX3BTdG9yZXMgPSB7fSk7XG4gICAgICAgICAgICAgICAgY2FjaGVbaWRdID0gc3RvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RvcmVHZW5lcmljIGNhbm5vdCBiZSBjYXN0ZWQgdG93YXJkcyBTdG9yZVxuICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIHVzZVN0b3JlLiRpZCA9IGlkO1xuICAgIHJldHVybiB1c2VTdG9yZTtcbn1cblxubGV0IG1hcFN0b3JlU3VmZml4ID0gJ1N0b3JlJztcbi8qKlxuICogQ2hhbmdlcyB0aGUgc3VmZml4IGFkZGVkIGJ5IGBtYXBTdG9yZXMoKWAuIENhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLlxuICogRGVmYXVsdHMgdG8gYFwiU3RvcmVcImAuIE1ha2Ugc3VyZSB0byBleHRlbmQgdGhlIE1hcFN0b3Jlc0N1c3RvbWl6YXRpb25cbiAqIGludGVyZmFjZSBpZiB5b3UgYXJlIHVzaW5nIFR5cGVTY3JpcHQuXG4gKlxuICogQHBhcmFtIHN1ZmZpeCAtIG5ldyBzdWZmaXhcbiAqL1xuZnVuY3Rpb24gc2V0TWFwU3RvcmVTdWZmaXgoc3VmZml4IC8vIGNvdWxkIGJlICdTdG9yZScgYnV0IHRoYXQgd291bGQgYmUgYW5ub3lpbmcgZm9yIEpTXG4pIHtcbiAgICBtYXBTdG9yZVN1ZmZpeCA9IHN1ZmZpeDtcbn1cbi8qKlxuICogQWxsb3dzIHVzaW5nIHN0b3JlcyB3aXRob3V0IHRoZSBjb21wb3NpdGlvbiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhblxuICogb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZCBvZiBhIGNvbXBvbmVudC4gSXQgYWNjZXB0cyBhIGxpc3RcbiAqIG9mIHN0b3JlIGRlZmluaXRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogZXhwb3J0IGRlZmF1bHQge1xuICogICBjb21wdXRlZDoge1xuICogICAgIC8vIG90aGVyIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAqICAgICAuLi5tYXBTdG9yZXModXNlVXNlclN0b3JlLCB1c2VDYXJ0U3RvcmUpXG4gKiAgIH0sXG4gKlxuICogICBjcmVhdGVkKCkge1xuICogICAgIHRoaXMudXNlclN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJ1c2VyXCJcbiAqICAgICB0aGlzLmNhcnRTdG9yZSAvLyBzdG9yZSB3aXRoIGlkIFwiY2FydFwiXG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdG9yZXMgLSBsaXN0IG9mIHN0b3JlcyB0byBtYXAgdG8gYW4gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcFN0b3JlcyguLi5zdG9yZXMpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogRGlyZWN0bHkgcGFzcyBhbGwgc3RvcmVzIHRvIFwibWFwU3RvcmVzKClcIiB3aXRob3V0IHB1dHRpbmcgdGhlbSBpbiBhbiBhcnJheTpcXG5gICtcbiAgICAgICAgICAgIGBSZXBsYWNlXFxuYCArXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKFt1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZV0pXFxuYCArXG4gICAgICAgICAgICBgd2l0aFxcbmAgK1xuICAgICAgICAgICAgYFxcdG1hcFN0b3Jlcyh1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZSlcXG5gICtcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcbiAgICAgICAgc3RvcmVzID0gc3RvcmVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmVzLnJlZHVjZSgocmVkdWNlZCwgdXNlU3RvcmUpID0+IHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogJGlkIGlzIGFkZGVkIGJ5IGRlZmluZVN0b3JlXG4gICAgICAgIHJlZHVjZWRbdXNlU3RvcmUuJGlkICsgbWFwU3RvcmVTdWZmaXhdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcbiAqIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXG4gKiBAcGFyYW0ga2V5c09yTWFwcGVyIC0gYXJyYXkgb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcFN0YXRlKHVzZVN0b3JlLCBrZXlzT3JNYXBwZXIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZCB3b3JrP1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUodGhpcy4kcGluaWEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlS2V5ID0ga2V5c09yTWFwcGVyW2tleV07XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIFRTIGlzIHVuYWJsZSB0byBpbmZlciB0aGUgdHlwZSBvZiBzdG9yZUtleSB0byBiZSBhXG4gICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHN0b3JlS2V5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVLZXkuY2FsbCh0aGlzLCBzdG9yZSlcbiAgICAgICAgICAgICAgICAgICAgOiAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkIHdvcms/XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVtzdG9yZUtleV07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIGBtYXBTdGF0ZSgpYC4gWW91IHNob3VsZCB1c2UgYG1hcFN0YXRlKClgIGluc3RlYWQuXG4gKiBAZGVwcmVjYXRlZCB1c2UgYG1hcFN0YXRlKClgIGluc3RlYWQuXG4gKi9cbmNvbnN0IG1hcEdldHRlcnMgPSBtYXBTdGF0ZTtcbi8qKlxuICogQWxsb3dzIGRpcmVjdGx5IHVzaW5nIGFjdGlvbnMgZnJvbSB5b3VyIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXG4gKiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgbWV0aG9kc2AgZmllbGRcbiAqIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXG4gKiBAcGFyYW0ga2V5c09yTWFwcGVyIC0gYXJyYXkgb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcEFjdGlvbnModXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXNPck1hcHBlcilcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZCB3b3JrP1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSguLi5hcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkIHdvcms/XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0oLi4uYXJncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KTtcbn1cbi8qKlxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXG4gKiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkXG4gKiBvZiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gdXNlU3RvcmUgLSBzdG9yZSB0byBtYXAgZnJvbVxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBXcml0YWJsZVN0YXRlKHVzZVN0b3JlLCBrZXlzT3JNYXBwZXIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IG9mIHJlZmVyZW5jZXMgd2l0aCBhbGwgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgcGx1Z2luLWFkZGVkXG4gKiBzdGF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBzdG9yZS4gU2ltaWxhciB0byBgdG9SZWZzKClgIGJ1dCBzcGVjaWZpY2FsbHlcbiAqIGRlc2lnbmVkIGZvciBQaW5pYSBzdG9yZXMgc28gbWV0aG9kcyBhbmQgbm9uIHJlYWN0aXZlIHByb3BlcnRpZXMgYXJlXG4gKiBjb21wbGV0ZWx5IGlnbm9yZWQuXG4gKlxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gZXh0cmFjdCB0aGUgcmVmcyBmcm9tXG4gKi9cbmZ1bmN0aW9uIHN0b3JlVG9SZWZzKHN0b3JlKSB7XG4gICAgY29uc3QgcmF3U3RvcmUgPSB0b1JhdyhzdG9yZSk7XG4gICAgY29uc3QgcmVmcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1N0b3JlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3U3RvcmVba2V5XTtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gbmF0aXZlIG1ldGhvZCB0byBjaGVjayBmb3IgYSBjb21wdXRlZFxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29yZS9wdWxsLzQxNjVcbiAgICAgICAgaWYgKHZhbHVlLmVmZmVjdCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdG9vIGhhcmQgdG8gdHlwZSBjb3JyZWN0bHlcbiAgICAgICAgICAgIHJlZnNba2V5XSA9XG4gICAgICAgICAgICAgICAgLy8gLi4uXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQoe1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHN0b3JlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIGtleSBpcyBzdGF0ZSBvciBnZXR0ZXJcbiAgICAgICAgICAgIHJlZnNba2V5XSA9XG4gICAgICAgICAgICAgICAgLy8gLS0tXG4gICAgICAgICAgICAgICAgdG9SZWYoc3RvcmUsIGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZnM7XG59XG5cbmV4cG9ydCB7IE11dGF0aW9uVHlwZSwgYWNjZXB0SE1SVXBkYXRlLCBjcmVhdGVQaW5pYSwgZGVmaW5lU3RvcmUsIGRpc3Bvc2VQaW5pYSwgZ2V0QWN0aXZlUGluaWEsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBTdG9yZXMsIG1hcFdyaXRhYmxlU3RhdGUsIHNldEFjdGl2ZVBpbmlhLCBzZXRNYXBTdG9yZVN1ZmZpeCwgc2hvdWxkSHlkcmF0ZSwgc2tpcEh5ZHJhdGUsIHN0b3JlVG9SZWZzIH07XG4iLCJ2YXIgcSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBGID0gKGUsIG4sIHQpID0+IG4gaW4gZSA/IHEoZSwgbiwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IGVbbl0gPSB0O1xudmFyIG0gPSAoZSwgbiwgdCkgPT4gRihlLCB0eXBlb2YgbiAhPSBcInN5bWJvbFwiID8gbiArIFwiXCIgOiBuLCB0KTtcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBHLCBuZXh0VGljayBhcyBXLCByZW5kZXIgYXMgRCwgY3JlYXRlVk5vZGUgYXMgWCwgaCBhcyBSIH0gZnJvbSBcInZ1ZVwiO1xuLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjUuMTNcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBPYmplY3QuZnJlZXplKHt9KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBPYmplY3QuZnJlZXplKFtdKTtcbmNvbnN0IEkgPSBPYmplY3QuYXNzaWduLCAkID0gQXJyYXkuaXNBcnJheSwgWiA9IChlKSA9PiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiLCBCID0gKGUpID0+IHtcbiAgY29uc3QgbiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHQpID0+IG5bdF0gfHwgKG5bdF0gPSBlKHQpKTtcbn0sIEogPSAvLShcXHcpL2csIFMgPSBCKFxuICAoZSkgPT4gZS5yZXBsYWNlKEosIChuLCB0KSA9PiB0ID8gdC50b1VwcGVyQ2FzZSgpIDogXCJcIilcbiksIFEgPSAvXFxCKFtBLVpdKS9nLCBOID0gQihcbiAgKGUpID0+IGUucmVwbGFjZShRLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpXG4pLCBDID0gKGUpID0+IHtcbiAgY29uc3QgbiA9IFooZSkgPyBOdW1iZXIoZSkgOiBOYU47XG4gIHJldHVybiBpc05hTihuKSA/IGUgOiBuO1xufTtcbi8qISNfX05PX1NJREVfRUZGRUNUU19fKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBZKGUsIG4sIHQpIHtcbiAgY29uc3QgcyA9IEcoZSk7XG4gIGNsYXNzIG8gZXh0ZW5kcyBUIHtcbiAgICBjb25zdHJ1Y3RvcihpKSB7XG4gICAgICBzdXBlcihzLCBpLCBuLCB0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG0obywgXCJkZWZcIiwgcyksIG87XG59XG5jb25zdCBlZSA9IHR5cGVvZiBIVE1MRWxlbWVudCA8IFwidVwiID8gSFRNTEVsZW1lbnQgOiBjbGFzcyB7XG59O1xuY2xhc3MgVCBleHRlbmRzIGVlIHtcbiAgY29uc3RydWN0b3IodCwgcyA9IHt9LCBvID0geyBzaGFkb3dSb290OiAhMCB9LCByKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBtKHRoaXMsIFwiX2luc3RhbmNlXCIsIG51bGwpO1xuICAgIG0odGhpcywgXCJfY29ubmVjdGVkXCIsICExKTtcbiAgICBtKHRoaXMsIFwiX3Jlc29sdmVkXCIsICExKTtcbiAgICBtKHRoaXMsIFwiX251bWJlclByb3BzXCIsIG51bGwpO1xuICAgIG0odGhpcywgXCJfc3R5bGVzXCIpO1xuICAgIG0odGhpcywgXCJfc2xvdHNcIiwge30pO1xuICAgIG0odGhpcywgXCJfb2JcIiwgbnVsbCk7XG4gICAgdGhpcy5fZGVmID0gdCwgdGhpcy5fcHJvcHMgPSBzLCB0aGlzLl9jb25maWcgPSBvLCB0aGlzLl9yb290ICYmIHIgPyByKHRoaXMuX2NyZWF0ZVZOb2RlKCksIHRoaXMuX3Jvb3QpIDogKHRoaXMuX2NvbmZpZy5zaGFkb3dSb290ICE9PSAhMSAmJiB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pLCB0aGlzLl9kZWYuX19hc3luY0xvYWRlciB8fCB0aGlzLl9yZXNvbHZlUHJvcHModGhpcy5fZGVmKSk7XG4gIH1cbiAgZ2V0IF9yb290KCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuc2hhZG93Um9vdCA/IHRoaXMuc2hhZG93Um9vdCA6IHRoaXM7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gITAsIHRoaXMuX2luc3RhbmNlIHx8ICh0aGlzLl9yZXNvbHZlZCA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcy5fcmVzb2x2ZURlZigpKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSAhMSwgVygoKSA9PiB7XG4gICAgICB0aGlzLl9jb25uZWN0ZWQgfHwgKHRoaXMuX29iICYmICh0aGlzLl9vYi5kaXNjb25uZWN0KCksIHRoaXMuX29iID0gbnVsbCksIEQobnVsbCwgdGhpcy5fcm9vdCksIHRoaXMuX2luc3RhbmNlID0gbnVsbCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIHJlc29sdmUgaW5uZXIgY29tcG9uZW50IGRlZmluaXRpb24gKGhhbmRsZSBwb3NzaWJsZSBhc3luYyBjb21wb25lbnQpXG4gICAqL1xuICBfcmVzb2x2ZURlZigpIHtcbiAgICB0aGlzLl9yZXNvbHZlZCA9ICEwO1xuICAgIGZvciAobGV0IG8gPSAwOyBvIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgbysrKVxuICAgICAgdGhpcy5fc2V0QXR0cih0aGlzLmF0dHJpYnV0ZXNbb10ubmFtZSk7XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobykgPT4ge1xuICAgICAgZm9yIChjb25zdCByIG9mIG8pXG4gICAgICAgIHRoaXMuX3NldEF0dHIoci5hdHRyaWJ1dGVOYW1lKTtcbiAgICB9KSwgdGhpcy5fb2Iub2JzZXJ2ZSh0aGlzLCB7IGF0dHJpYnV0ZXM6ICEwIH0pO1xuICAgIGNvbnN0IHQgPSAobywgciA9ICExKSA9PiB7XG4gICAgICB2YXIgRTtcbiAgICAgIGNvbnN0IHsgcHJvcHM6IGkgfSA9IG8sIHUgPSB0aGlzLl9jb2xsZWN0TmVzdGVkU3R5bGVzKG8pO1xuICAgICAgbGV0IGI7XG4gICAgICBpZiAoaSAmJiAhJChpKSlcbiAgICAgICAgZm9yIChjb25zdCBoIGluIGkpIHtcbiAgICAgICAgICBjb25zdCBjID0gaVtoXTtcbiAgICAgICAgICAoYyA9PT0gTnVtYmVyIHx8IGMgJiYgYy50eXBlID09PSBOdW1iZXIpICYmIChoIGluIHRoaXMuX3Byb3BzICYmICh0aGlzLl9wcm9wc1toXSA9IEModGhpcy5fcHJvcHNbaF0pKSwgKGIgfHwgKGIgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW1MoaCldID0gITApO1xuICAgICAgICB9XG4gICAgICBpZiAodGhpcy5fbnVtYmVyUHJvcHMgPSBiLCByICYmIHRoaXMuX3Jlc29sdmVQcm9wcyhvKSwgIXRoaXMuX2NvbmZpZy5zaGFkb3dSb290KSB7XG4gICAgICAgIHRoaXMuX3Nsb3RzID0ge307XG4gICAgICAgIGNvbnN0IGggPSAoYykgPT4gQXJyYXkuZnJvbShjKS5tYXAoKGwpID0+IHtcbiAgICAgICAgICB2YXIgZDtcbiAgICAgICAgICBpZiAobC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIGNvbnN0IGYgPSBsLCB2ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgICBBcnJheS5mcm9tKGYuYXR0cmlidXRlcykubWFwKChPKSA9PiBbTy5uYW1lLCBPLnZhbHVlXSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gUihcbiAgICAgICAgICAgICAgZi50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgIHYsXG4gICAgICAgICAgICAgIGgoZi5jaGlsZE5vZGVzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGwubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKVxuICAgICAgICAgICAgcmV0dXJuICgoZCA9IGwudGV4dENvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBkLnRyaW0oKSkgfHwgbnVsbDtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSkuZmlsdGVyKChsKSA9PiBsICE9IG51bGwpO1xuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgQXJyYXkuZnJvbSh0aGlzLmNoaWxkTm9kZXMpKSB7XG4gICAgICAgICAgY29uc3QgbCA9IGMubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGMuZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgICBpZiAodGhpcy5fc2xvdHNbbF0gfHwgKHRoaXMuX3Nsb3RzW2xdID0gW10pLCBjLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGMsIGYgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICAgIEFycmF5LmZyb20oZC5hdHRyaWJ1dGVzKS5tYXAoKHYpID0+IFt2Lm5hbWUsIHYudmFsdWVdKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX3Nsb3RzW2xdLnB1c2goXG4gICAgICAgICAgICAgIFIoXG4gICAgICAgICAgICAgICAgZC50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgZixcbiAgICAgICAgICAgICAgICBoKGQuY2hpbGROb2RlcylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGMubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gKEUgPSBjLnRleHRDb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogRS50cmltKCk7XG4gICAgICAgICAgICBkICYmIHRoaXMuX3Nsb3RzW2xdLnB1c2goZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9hcHBseVN0eWxlcyh1KSwgdGhpcy5fdXBkYXRlKCk7XG4gICAgfSwgcyA9IHRoaXMuX2RlZi5fX2FzeW5jTG9hZGVyO1xuICAgIHMgPyBzKCkudGhlbigobykgPT4gdChvLCAhMCkpIDogdCh0aGlzLl9kZWYpO1xuICB9XG4gIF9yZXNvbHZlUHJvcHModCkge1xuICAgIGNvbnN0IHsgcHJvcHM6IHMgfSA9IHQsIG8gPSAkKHMpID8gcyA6IE9iamVjdC5rZXlzKHMgfHwge30pO1xuICAgIGZvciAoY29uc3QgciBvZiBPYmplY3Qua2V5cyh0aGlzKSlcbiAgICAgIHJbMF0gIT09IFwiX1wiICYmIG8uaW5jbHVkZXMocikgJiYgdGhpcy5fc2V0UHJvcChyLCB0aGlzW3JdLCAhMCwgITEpO1xuICAgIGZvciAoY29uc3QgciBvZiBvLm1hcChTKSlcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCByLCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJvcChyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KGkpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKHIsIGkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuICBfc2V0QXR0cih0KSB7XG4gICAgbGV0IHMgPSB0aGlzLmhhc0F0dHJpYnV0ZSh0KSA/IHRoaXMuZ2V0QXR0cmlidXRlKHQpIDogdm9pZCAwO1xuICAgIGNvbnN0IG8gPSBTKHQpO1xuICAgIHRoaXMuX251bWJlclByb3BzICYmIHRoaXMuX251bWJlclByb3BzW29dICYmIChzID0gQyhzKSksIHRoaXMuX3NldFByb3AobywgcywgITEpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRQcm9wKHQpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcHNbdF07XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3NldFByb3AodCwgcywgbyA9ICEwLCByID0gITApIHtcbiAgICBzICE9PSB0aGlzLl9wcm9wc1t0XSAmJiAodGhpcy5fcHJvcHNbdF0gPSBzLCByICYmIHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX3VwZGF0ZSgpLCBvICYmIChzID09PSAhMCA/IHRoaXMuc2V0QXR0cmlidXRlKE4odCksIFwiXCIpIDogdHlwZW9mIHMgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcyA9PSBcIm51bWJlclwiID8gdGhpcy5zZXRBdHRyaWJ1dGUoTih0KSwgcyArIFwiXCIpIDogcyB8fCB0aGlzLnJlbW92ZUF0dHJpYnV0ZShOKHQpKSkpO1xuICB9XG4gIF91cGRhdGUoKSB7XG4gICAgRCh0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLl9yb290KTtcbiAgfVxuICBfY3JlYXRlVk5vZGUoKSB7XG4gICAgY29uc3QgdCA9IFgodGhpcy5fZGVmLCBJKHt9LCB0aGlzLl9wcm9wcyksIHRoaXMuX3Nsb3RzKTtcbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2UgfHwgKHQuY2UgPSAocykgPT4ge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBzLCBzLmlzQ0UgPSAhMDtcbiAgICAgIGNvbnN0IG8gPSAoaSwgdSkgPT4ge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KGksIHtcbiAgICAgICAgICAgIGRldGFpbDogdVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgcy5lbWl0ID0gKGksIC4uLnUpID0+IHtcbiAgICAgICAgbyhpLCB1KSwgTihpKSAhPT0gaSAmJiBvKE4oaSksIHUpO1xuICAgICAgfTtcbiAgICAgIGxldCByID0gdGhpcztcbiAgICAgIGZvciAoOyByID0gciAmJiAoci5wYXJlbnROb2RlIHx8IHIuaG9zdCk7IClcbiAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBUKSB7XG4gICAgICAgICAgcy5wYXJlbnQgPSByLl9pbnN0YW5jZSwgcy5wcm92aWRlcyA9IHIuX2luc3RhbmNlLnByb3ZpZGVzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSksIHQ7XG4gIH1cbiAgX2FwcGx5U3R5bGVzKHQpIHtcbiAgICB0ICYmIHQuZm9yRWFjaCgocykgPT4ge1xuICAgICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgIG8udGV4dENvbnRlbnQgPSBzLCB0aGlzLl9yb290LnByZXBlbmQobyk7XG4gICAgfSk7XG4gIH1cbiAgX2NvbGxlY3ROZXN0ZWRTdHlsZXModCkge1xuICAgIGxldCBzID0gdC5zdHlsZXMgPz8gW107XG4gICAgcmV0dXJuIHQuY29tcG9uZW50cyAmJiBPYmplY3QudmFsdWVzKHQuY29tcG9uZW50cykuZm9yRWFjaCgobykgPT4ge1xuICAgICAgcyA9IHMuY29uY2F0KHRoaXMuX2NvbGxlY3ROZXN0ZWRTdHlsZXMobykpO1xuICAgIH0pLCBzO1xuICB9XG59XG5jb25zdCBIID0gKGUpID0+IHtcbiAgZm9yICg7IChlID09IG51bGwgPyB2b2lkIDAgOiBlLm5vZGVUeXBlKSAhPT0gMTsgKSB7XG4gICAgaWYgKCFlLnBhcmVudEVsZW1lbnQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gcGFyZW50IGVsZW1lbnQgZm91bmQsIHRoZSByb290Q29tcG9uZW50IG11c3QgYmUgd3JhcHBlZCBpbiBhIEhUTUwgZWxlbWVudCAoZS5nLiA8dGVtcGxhdGU+PGRpdj4gYXBwIGNvbnRlbnQgPC9kaXY+PC90ZW1wbGF0ZT4pXCJcbiAgICAgICk7XG4gICAgZSA9IGUucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gZTtcbn07XG5mdW5jdGlvbiB0ZShlKSB7XG4gIHJldHVybiBcIm9uXCIgKyBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIHNlKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlLnJlcGxhY2UoLzpyb290L2csIFwiOmhvc3RcIikgOiBBcnJheS5pc0FycmF5KGUpID8gZS5tYXAoKG4pID0+IG4ucmVwbGFjZSgvOnJvb3QvZywgXCI6aG9zdFwiKSkgOiBlO1xufVxuY29uc3Qgb2UgPSAoe1xuICByb290Q29tcG9uZW50OiBlLFxuICBwbHVnaW5zOiBuLFxuICBjc3NGcmFtZXdvcmtTdHlsZXM6IHQsXG4gIFZ1ZURlZmluZUN1c3RvbUVsZW1lbnQ6IHMsXG4gIGg6IG8sXG4gIGNyZWF0ZUFwcDogcixcbiAgZ2V0Q3VycmVudEluc3RhbmNlOiBpLFxuICBlbGVtZW50TmFtZTogdSxcbiAgZGlzYWJsZVJlbW92ZVN0eWxlc09uVW5tb3VudDogYixcbiAgZGlzYWJsZVNoYWRvd0RPTTogRSxcbiAgcmVwbGFjZVJvb3RXaXRoSG9zdEluQ3NzRnJhbWV3b3JrOiBoLFxuICBhc3luY0luaXRpYWxpemF0aW9uOiBjLFxuICBsb2FkZXJBdHRyaWJ1dGU6IGwsXG4gIGhpZGVTbG90Q29udGVudFVudGlsTW91bnRlZDogZFxufSkgPT4ge1xuICBjb25zdCBmID0gRSA/IFkgOiBzLCB2ID0gaCA/IHNlKHQpIDogdCwgTyA9IGYoe1xuICAgIHN0eWxlczogW3ZdLFxuICAgIHByb3BzOiB7XG4gICAgICAuLi5lLnByb3BzLFxuICAgICAgbW9kZWxWYWx1ZTogeyB0eXBlOiBbU3RyaW5nLCBOdW1iZXIsIEJvb2xlYW4sIEFycmF5LCBPYmplY3RdIH1cbiAgICAgIC8vIHYtbW9kZWwgc3VwcG9ydFxuICAgIH0sXG4gICAgZW1pdHM6IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZW1pdHMsXG4gICAgc2V0dXAoTSwgeyBzbG90czogSyB9KSB7XG4gICAgICB2YXIgTDtcbiAgICAgIGNvbnN0IFAgPSBbLi4uKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZW1pdHMpIHx8IFtdLCBcInVwZGF0ZTptb2RlbFZhbHVlXCJdLCBfID0gcigpO1xuICAgICAgaWYgKF8uY29tcG9uZW50KFwiYXBwLXJvb3RcIiwgZSksIGUucHJvdmlkZSkge1xuICAgICAgICBjb25zdCBhID0gdHlwZW9mIGUucHJvdmlkZSA9PSBcImZ1bmN0aW9uXCIgPyBlLnByb3ZpZGUoKSA6IGUucHJvdmlkZTtcbiAgICAgICAgT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgIF8ucHJvdmlkZShwLCBhW3BdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBfLm1peGluKHtcbiAgICAgICAgbW91bnRlZCgpIHtcbiAgICAgICAgICB2YXIgZywgQSwgaiwgVjtcbiAgICAgICAgICBpZiAoKChBID0gKGcgPSB0aGlzLiQpID09IG51bGwgPyB2b2lkIDAgOiBnLnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBBLm5hbWUpID09PSBcInZ1ZS1jdXN0b20tZWxlbWVudC1yb290LWNvbXBvbmVudFwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGEgPSAoeSkgPT4ge1xuICAgICAgICAgICAgeSAhPSBudWxsICYmIHkubGVuZ3RoICYmICh0aGlzLl9fc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksIHRoaXMuX19zdHlsZS5pbm5lclRleHQgPSB5LmpvaW4oKS5yZXBsYWNlKC9cXG4vZywgXCJcIiksIEgodGhpcy4kZWwpLmFwcGVuZCh0aGlzLl9fc3R5bGUpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChhKChqID0gdGhpcy4kKSA9PSBudWxsID8gdm9pZCAwIDogai50eXBlLnN0eWxlcyksIHRoaXMuJG9wdGlvbnMuY29tcG9uZW50cylcbiAgICAgICAgICAgIGZvciAoY29uc3QgeSBvZiBPYmplY3QudmFsdWVzKHRoaXMuJG9wdGlvbnMuY29tcG9uZW50cykpXG4gICAgICAgICAgICAgIGEoeS5zdHlsZXMpO1xuICAgICAgICAgIGNvbnN0IHAgPSAoKFYgPSB0aGlzLiRlbC5nZXRSb290Tm9kZSgpKSA9PSBudWxsID8gdm9pZCAwIDogVi5ob3N0KSB8fCBIKHRoaXMuJGVsKTtcbiAgICAgICAgICBwICYmIChkICYmIHAucXVlcnlTZWxlY3RvckFsbChcIltoaWRkZW5dXCIpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIGsucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pLCBwLnF1ZXJ5U2VsZWN0b3JBbGwoYFske2x9XWApLmZvckVhY2goKHgpID0+IHtcbiAgICAgICAgICAgIHgucmVtb3ZlKCk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9LFxuICAgICAgICB1bm1vdW50ZWQoKSB7XG4gICAgICAgICAgdmFyIGE7XG4gICAgICAgICAgYiB8fCAoYSA9IHRoaXMuX19zdHlsZSkgPT0gbnVsbCB8fCBhLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KSwgXy51c2Uobik7XG4gICAgICBjb25zdCB3ID0gaSgpO1xuICAgICAgaWYgKE9iamVjdC5hc3NpZ24ody5hcHBDb250ZXh0LCBfLl9jb250ZXh0KSwgT2JqZWN0LmFzc2lnbih3LnByb3ZpZGVzLCBfLl9jb250ZXh0LnByb3ZpZGVzKSwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXykge1xuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1KTtcbiAgICAgICAgXy5fY29udGFpbmVyID0gYSwgXy5faW5zdGFuY2UgPSB3O1xuICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgIENvbW1lbnQ6IFN5bWJvbChcInYtY210XCIpLFxuICAgICAgICAgIEZyYWdtZW50OiBTeW1ib2woXCJ2LWZndFwiKSxcbiAgICAgICAgICBTdGF0aWM6IFN5bWJvbChcInYtc3RjXCIpLFxuICAgICAgICAgIFRleHQ6IFN5bWJvbChcInYtdHh0XCIpXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLmVtaXQoXCJhcHA6aW5pdFwiLCBfLCBfLnZlcnNpb24sIHApLCB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5WdWUgPSBfO1xuICAgICAgfVxuICAgICAgY29uc3QgVSA9IFAgPT0gbnVsbCA/IHZvaWQgMCA6IFAucmVkdWNlKChhLCBwKSA9PiB7XG4gICAgICAgIGNvbnN0IGcgPSB0ZShwKTtcbiAgICAgICAgcmV0dXJuIGFbZ10gPSAoQSkgPT4ge1xuICAgICAgICAgIHcuZW1pdChwLCBBKTtcbiAgICAgICAgfSwgYTtcbiAgICAgIH0sIHt9KSwgeiA9IChMID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5uYW1lZFNsb3RzKSA9PSBudWxsID8gdm9pZCAwIDogTC5yZWR1Y2UoKGEsIHApID0+IChhW3BdID0gKCkgPT4gbyhcInNsb3RcIiwge1xuICAgICAgICBuYW1lOiBwXG4gICAgICB9KSwgYSksIHt9KTtcbiAgICAgIHJldHVybiAoKSA9PiBvKFxuICAgICAgICBlLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uTSxcbiAgICAgICAgICAuLi5VXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBvKFwic2xvdFwiKSxcbiAgICAgICAgICAuLi56LFxuICAgICAgICAgIC4uLktcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH0sIEUgJiYgeyBzaGFkb3dSb290OiAhMSB9KTtcbiAgcmV0dXJuIGMoKS50aGVuKCgpID0+IE8pO1xufSwgaWUgPSAoe1xuICBlbGVtZW50TmFtZTogZSxcbiAgcm9vdENvbXBvbmVudDogbixcbiAgcGx1Z2luczogdCxcbiAgY3NzRnJhbWV3b3JrU3R5bGVzOiBzLFxuICBWdWVEZWZpbmVDdXN0b21FbGVtZW50OiBvLFxuICBoOiByLFxuICBjcmVhdGVBcHA6IGksXG4gIGdldEN1cnJlbnRJbnN0YW5jZTogdSxcbiAgZGlzYWJsZVJlbW92ZVN0eWxlc09uVW5tb3VudDogYiA9ICExLFxuICBkaXNhYmxlU2hhZG93RE9NOiBFID0gITEsXG4gIHJlcGxhY2VSb290V2l0aEhvc3RJbkNzc0ZyYW1ld29yazogaCA9ICExLFxuICBhc3luY0luaXRpYWxpemF0aW9uOiBjID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCksXG4gIGxvYWRlckF0dHJpYnV0ZTogbCA9IFwiZGF0YS13ZWItY29tcG9uZW50LWxvYWRlclwiLFxuICBoaWRlU2xvdENvbnRlbnRVbnRpbE1vdW50ZWQ6IGQgPSAhMVxufSkgPT4ge1xuICBpZiAoIW4pIHtcbiAgICBjb25zb2xlLndhcm4oXCJObyByb290IGNvbXBvbmVudCBwcm92aWRlZC4gUGxlYXNlIHByb3ZpZGUgYSByb290IGNvbXBvbmVudCB0byBjcmVhdGUgYSB3ZWIgY29tcG9uZW50LlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFlKSB7XG4gICAgY29uc29sZS53YXJuKFwiTm8gZWxlbWVudCBuYW1lIHByb3ZpZGVkLiBQbGVhc2UgcHJvdmlkZSBhbiBlbGVtZW50IG5hbWUgdG8gY3JlYXRlIGEgd2ViIGNvbXBvbmVudC5cIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghbykge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiTm8gVnVlRGVmaW5lQ3VzdG9tRWxlbWVudCBwcm92aWRlZC4gUGxlYXNlIHByb3ZpZGUgYSBWdWVEZWZpbmVDdXN0b21FbGVtZW50IHRvIGNyZWF0ZSBhIHdlYiBjb21wb25lbnQuXCJcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXIpIHtcbiAgICBjb25zb2xlLndhcm4oXCJObyBoIHByb3ZpZGVkLiBQbGVhc2UgcHJvdmlkZSBhbiBoIHRvIGNyZWF0ZSBhIHdlYiBjb21wb25lbnQuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJObyBjcmVhdGVBcHAgcHJvdmlkZWQuIFBsZWFzZSBwcm92aWRlIGEgY3JlYXRlQXBwIHRvIGNyZWF0ZSBhIHdlYiBjb21wb25lbnQuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJObyBnZXRDdXJyZW50SW5zdGFuY2UgcHJvdmlkZWQuIFBsZWFzZSBwcm92aWRlIGEgZ2V0Q3VycmVudEluc3RhbmNlIHRvIGNyZWF0ZSBhIHdlYiBjb21wb25lbnQuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBvZSh7XG4gICAgcm9vdENvbXBvbmVudDogbixcbiAgICBwbHVnaW5zOiB0LFxuICAgIGNzc0ZyYW1ld29ya1N0eWxlczogcyxcbiAgICBWdWVEZWZpbmVDdXN0b21FbGVtZW50OiBvLFxuICAgIGg6IHIsXG4gICAgY3JlYXRlQXBwOiBpLFxuICAgIGdldEN1cnJlbnRJbnN0YW5jZTogdSxcbiAgICBlbGVtZW50TmFtZTogZSxcbiAgICBkaXNhYmxlUmVtb3ZlU3R5bGVzT25Vbm1vdW50OiBiLFxuICAgIGRpc2FibGVTaGFkb3dET006IEUsXG4gICAgcmVwbGFjZVJvb3RXaXRoSG9zdEluQ3NzRnJhbWV3b3JrOiBoLFxuICAgIGFzeW5jSW5pdGlhbGl6YXRpb246IGMsXG4gICAgbG9hZGVyQXR0cmlidXRlOiBsLFxuICAgIGhpZGVTbG90Q29udGVudFVudGlsTW91bnRlZDogZFxuICB9KS50aGVuKChmKSA9PiB7XG4gICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICAgZSxcbiAgICAgIGZcbiAgICApO1xuICB9KTtcbn07XG5leHBvcnQge1xuICBpZSBhcyBjcmVhdGVXZWJDb21wb25lbnQsXG4gIGllIGFzIGRlZmF1bHQsXG4gIG9lIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQsXG4gIFkgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudFNGQ1xufTtcbiIsImltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJ1xuaW1wb3J0IHsgY3JlYXRlUGluaWEgfSBmcm9tICdwaW5pYSdcbmltcG9ydCB7XG4gIGRlZmluZUN1c3RvbUVsZW1lbnQgYXMgVnVlRGVmaW5lQ3VzdG9tRWxlbWVudCxcbiAgaCxcbiAgY3JlYXRlQXBwLFxuICBnZXRDdXJyZW50SW5zdGFuY2UsXG59IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IGNyZWF0ZVdlYkNvbXBvbmVudCB9IGZyb20gJ3Z1ZS13ZWItY29tcG9uZW50LXdyYXBwZXInXG5cbmV4cG9ydCBjb25zdCBwbHVnaW5zV3JhcHBlciA9IHtcbiAgaW5zdGFsbChHaXZlblZ1ZTogYW55KSB7XG4gICAgY29uc3QgVnVlID0gR2l2ZW5WdWVcblxuICAgIC8vIE9yIFBpbmlhXG4gICAgY29uc3QgcGluaWEgPSBjcmVhdGVQaW5pYSgpXG4gICAgVnVlLnVzZShwaW5pYSlcbiAgfSxcbn1cblxuY3JlYXRlV2ViQ29tcG9uZW50KHtcbiAgcm9vdENvbXBvbmVudDogQXBwLFxuICBlbGVtZW50TmFtZTogJ2hpcmFtZWtpbWluaS10ZXN0JyxcbiAgcGx1Z2luczogcGx1Z2luc1dyYXBwZXIsXG4gIFZ1ZURlZmluZUN1c3RvbUVsZW1lbnQsXG4gIGgsXG4gIGNyZWF0ZUFwcCxcbiAgZ2V0Q3VycmVudEluc3RhbmNlLFxuICBkaXNhYmxlU2hhZG93RE9NOiBmYWxzZSwgLy8gZGVmYXVsdCBpcyBmYWxzZVxuICByZXBsYWNlUm9vdFdpdGhIb3N0SW5Dc3NGcmFtZXdvcms6IGZhbHNlLCAvLyBkZWZhdWx0IGlzIGZhbHNlXG4gIGxvYWRlckF0dHJpYnV0ZTogJ2RhdGEtd2ViLWNvbXBvbmVudC1sb2FkZXInLCAvLyBkZWZhdWx0IGlzICdkYXRhLXdlYi1jb21wb25lbnQtbG9hZGVyJ1xuICBoaWRlU2xvdENvbnRlbnRVbnRpbE1vdW50ZWQ6IHRydWUsIC8vIGRlZmF1bHQgaXMgZmFsc2Vcbn0pXG4iXSwibmFtZXMiOlsibWFrZU1hcCIsInN0ciIsIm1hcCIsImtleSIsInZhbCIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIk5PT1AiLCJOTyIsImlzT24iLCJpc01vZGVsTGlzdGVuZXIiLCJleHRlbmQiLCJyZW1vdmUiLCJhcnIiLCJlbCIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc093biIsImlzQXJyYXkiLCJpc01hcCIsInRvVHlwZVN0cmluZyIsImlzU2V0IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiaXNTeW1ib2wiLCJpc09iamVjdCIsImlzUHJvbWlzZSIsIm9iamVjdFRvU3RyaW5nIiwidmFsdWUiLCJ0b1Jhd1R5cGUiLCJpc1BsYWluT2JqZWN0IiwiaXNJbnRlZ2VyS2V5IiwiaXNSZXNlcnZlZFByb3AiLCJjYWNoZVN0cmluZ0Z1bmN0aW9uIiwiZm4iLCJjYWNoZSIsImNhbWVsaXplUkUiLCJjYW1lbGl6ZSIsIl8iLCJjIiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjYXBpdGFsaXplIiwidG9IYW5kbGVyS2V5IiwiaGFzQ2hhbmdlZCIsIm9sZFZhbHVlIiwiaW52b2tlQXJyYXlGbnMiLCJmbnMiLCJhcmciLCJkZWYiLCJvYmoiLCJ3cml0YWJsZSIsImxvb3NlVG9OdW1iZXIiLCJuIiwidG9OdW1iZXIiLCJfZ2xvYmFsVGhpcyIsImdldEdsb2JhbFRoaXMiLCJub3JtYWxpemVTdHlsZSIsInJlcyIsIml0ZW0iLCJub3JtYWxpemVkIiwicGFyc2VTdHJpbmdTdHlsZSIsImxpc3REZWxpbWl0ZXJSRSIsInByb3BlcnR5RGVsaW1pdGVyUkUiLCJzdHlsZUNvbW1lbnRSRSIsImNzc1RleHQiLCJyZXQiLCJ0bXAiLCJub3JtYWxpemVDbGFzcyIsIm5hbWUiLCJzcGVjaWFsQm9vbGVhbkF0dHJzIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJpbmNsdWRlQm9vbGVhbkF0dHIiLCJhY3RpdmVFZmZlY3RTY29wZSIsIkVmZmVjdFNjb3BlIiwiZGV0YWNoZWQiLCJsIiwiY3VycmVudEVmZmVjdFNjb3BlIiwiZnJvbVBhcmVudCIsImxhc3QiLCJlZmZlY3RTY29wZSIsImdldEN1cnJlbnRTY29wZSIsImFjdGl2ZVN1YiIsInBhdXNlZFF1ZXVlRWZmZWN0cyIsIlJlYWN0aXZlRWZmZWN0IiwiYmF0Y2giLCJjbGVhbnVwRWZmZWN0IiwicHJlcGFyZURlcHMiLCJwcmV2RWZmZWN0IiwicHJldlNob3VsZFRyYWNrIiwic2hvdWxkVHJhY2siLCJjbGVhbnVwRGVwcyIsImxpbmsiLCJyZW1vdmVTdWIiLCJpc0RpcnR5IiwiYmF0Y2hEZXB0aCIsImJhdGNoZWRTdWIiLCJiYXRjaGVkQ29tcHV0ZWQiLCJzdWIiLCJpc0NvbXB1dGVkIiwic3RhcnRCYXRjaCIsImVuZEJhdGNoIiwiZSIsIm5leHQiLCJlcnJvciIsImVyciIsImhlYWQiLCJ0YWlsIiwicHJldiIsInJlbW92ZURlcCIsInJlZnJlc2hDb21wdXRlZCIsImNvbXB1dGVkIiwiZ2xvYmFsVmVyc2lvbiIsImRlcCIsInByZXZTdWIiLCJzb2Z0IiwibmV4dFN1YiIsInByZXZEZXAiLCJuZXh0RGVwIiwidHJhY2tTdGFjayIsInBhdXNlVHJhY2tpbmciLCJyZXNldFRyYWNraW5nIiwiY2xlYW51cCIsIkxpbmsiLCJEZXAiLCJkZWJ1Z0luZm8iLCJhZGRTdWIiLCJjdXJyZW50VGFpbCIsInRhcmdldE1hcCIsIklURVJBVEVfS0VZIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsIkFSUkFZX0lURVJBVEVfS0VZIiwidHJhY2siLCJ0YXJnZXQiLCJ0eXBlIiwiZGVwc01hcCIsInRyaWdnZXIiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsInJ1biIsInRhcmdldElzQXJyYXkiLCJpc0FycmF5SW5kZXgiLCJuZXdMZW5ndGgiLCJrZXkyIiwicmVhY3RpdmVSZWFkQXJyYXkiLCJhcnJheSIsInJhdyIsInRvUmF3IiwiaXNTaGFsbG93IiwidG9SZWFjdGl2ZSIsInNoYWxsb3dSZWFkQXJyYXkiLCJhcnJheUluc3RydW1lbnRhdGlvbnMiLCJpdGVyYXRvciIsImFyZ3MiLCJ4IiwidGhpc0FyZyIsImFwcGx5IiwidiIsInNlYXJjaFByb3h5Iiwic2VwYXJhdG9yIiwibm9UcmFja2luZyIsInJlZHVjZSIsImNvbXBhcmVyIiwic2VsZiIsIm1ldGhvZCIsIndyYXBWYWx1ZSIsIml0ZXIiLCJyZXN1bHQiLCJhcnJheVByb3RvIiwid3JhcHBlZFJldEZuIiwibmVlZHNXcmFwIiwibWV0aG9kRm4iLCJyZXN1bHQyIiwid3JhcHBlZEZuIiwiaW5kZXgiLCJhY2MiLCJpc1Byb3h5IiwiaXNOb25UcmFja2FibGVLZXlzIiwiYnVpbHRJblN5bWJvbHMiLCJCYXNlUmVhY3RpdmVIYW5kbGVyIiwiX2lzUmVhZG9ubHkiLCJfaXNTaGFsbG93IiwicmVjZWl2ZXIiLCJpc1JlYWRvbmx5MiIsImlzU2hhbGxvdzIiLCJzaGFsbG93UmVhZG9ubHlNYXAiLCJyZWFkb25seU1hcCIsInNoYWxsb3dSZWFjdGl2ZU1hcCIsInJlYWN0aXZlTWFwIiwiaXNSZWYiLCJyZWFkb25seSIsInJlYWN0aXZlIiwiTXV0YWJsZVJlYWN0aXZlSGFuZGxlciIsImlzT2xkVmFsdWVSZWFkb25seSIsImlzUmVhZG9ubHkiLCJoYWRLZXkiLCJSZWFkb25seVJlYWN0aXZlSGFuZGxlciIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInRvU2hhbGxvdyIsImdldFByb3RvIiwiY3JlYXRlSXRlcmFibGVNZXRob2QiLCJyYXdUYXJnZXQiLCJ0YXJnZXRJc01hcCIsImlzUGFpciIsImlzS2V5T25seSIsImlubmVySXRlcmF0b3IiLCJ3cmFwIiwidG9SZWFkb25seSIsImRvbmUiLCJjcmVhdGVSZWFkb25seU1ldGhvZCIsImNyZWF0ZUluc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93IiwiaW5zdHJ1bWVudGF0aW9ucyIsInJhd0tleSIsImhhcyIsImNhbGxiYWNrIiwib2JzZXJ2ZWQiLCJnZXQiLCJoYWRJdGVtcyIsImNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlciIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzIiwicmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJ0YXJnZXRUeXBlTWFwIiwicmF3VHlwZSIsImdldFRhcmdldFR5cGUiLCJjcmVhdGVSZWFjdGl2ZU9iamVjdCIsInNoYWxsb3dSZWFjdGl2ZSIsImJhc2VIYW5kbGVycyIsImNvbGxlY3Rpb25IYW5kbGVycyIsInByb3h5TWFwIiwiZXhpc3RpbmdQcm94eSIsInRhcmdldFR5cGUiLCJwcm94eSIsImlzUmVhY3RpdmUiLCJtYXJrUmF3IiwiciIsInJlZiIsImNyZWF0ZVJlZiIsInJhd1ZhbHVlIiwiUmVmSW1wbCIsInVzZURpcmVjdFZhbHVlIiwidW5yZWYiLCJyZWYyIiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwicHJveHlSZWZzIiwib2JqZWN0V2l0aFJlZnMiLCJDb21wdXRlZFJlZkltcGwiLCJzZXR0ZXIiLCJpc1NTUiIsImdldHRlck9yT3B0aW9ucyIsImRlYnVnT3B0aW9ucyIsImdldHRlciIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsImNsZWFudXBNYXAiLCJhY3RpdmVXYXRjaGVyIiwib25XYXRjaGVyQ2xlYW51cCIsImNsZWFudXBGbiIsImZhaWxTaWxlbnRseSIsIm93bmVyIiwiY2xlYW51cHMiLCJ3YXRjaCIsInNvdXJjZSIsImNiIiwib3B0aW9ucyIsImltbWVkaWF0ZSIsImRlZXAiLCJvbmNlIiwic2NoZWR1bGVyIiwiYXVnbWVudEpvYiIsImNhbGwiLCJyZWFjdGl2ZUdldHRlciIsInNvdXJjZTIiLCJ0cmF2ZXJzZSIsImVmZmVjdCIsImJvdW5kQ2xlYW51cCIsImZvcmNlVHJpZ2dlciIsImlzTXVsdGlTb3VyY2UiLCJzIiwiY3VycmVudEVmZmVjdCIsImJhc2VHZXR0ZXIiLCJkZXB0aCIsInNjb3BlIiwid2F0Y2hIYW5kbGUiLCJfY2IiLCJqb2IiLCJpbW1lZGlhdGVGaXJzdFJ1biIsImN1cnJlbnRXYXRjaGVyIiwiY2xlYW51cDIiLCJzZWVuIiwiY2FsbFdpdGhFcnJvckhhbmRsaW5nIiwiaW5zdGFuY2UiLCJoYW5kbGVFcnJvciIsImNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nIiwidmFsdWVzIiwidGhyb3dJbkRldiIsImNvbnRleHRWTm9kZSIsImVycm9ySGFuZGxlciIsInRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24iLCJjdXIiLCJleHBvc2VkSW5zdGFuY2UiLCJlcnJvckluZm8iLCJlcnJvckNhcHR1cmVkSG9va3MiLCJsb2dFcnJvciIsInRocm93SW5Qcm9kIiwicXVldWUiLCJmbHVzaEluZGV4IiwicGVuZGluZ1Bvc3RGbHVzaENicyIsImFjdGl2ZVBvc3RGbHVzaENicyIsInBvc3RGbHVzaEluZGV4IiwicmVzb2x2ZWRQcm9taXNlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIm5leHRUaWNrIiwicCIsImZpbmRJbnNlcnRpb25JbmRleCIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJtaWRkbGVKb2IiLCJtaWRkbGVKb2JJZCIsImdldElkIiwicXVldWVKb2IiLCJqb2JJZCIsImxhc3RKb2IiLCJxdWV1ZUZsdXNoIiwiZmx1c2hKb2JzIiwicXVldWVQb3N0Rmx1c2hDYiIsImZsdXNoUHJlRmx1c2hDYnMiLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJhIiwiYiIsImRldnRvb2xzJDEiLCJidWZmZXIiLCJkZXZ0b29sc05vdEluc3RhbGxlZCIsImVtaXQkMSIsImV2ZW50Iiwic2V0RGV2dG9vbHNIb29rJDEiLCJob29rIiwiX2EiLCJfYiIsIm5ld0hvb2siLCJkZXZ0b29sc0luaXRBcHAiLCJhcHAiLCJ2ZXJzaW9uIiwiRnJhZ21lbnQiLCJUZXh0IiwiQ29tbWVudCIsIlN0YXRpYyIsImRldnRvb2xzVW5tb3VudEFwcCIsImRldnRvb2xzQ29tcG9uZW50QWRkZWQiLCJjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2siLCJkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQiLCJfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiY29tcG9uZW50IiwiZGV2dG9vbHNDb21wb25lbnRFbWl0IiwicGFyYW1zIiwiY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwiY3VycmVudFNjb3BlSWQiLCJzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJ3aXRoQ3R4IiwiY3R4IiwiaXNOb25TY29wZWRTbG90IiwicmVuZGVyRm5XaXRoQ29udGV4dCIsInNldEJsb2NrVHJhY2tpbmciLCJwcmV2SW5zdGFuY2UiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwidm5vZGUiLCJwcmV2Vk5vZGUiLCJiaW5kaW5ncyIsIm9sZEJpbmRpbmdzIiwiYmluZGluZyIsIlRlbGVwb3J0RW5kS2V5IiwiaXNUZWxlcG9ydCIsInNldFRyYW5zaXRpb25Ib29rcyIsImhvb2tzIiwiZGVmaW5lQ29tcG9uZW50IiwiZXh0cmFPcHRpb25zIiwibWFya0FzeW5jQm91bmRhcnkiLCJzZXRSZWYiLCJyYXdSZWYiLCJvbGRSYXdSZWYiLCJwYXJlbnRTdXNwZW5zZSIsImlzVW5tb3VudCIsImlzQXN5bmNXcmFwcGVyIiwicmVmVmFsdWUiLCJnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSIsIm9sZFJlZiIsInJlZnMiLCJzZXR1cFN0YXRlIiwicmF3U2V0dXBTdGF0ZSIsImNhblNldFNldHVwUmVmIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwiZG9TZXQiLCJleGlzdGluZyIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsImlzS2VlcEFsaXZlIiwib25BY3RpdmF0ZWQiLCJyZWdpc3RlcktlZXBBbGl2ZUhvb2siLCJvbkRlYWN0aXZhdGVkIiwiY3VycmVudEluc3RhbmNlIiwid3JhcHBlZEhvb2siLCJjdXJyZW50IiwiaW5qZWN0SG9vayIsImluamVjdFRvS2VlcEFsaXZlUm9vdCIsImtlZXBBbGl2ZVJvb3QiLCJpbmplY3RlZCIsIm9uVW5tb3VudGVkIiwicHJlcGVuZCIsInJlc2V0Iiwic2V0Q3VycmVudEluc3RhbmNlIiwiY3JlYXRlSG9vayIsImxpZmVjeWNsZSIsImlzSW5TU1JDb21wb25lbnRTZXR1cCIsIm9uQmVmb3JlTW91bnQiLCJvbk1vdW50ZWQiLCJvbkJlZm9yZVVwZGF0ZSIsIm9uVXBkYXRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIm9uU2VydmVyUHJlZmV0Y2giLCJvblJlbmRlclRyaWdnZXJlZCIsIm9uUmVuZGVyVHJhY2tlZCIsIm9uRXJyb3JDYXB0dXJlZCIsIk5VTExfRFlOQU1JQ19DT01QT05FTlQiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJwdWJsaWNQcm9wZXJ0aWVzTWFwIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCJpbnN0YW5jZVdhdGNoIiwiaGFzU2V0dXBCaW5kaW5nIiwic3RhdGUiLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJkYXRhIiwicHJvcHMiLCJhY2Nlc3NDYWNoZSIsImFwcENvbnRleHQiLCJub3JtYWxpemVkUHJvcHMiLCJzaG91bGRDYWNoZUFjY2VzcyIsInB1YmxpY0dldHRlciIsImNzc01vZHVsZSIsImdsb2JhbFByb3BlcnRpZXMiLCJwcm9wc09wdGlvbnMiLCJkZXNjcmlwdG9yIiwibm9ybWFsaXplUHJvcHNPckVtaXRzIiwiYXBwbHlPcHRpb25zIiwicHVibGljVGhpcyIsImNhbGxIb29rIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJtZXRob2RzIiwid2F0Y2hPcHRpb25zIiwicHJvdmlkZU9wdGlvbnMiLCJpbmplY3RPcHRpb25zIiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImJlZm9yZURlc3Ryb3kiLCJiZWZvcmVVbm1vdW50IiwiZGVzdHJveWVkIiwidW5tb3VudGVkIiwicmVuZGVyIiwicmVuZGVyVHJhY2tlZCIsInJlbmRlclRyaWdnZXJlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsImV4cG9zZSIsImluaGVyaXRBdHRycyIsImNvbXBvbmVudHMiLCJkaXJlY3RpdmVzIiwiZmlsdGVycyIsInJlc29sdmVJbmplY3Rpb25zIiwibWV0aG9kSGFuZGxlciIsIm9wdCIsInNldCIsImNyZWF0ZVdhdGNoZXIiLCJwcm92aWRlcyIsInByb3ZpZGUiLCJyZWdpc3RlckxpZmVjeWNsZUhvb2siLCJyZWdpc3RlciIsIl9ob29rIiwiZXhwb3NlZCIsImNoZWNrRHVwbGljYXRlUHJvcGVydGllcyIsIm5vcm1hbGl6ZUluamVjdCIsImluamVjdCIsImgiLCJjcmVhdGVQYXRoR2V0dGVyIiwiaGFuZGxlciIsImJhc2UiLCJtaXhpbnMiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsImNhY2hlZCIsInJlc29sdmVkIiwibSIsIm1lcmdlT3B0aW9ucyIsInRvIiwiZnJvbSIsInN0cmF0cyIsImFzTWl4aW4iLCJzdHJhdCIsImludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMiLCJtZXJnZURhdGFGbiIsIm1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyIsIm1lcmdlT2JqZWN0T3B0aW9ucyIsIm1lcmdlQXNBcnJheSIsIm1lcmdlV2F0Y2hPcHRpb25zIiwibWVyZ2VJbmplY3QiLCJtZXJnZWQiLCJjcmVhdGVBcHBDb250ZXh0IiwidWlkJDEiLCJjcmVhdGVBcHBBUEkiLCJoeWRyYXRlIiwicm9vdENvbXBvbmVudCIsInJvb3RQcm9wcyIsImNvbnRleHQiLCJpbnN0YWxsZWRQbHVnaW5zIiwicGx1Z2luQ2xlYW51cEZucyIsImlzTW91bnRlZCIsInBsdWdpbiIsIm1peGluIiwiZGlyZWN0aXZlIiwicm9vdENvbnRhaW5lciIsImlzSHlkcmF0ZSIsIm5hbWVzcGFjZSIsImNyZWF0ZVZOb2RlIiwibGFzdEFwcCIsImN1cnJlbnRBcHAiLCJwYXJlbnRQcm92aWRlcyIsImRlZmF1bHRWYWx1ZSIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsImludGVybmFsT2JqZWN0UHJvdG8iLCJjcmVhdGVJbnRlcm5hbE9iamVjdCIsImlzSW50ZXJuYWxPYmplY3QiLCJpbml0UHJvcHMiLCJyYXdQcm9wcyIsImlzU3RhdGVmdWwiLCJhdHRycyIsInNldEZ1bGxQcm9wcyIsInVwZGF0ZVByb3BzIiwicmF3UHJldlByb3BzIiwib3B0aW1pemVkIiwicGF0Y2hGbGFnIiwicmF3Q3VycmVudFByb3BzIiwiaGFzQXR0cnNDaGFuZ2VkIiwicHJvcHNUb1VwZGF0ZSIsImlzRW1pdExpc3RlbmVyIiwiY2FtZWxpemVkS2V5IiwicmVzb2x2ZVByb3BWYWx1ZSIsImtlYmFiS2V5IiwibmVlZENhc3RLZXlzIiwicmF3Q2FzdFZhbHVlcyIsImNhbWVsS2V5IiwiY2FzdFZhbHVlcyIsImlzQWJzZW50IiwiaGFzRGVmYXVsdCIsInByb3BzRGVmYXVsdHMiLCJtaXhpblByb3BzQ2FjaGUiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJjb21wIiwiaGFzRXh0ZW5kcyIsImV4dGVuZFByb3BzIiwicmF3MiIsImtleXMiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsInByb3AiLCJwcm9wVHlwZSIsInNob3VsZENhc3QiLCJzaG91bGRDYXN0VHJ1ZSIsInR5cGVOYW1lIiwiaXNJbnRlcm5hbEtleSIsIm5vcm1hbGl6ZVNsb3RWYWx1ZSIsIm5vcm1hbGl6ZVZOb2RlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwic2xvdHMiLCJub3JtYWxpemVWTm9kZVNsb3RzIiwiY2hpbGRyZW4iLCJhc3NpZ25TbG90cyIsImluaXRTbG90cyIsInVwZGF0ZVNsb3RzIiwibmVlZERlbGV0aW9uQ2hlY2siLCJkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQiLCJxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSIsImNyZWF0ZVJlbmRlcmVyIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uRm5zIiwiaG9zdEluc2VydCIsImhvc3RSZW1vdmUiLCJob3N0UGF0Y2hQcm9wIiwiaG9zdENyZWF0ZUVsZW1lbnQiLCJob3N0Q3JlYXRlVGV4dCIsImhvc3RDcmVhdGVDb21tZW50IiwiaG9zdFNldFRleHQiLCJob3N0U2V0RWxlbWVudFRleHQiLCJob3N0UGFyZW50Tm9kZSIsImhvc3ROZXh0U2libGluZyIsImhvc3RTZXRTY29wZUlkIiwiaG9zdEluc2VydFN0YXRpY0NvbnRlbnQiLCJwYXRjaCIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJzbG90U2NvcGVJZHMiLCJpc1NhbWVWTm9kZVR5cGUiLCJnZXROZXh0SG9zdE5vZGUiLCJ1bm1vdW50Iiwic2hhcGVGbGFnIiwicHJvY2Vzc1RleHQiLCJwcm9jZXNzQ29tbWVudE5vZGUiLCJtb3VudFN0YXRpY05vZGUiLCJwcm9jZXNzRnJhZ21lbnQiLCJwcm9jZXNzRWxlbWVudCIsInByb2Nlc3NDb21wb25lbnQiLCJpbnRlcm5hbHMiLCJtb3ZlU3RhdGljTm9kZSIsIm5leHRTaWJsaW5nIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdW50RWxlbWVudCIsInBhdGNoRWxlbWVudCIsInZub2RlSG9vayIsInRyYW5zaXRpb24iLCJkaXJzIiwibW91bnRDaGlsZHJlbiIsInJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSIsInNldFNjb3BlSWQiLCJpbnZva2VWTm9kZUhvb2siLCJuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyIsIm5lZWRUcmFuc2l0aW9uIiwic2NvcGVJZCIsInN1YlRyZWUiLCJpc1N1c3BlbnNlIiwicGFyZW50Vk5vZGUiLCJjaGlsZCIsImNsb25lSWZNb3VudGVkIiwiZHluYW1pY0NoaWxkcmVuIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsInRvZ2dsZVJlY3Vyc2UiLCJwYXRjaEJsb2NrQ2hpbGRyZW4iLCJwYXRjaENoaWxkcmVuIiwicGF0Y2hQcm9wcyIsIm9sZENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJmYWxsYmFja0NvbnRhaW5lciIsIm9sZFZOb2RlIiwibmV3Vk5vZGUiLCJmcmFnbWVudFN0YXJ0QW5jaG9yIiwiZnJhZ21lbnRFbmRBbmNob3IiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJtb3VudENvbXBvbmVudCIsInVwZGF0ZUNvbXBvbmVudCIsImluaXRpYWxWTm9kZSIsImNyZWF0ZUNvbXBvbmVudEluc3RhbmNlIiwic2V0dXBDb21wb25lbnQiLCJzZXR1cFJlbmRlckVmZmVjdCIsInBsYWNlaG9sZGVyIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwidXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyIiwiY29tcG9uZW50VXBkYXRlRm4iLCJidSIsInUiLCJwYXJlbnQiLCJub25IeWRyYXRlZEFzeW5jUm9vdCIsImxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290Iiwib3JpZ2luTmV4dCIsIm5leHRUcmVlIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsInByZXZUcmVlIiwidXBkYXRlSE9DSG9zdEVsIiwiYm0iLCJyb290IiwiaXNBc3luY1dyYXBwZXJWTm9kZSIsInNjb3BlZEluaXRpYWxWTm9kZSIsInVwZGF0ZSIsIm5leHRWTm9kZSIsInByZXZQcm9wcyIsImMxIiwicHJldlNoYXBlRmxhZyIsImMyIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hVbmtleWVkQ2hpbGRyZW4iLCJ1bm1vdW50Q2hpbGRyZW4iLCJvbGRMZW5ndGgiLCJjb21tb25MZW5ndGgiLCJuZXh0Q2hpbGQiLCJwYXJlbnRBbmNob3IiLCJsMiIsImUxIiwiZTIiLCJuZXh0UG9zIiwiczEiLCJzMiIsImtleVRvTmV3SW5kZXhNYXAiLCJqIiwicGF0Y2hlZCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImdldFNlcXVlbmNlIiwibmV4dEluZGV4IiwibW92ZSIsIm1vdmVUeXBlIiwibGVhdmUiLCJkZWxheUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsInJlbW92ZTIiLCJwZXJmb3JtTGVhdmUiLCJkb1JlbW92ZSIsImNhY2hlSW5kZXgiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwidW5tb3VudENvbXBvbmVudCIsInJlbW92ZUZyYWdtZW50IiwicGVyZm9ybVJlbW92ZSIsImJ1bSIsInVtIiwiaW52YWxpZGF0ZU1vdW50IiwidGVsZXBvcnRFbmQiLCJpc0ZsdXNoaW5nIiwiY3VycmVudE5hbWVzcGFjZSIsImFsbG93ZWQiLCJjaDEiLCJjaDIiLCJsZW4iLCJhcnJJIiwic3ViQ29tcG9uZW50Iiwic3NyQ29udGV4dEtleSIsInVzZVNTUkNvbnRleHQiLCJkb1dhdGNoIiwiZmx1c2giLCJiYXNlV2F0Y2hPcHRpb25zIiwicnVuc0ltbWVkaWF0ZWx5Iiwic3NyQ2xlYW51cCIsIndhdGNoU3RvcEhhbmRsZSIsImlzUHJlIiwiaXNGaXJzdFJ1biIsIndhdGNoJDEiLCJwYXRoIiwic2VnbWVudHMiLCJnZXRNb2RlbE1vZGlmaWVycyIsIm1vZGVsTmFtZSIsImVtaXQiLCJyYXdBcmdzIiwibW9kaWZpZXJzIiwiaGFuZGxlck5hbWUiLCJvbmNlSGFuZGxlciIsIm5vcm1hbGl6ZUVtaXRzT3B0aW9ucyIsImV4dGVuZEVtaXRzIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJDb21wb25lbnQiLCJ3aXRoUHJveHkiLCJyZW5kZXJDYWNoZSIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwidGhpc1Byb3h5IiwicmVuZGVyMiIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJmaWx0ZXJNb2RlbExpc3RlbmVycyIsImNsb25lVk5vZGUiLCJwcmV2Q2hpbGRyZW4iLCJuZXh0UHJvcHMiLCJuZXh0Q2hpbGRyZW4iLCJlbWl0cyIsImhhc1Byb3BzQ2hhbmdlZCIsImR5bmFtaWNQcm9wcyIsImVtaXRzT3B0aW9ucyIsIm5leHRLZXlzIiwic3VzcGVuc2UiLCJjdXJyZW50QmxvY2siLCJvcGVuQmxvY2siLCJkaXNhYmxlVHJhY2tpbmciLCJjbG9zZUJsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwiaW5WT25jZSIsInNldHVwQmxvY2siLCJjcmVhdGVFbGVtZW50QmxvY2siLCJjcmVhdGVCYXNlVk5vZGUiLCJpc1ZOb2RlIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJfY3JlYXRlVk5vZGUiLCJjbG9uZWQiLCJpc0NsYXNzQ29tcG9uZW50IiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwia2xhc3MiLCJzdHlsZSIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsImNsb25lVHJhbnNpdGlvbiIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wcyIsImNyZWF0ZVRleHRWTm9kZSIsInRleHQiLCJmbGFnIiwic2xvdCIsInNsb3RGbGFnIiwidG9NZXJnZSIsImluY29taW5nIiwiZW1wdHlBcHBDb250ZXh0IiwidWlkIiwiZ2V0Q3VycmVudEluc3RhbmNlIiwiaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UiLCJzZXRJblNTUlNldHVwU3RhdGUiLCJnIiwicmVnaXN0ZXJHbG9iYWxTZXR0ZXIiLCJzZXR0ZXJzIiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJzZXR1cFJlc3VsdCIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJzZXR1cCIsInNldHVwQ29udGV4dCIsImNyZWF0ZVNldHVwQ29udGV4dCIsImlzQXN5bmNTZXR1cCIsInJlc29sdmVkUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJmaW5pc2hDb21wb25lbnRTZXR1cCIsInNraXBPcHRpb25zIiwiYXR0cnNQcm94eUhhbmRsZXJzIiwiY29tcHV0ZWQkMSIsInByb3BzT3JDaGlsZHJlbiIsInBvbGljeSIsInR0IiwidW5zYWZlVG9UcnVzdGVkSFRNTCIsInN2Z05TIiwibWF0aG1sTlMiLCJkb2MiLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsIm5vZGVPcHMiLCJ0YWciLCJpcyIsIm5vZGUiLCJzZWxlY3RvciIsImNvbnRlbnQiLCJiZWZvcmUiLCJ0ZW1wbGF0ZSIsIndyYXBwZXIiLCJ2dGNLZXkiLCJwYXRjaENsYXNzIiwiaXNTVkciLCJ0cmFuc2l0aW9uQ2xhc3NlcyIsInZTaG93T3JpZ2luYWxEaXNwbGF5IiwidlNob3dIaWRkZW4iLCJDU1NfVkFSX1RFWFQiLCJkaXNwbGF5UkUiLCJwYXRjaFN0eWxlIiwiaXNDc3NTdHJpbmciLCJoYXNDb250cm9sbGVkRGlzcGxheSIsInByZXZTdHlsZSIsInNldFN0eWxlIiwiY3NzVmFyVGV4dCIsImltcG9ydGFudFJFIiwicHJlZml4ZWQiLCJhdXRvUHJlZml4IiwicHJlZml4ZXMiLCJwcmVmaXhDYWNoZSIsInJhd05hbWUiLCJ4bGlua05TIiwicGF0Y2hBdHRyIiwiaXNCb29sZWFuIiwicGF0Y2hET01Qcm9wIiwiYXR0ck5hbWUiLCJuZWVkUmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ2ZWlLZXkiLCJwYXRjaEV2ZW50IiwicHJldlZhbHVlIiwibmV4dFZhbHVlIiwiaW52b2tlcnMiLCJleGlzdGluZ0ludm9rZXIiLCJwYXJzZU5hbWUiLCJpbnZva2VyIiwiY3JlYXRlSW52b2tlciIsIm9wdGlvbnNNb2RpZmllclJFIiwiY2FjaGVkTm93IiwiZ2V0Tm93IiwiaW5pdGlhbFZhbHVlIiwicGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvcmlnaW5hbFN0b3AiLCJpc05hdGl2ZU9uIiwicGF0Y2hQcm9wIiwic2hvdWxkU2V0QXNQcm9wIiwiY2FtZWxpemUkMSIsIlJFTU9WQUwiLCJkZWZpbmVDdXN0b21FbGVtZW50IiwiX2NyZWF0ZUFwcCIsIkNvbXAiLCJWdWVDdXN0b21FbGVtZW50IiwiVnVlRWxlbWVudCIsImluaXRpYWxQcm9wcyIsIkJhc2VDbGFzcyIsIl9kZWYiLCJfcHJvcHMiLCJjcmVhdGVBcHAiLCJtdXRhdGlvbnMiLCJyZXNvbHZlIiwiaXNBc3luYyIsInN0eWxlcyIsIm51bWJlclByb3BzIiwiYXN5bmNEZWYiLCJkZWNsYXJlZFByb3BLZXlzIiwic2hvdWxkUmVmbGVjdCIsInNob3VsZFVwZGF0ZSIsIm9iIiwiYmFzZVByb3BzIiwiZGlzcGF0Y2giLCJub25jZSIsInNsb3ROYW1lIiwib3V0bGV0cyIsIm8iLCJ3YWxrZXIiLCJyZW5kZXJlck9wdGlvbnMiLCJyZW5kZXJlciIsImVuc3VyZVJlbmRlcmVyIiwibW91bnQiLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwicmVzb2x2ZVJvb3ROYW1lc3BhY2UiLCJpc0ZsaXBwZWQiLCJfc2ZjX3JlbmRlciIsIl9jdHgiLCJfY2FjaGUiLCIkcHJvcHMiLCIkc2V0dXAiLCIkZGF0YSIsIiRvcHRpb25zIiwiX29wZW5CbG9jayIsIl9jcmVhdGVFbGVtZW50QmxvY2siLCJfbm9ybWFsaXplQ2xhc3MiLCJfY3JlYXRlRWxlbWVudFZOb2RlIiwiX19jcmVhdGUiLCJfX2RlZlByb3AiLCJfX2dldE93blByb3BEZXNjIiwiX19nZXRPd25Qcm9wTmFtZXMiLCJfX2dldFByb3RvT2YiLCJfX2hhc093blByb3AiLCJfX2VzbSIsIl9fY29tbW9uSlMiLCJtb2QiLCJfX2NvcHlQcm9wcyIsImV4Y2VwdCIsImRlc2MiLCJfX3RvRVNNIiwiaXNOb2RlTW9kZSIsInRhcmdldDIiLCJpbml0X2VzbV9zaGltcyIsInJlcXVpcmVfcmZkYyIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZmRjMiIsImNvcHlCdWZmZXIiLCJvcHRzIiwicmZkY0NpcmNsZXMiLCJjb25zdHJ1Y3RvckhhbmRsZXJzIiwiY2xvbmVBcnJheSIsImhhbmRsZXIyIiwiY2xvbmVQcm90byIsImNsb25lIiwiYTIiLCJrIiwibzIiLCJyZWZzTmV3IiwiaXNCcm93c2VyIiwiaW1wb3J0X3JmZGMiLCJjbGFzc2lmeVJFIiwidG9VcHBlciIsImNsYXNzaWZ5IiwiYmFzZW5hbWUiLCJmaWxlbmFtZSIsImV4dCIsIm5vcm1hbGl6ZWRGaWxlbmFtZSIsImxhc3RTbGFzaEluZGV4IiwiYmFzZU5hbWVXaXRoRXh0IiwiZXh0SW5kZXgiLCJkZWVwQ2xvbmUiLCJERUJPVU5DRV9ERUZBVUxUUyIsImRlYm91bmNlIiwid2FpdCIsImxlYWRpbmdWYWx1ZSIsInRpbWVvdXQiLCJyZXNvbHZlTGlzdCIsImN1cnJlbnRQcm9taXNlIiwidHJhaWxpbmdBcmdzIiwiYXBwbHlGbiIsIl90aGlzIiwiX2FwcGx5UHJvbWlzZWQiLCJwcm9taXNlIiwic2hvdWxkQ2FsbE5vdyIsIl9yZXNvbHZlIiwiZmxhdEhvb2tzIiwiY29uZmlnSG9va3MiLCJwYXJlbnROYW1lIiwic3ViSG9vayIsImRlZmF1bHRUYXNrIiwiZnVuY3Rpb25fIiwiX2NyZWF0ZVRhc2siLCJjcmVhdGVUYXNrIiwic2VyaWFsVGFza0NhbGxlciIsInRhc2siLCJob29rRnVuY3Rpb24iLCJwYXJhbGxlbFRhc2tDYWxsZXIiLCJjYWxsRWFjaFdpdGgiLCJjYWxsYmFja3MiLCJhcmcwIiwiSG9va2FibGUiLCJvcmlnaW5hbE5hbWUiLCJtZXNzYWdlIiwiX3VucmVnIiwiX2Z1bmN0aW9uIiwiYXJndW1lbnRzXyIsImRlcHJlY2F0ZWQiLCJfaG9va3MiLCJkZXByZWNhdGVkSG9va3MiLCJyZW1vdmVGbnMiLCJ1bnJlZyIsImNhbGxlciIsImNyZWF0ZUhvb2tzIiwidGFyZ2V0MjIiLCJyZXF1aXJlX3NwZWFraW5ndXJsIiwiY2hhck1hcCIsImxvb2tBaGVhZENoYXJBcnJheSIsImRpYXRyaWNNYXAiLCJsYW5nQ2hhck1hcCIsInN5bWJvbE1hcCIsInVyaWNDaGFycyIsInVyaWNOb1NsYXNoQ2hhcnMiLCJtYXJrQ2hhcnMiLCJnZXRTbHVnIiwiaW5wdXQiLCJkaWF0cmljU3RyaW5nIiwiY29udmVydFN5bWJvbHMiLCJjdXN0b21SZXBsYWNlbWVudHMiLCJtYWludGFpbkNhc2UiLCJ0aXRsZUNhc2UiLCJ0cnVuY2F0ZSIsInVyaWNGbGFnIiwidXJpY05vU2xhc2hGbGFnIiwibWFya0ZsYWciLCJzeW1ib2wiLCJsYW5nQ2hhciIsImx1Y2t5IiwiY2giLCJsYXN0Q2hhcldhc1N5bWJvbCIsImxhc3RDaGFyV2FzRGlhdHJpYyIsImFsbG93ZWRDaGFycyIsImVzY2FwZUNoYXJzIiwiaXNSZXBsYWNlZEN1c3RvbUNoYXIiLCJpMiIsImNyZWF0ZVNsdWciLCJyZXF1aXJlX3NwZWFraW5ndXJsMiIsImdldENvbXBvbmVudFR5cGVOYW1lIiwiX2EyNSIsImdldENvbXBvbmVudEZpbGVOYW1lIiwiZmlsZSIsInNhdmVDb21wb25lbnRHdXNzZWROYW1lIiwiZ2V0QXBwUmVjb3JkIiwiaXNGcmFnbWVudCIsIl9iMjUiLCJzdWJUcmVlVHlwZSIsImFwcFJlY29yZCIsImdldEluc3RhbmNlTmFtZSIsIl9jIiwiZmlsZU5hbWUiLCJnZXRVbmlxdWVDb21wb25lbnRJZCIsImFwcElkIiwiaW5zdGFuY2VJZCIsImdldENvbXBvbmVudEluc3RhbmNlIiwiY3JlYXRlUmVjdCIsInJlY3QiLCJyYW5nZSIsImdldFRleHRSZWN0IiwiZ2V0RnJhZ21lbnRSZWN0IiwiY2hpbGRWbm9kZSIsImNoaWxkUmVjdCIsImdldENvbXBvbmVudEJvdW5kaW5nUmVjdCIsIm1lcmdlUmVjdHMiLCJERUZBVUxUX1JFQ1QiLCJnZXRSb290RWxlbWVudHNGcm9tQ29tcG9uZW50SW5zdGFuY2UiLCJnZXRGcmFnbWVudFJvb3RFbGVtZW50cyIsImxpc3QiLCJDT05UQUlORVJfRUxFTUVOVF9JRCIsIkNBUkRfRUxFTUVOVF9JRCIsIkNPTVBPTkVOVF9OQU1FX0VMRU1FTlRfSUQiLCJJTkRJQ0FUT1JfRUxFTUVOVF9JRCIsImNvbnRhaW5lclN0eWxlcyIsImNhcmRTdHlsZXMiLCJpbmRpY2F0b3JTdHlsZXMiLCJnZXRDb250YWluZXJFbGVtZW50IiwiZ2V0Q2FyZEVsZW1lbnQiLCJnZXRJbmRpY2F0b3JFbGVtZW50IiwiZ2V0TmFtZUVsZW1lbnQiLCJnZXRTdHlsZXMiLCJib3VuZHMiLCJjcmVhdGUiLCJjb250YWluZXJFbCIsImNhcmRFbCIsIm5hbWVFbCIsImluZGljYXRvckVsIiwiaGlnaGxpZ2h0IiwidW5oaWdobGlnaHQiLCJpbnNwZWN0SW5zdGFuY2UiLCJpbnNwZWN0Rm4iLCJzZWxlY3RDb21wb25lbnRGbiIsInVuaXF1ZUNvbXBvbmVudElkIiwiaW5zcGVjdENvbXBvbmVudEhpZ2hMaWdodGVyU2VsZWN0Rm4iLCJjYW5jZWxJbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXIiLCJpbnNwZWN0Q29tcG9uZW50SGlnaExpZ2h0ZXIiLCJvblNlbGVjdCIsInNjcm9sbFRvQ29tcG9uZW50IiwiYWN0aXZlQXBwUmVjb3JkIiwic2Nyb2xsVGFyZ2V0IiwiZWwyIiwid2FpdEZvckluc3BlY3RvckluaXQiLCJ0b3RhbCIsInRpbWVyIiwic2V0dXBJbnNwZWN0b3IiLCJpbnNwZWN0b3IiLCJfb3BlbkluRWRpdG9yIiwiZ2V0Q29tcG9uZW50SW5zcGVjdG9yIiwiU3RhdGVFZGl0b3IiLCJSZWZTdGF0ZUVkaXRvciIsIm9iamVjdCIsInNlY3Rpb25zIiwic2VjdGlvbiIsImZpZWxkIiwic2l6ZSIsImN1cnJlbnRLZXlzIiwicHJldmlvdXNLZXlzU2V0MiIsInByZXZpb3VzS2V5c1NldCIsIlRJTUVMSU5FX0xBWUVSU19TVEFURV9TVE9SQUdFX0lEIiwiZ2V0VGltZWxpbmVMYXllcnNTdGF0ZUZyb21TdG9yYWdlIiwiX2EyIiwiX2IyIiwidGFyZ2V0MyIsImRldnRvb2xzVGltZWxpbmVMYXllcnMiLCJhZGRUaW1lbGluZUxheWVyIiwiZGV2dG9vbHNTdGF0ZSIsIl9hMyIsIl9iMyIsInRhcmdldDQiLCJkZXZ0b29sc0luc3BlY3RvciIsImNhbGxJbnNwZWN0b3JVcGRhdGVkSG9vayIsImRldnRvb2xzQ29udGV4dCIsImdldEFjdGl2ZUluc3BlY3RvcnMiLCJhZGRJbnNwZWN0b3IiLCJnZXRJbnNwZWN0b3IiLCJjcmVhdGVEZXZUb29sc0N0eEhvb2tzIiwiaG9va3MyIiwiZGVib3VuY2VTZW5kSW5zcGVjdG9yVHJlZSIsImRlYm91bmNlMiIsImluc3BlY3RvcklkIiwiX3BheWxvYWQiLCJkZWJvdW5jZVNlbmRJbnNwZWN0b3JTdGF0ZSIsIm5vZGVJZCIsImludGVybmFsTGF5ZXJJZHMiLCJfYTQiLCJfYjQiLCJnbG9iYWwiLCJfYTUiLCJfYjUiLCJfYTYiLCJfYjYiLCJfYTciLCJfYjciLCJfYTgiLCJfYjgiLCJTVEFURV9LRVkiLCJpbml0U3RhdGVGYWN0b3J5IiwiX2E5IiwiX2I5IiwiY2FsbFN0YXRlVXBkYXRlZEhvb2siLCJkZWJvdW5jZTMiLCJvbGRTdGF0ZSIsImRldnRvb2xzQXBwUmVjb3JkcyIsIl90YXJnZXQiLCJ1cGRhdGVBbGxTdGF0ZXMiLCJzZXRBY3RpdmVBcHBSZWNvcmQiLCJzZXRBY3RpdmVBcHBSZWNvcmRJZCIsInByb3BlcnR5Iiwib3BlbkluRWRpdG9yIiwiaG9zdCIsImJhc2VVcmwiLCJsaW5lIiwiY29sdW1uIiwiX2Jhc2VVcmwiLCJyZXNwb25zZSIsIm1zZyIsInRhcmdldDUiLCJfYTEwIiwiX2IxMCIsInRhcmdldDYiLCJkZXZ0b29sc1BsdWdpbkJ1ZmZlciIsIl9nZXRTZXR0aW5ncyIsInNldHRpbmdzIiwiX3NldHRpbmdzIiwiZ2V0UGx1Z2luTG9jYWxLZXkiLCJwbHVnaW5JZCIsImdldFBsdWdpblNldHRpbmdzT3B0aW9ucyIsIml0ZW0yIiwiX2EyNiIsImdldFBsdWdpblNldHRpbmdzIiwiZmFsbGJhY2tWYWx1ZSIsImxvY2FsS2V5IiwibG9jYWxTZXR0aW5ncyIsImluaXRQbHVnaW5TZXR0aW5ncyIsInNldFBsdWdpblNldHRpbmdzIiwicGFyc2VkTG9jYWxTZXR0aW5ncyIsIl9hMTEiLCJfYjExIiwiZGV2dG9vbHNIb29rcyIsInRhcmdldDciLCJjcmVhdGVIb29rczIiLCJvbiIsInBsdWdpbkRlc2NyaXB0b3IiLCJzZXR1cEZuIiwiRGV2VG9vbHNWNlBsdWdpbkFQSSIsInBheWxvYWQiLCJEZXZUb29sc1BsdWdpbkFQSSIsIlVOREVGSU5FRCIsIklORklOSVRZIiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJOQU4iLCJ0b2tlbk1hcCIsIl9hMTIiLCJfYjEyIiwidGFyZ2V0OCIsInNldHVwRGV2VG9vbHNQbHVnaW4iLCJjYWxsRGV2VG9vbHNQbHVnaW5TZXR1cEZuIiwiYXBpIiwicmVnaXN0ZXJEZXZUb29sc1BsdWdpbiIsIlJPVVRFUl9LRVkiLCJST1VURVJfSU5GT19LRVkiLCJfYTEzIiwiX2IxMyIsImdsb2JhbDIiLCJfYTE0IiwiX2IxNCIsImdldFJvdXRlcyIsInJvdXRlciIsInJvdXRlc01hcCIsImZpbHRlclJvdXRlcyIsInJvdXRlcyIsIm1ldGEiLCJmaWx0ZXJDdXJyZW50Um91dGUiLCJyb3V0ZSIsImZ1bGxQYXRoIiwiaGFzaCIsImhyZWYiLCJtYXRjaGVkIiwicXVlcnkiLCJub3JtYWxpemVSb3V0ZXJJbmZvIiwiYWN0aXZlQXBwUmVjb3JkMiIsImluaXQiLCJjdXJyZW50Um91dGUiLCJnbG9iYWwzIiwiZGVib3VuY2U1IiwiY3JlYXRlRGV2VG9vbHNBcGkiLCJzdGF0ZUVkaXRvcjIiLCJyZWNvcmQiLCJ0YXJnZXQ5IiwiX2ExNSIsIl9iMTUiLCJ0YXJnZXQxMCIsIl9hMTYiLCJfYjE2IiwidGFyZ2V0MTEiLCJfYTE3IiwiX2IxNyIsInRhcmdldDEyIiwidG9nZ2xlSGlnaFBlcmZNb2RlIiwidXBkYXRlRGV2VG9vbHNDbGllbnREZXRlY3RlZCIsImRldnRvb2xzQ2xpZW50VmlzaWJsZSIsIl9hMTgiLCJfYjE4IiwidGFyZ2V0MTUiLCJEb3VibGVJbmRleGVkS1YiLCJSZWdpc3RyeSIsImdlbmVyYXRlSWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJDbGFzc1JlZ2lzdHJ5IiwidmFsdWVzT2ZPYmoiLCJmaW5kIiwicHJlZGljYXRlIiwidmFsdWVzTm90TmV2ZXIiLCJmb3JFYWNoIiwiaW5jbHVkZXMiLCJmaW5kQXJyIiwiQ3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeSIsInRyYW5zZm9ybWVyIiwiZ2V0VHlwZSIsImlzVW5kZWZpbmVkIiwiaXNOdWxsIiwiaXNQbGFpbk9iamVjdDIiLCJpc0VtcHR5T2JqZWN0IiwiaXNOdW1iZXIiLCJpc1JlZ0V4cCIsImlzRGF0ZSIsImlzRXJyb3IiLCJpc05hTlZhbHVlIiwiaXNQcmltaXRpdmUyIiwiaXNCaWdpbnQiLCJpc0luZmluaXRlIiwiaXNUeXBlZEFycmF5IiwiaXNVUkwiLCJlc2NhcGVLZXkiLCJzdHJpbmdpZnlQYXRoIiwicGFyc2VQYXRoIiwic3RyaW5nIiwic2VnbWVudCIsImNoYXIiLCJsYXN0U2VnbWVudCIsInNpbXBsZVRyYW5zZm9ybWF0aW9uIiwiaXNBcHBsaWNhYmxlIiwiYW5ub3RhdGlvbiIsInRyYW5zZm9ybSIsInVudHJhbnNmb3JtIiwic2ltcGxlUnVsZXMiLCJzdXBlckpzb24iLCJiYXNlRXJyb3IiLCJyZWdleCIsImJvZHkiLCJmbGFncyIsImNvbXBvc2l0ZVRyYW5zZm9ybWF0aW9uIiwic3ltYm9sUnVsZSIsImNvbnN0cnVjdG9yVG9OYW1lIiwiY3RvciIsInR5cGVkQXJyYXlSdWxlIiwiaXNJbnN0YW5jZU9mUmVnaXN0ZXJlZENsYXNzIiwicG90ZW50aWFsQ2xhc3MiLCJjbGFzc1J1bGUiLCJjbGF6eiIsImFsbG93ZWRQcm9wcyIsImN1c3RvbVJ1bGUiLCJjb21wb3NpdGVSdWxlcyIsInRyYW5zZm9ybVZhbHVlIiwiYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUiLCJydWxlIiwiYXBwbGljYWJsZVNpbXBsZVJ1bGUiLCJzaW1wbGVSdWxlc0J5QW5ub3RhdGlvbiIsInVudHJhbnNmb3JtVmFsdWUiLCJqc29uIiwidHJhbnNmb3JtYXRpb24iLCJnZXROdGhLZXkiLCJ2YWxpZGF0ZVBhdGgiLCJnZXREZWVwIiwicm93Iiwia2V5T2ZSb3ciLCJzZXREZWVwIiwibWFwcGVyIiwibGFzdEtleSIsImtleVRvUm93IiwibmV3S2V5IiwidHJlZSIsIndhbGtlcjIiLCJvcmlnaW4iLCJzdWJ0cmVlIiwibm9kZVZhbHVlIiwiYXBwbHlWYWx1ZUFubm90YXRpb25zIiwicGxhaW4iLCJhbm5vdGF0aW9ucyIsImFwcGx5UmVmZXJlbnRpYWxFcXVhbGl0eUFubm90YXRpb25zIiwiaWRlbnRpY2FsUGF0aHMiLCJpZGVudGljYWxPYmplY3RQYXRoIiwib3RoZXIiLCJpZGVudGljYWxQYXRoIiwiaXNEZWVwIiwiYWRkSWRlbnRpdHkiLCJpZGVudGl0aWVzIiwiZXhpc3RpbmdTZXQiLCJnZW5lcmF0ZVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyIsImlkZW50aXRpdGVzIiwiZGVkdXBlIiwicm9vdEVxdWFsaXR5UGF0aHMiLCJwYXRocyIsInJlcHJlc2VudGF0aXZlUGF0aCIsIm9iamVjdHNJblRoaXNQYXRoIiwic2Vlbk9iamVjdHMiLCJwcmltaXRpdmUiLCJ0cmFuc2Zvcm1lZDIiLCJ0cmFuc2Zvcm1hdGlvblJlc3VsdCIsInRyYW5zZm9ybWVkIiwidHJhbnNmb3JtZWRWYWx1ZSIsImlubmVyQW5ub3RhdGlvbnMiLCJyZWN1cnNpdmVSZXN1bHQiLCJnZXRUeXBlMiIsImlzQXJyYXkyIiwiaXNQbGFpbk9iamVjdDMiLCJwcm90b3R5cGUiLCJhc3NpZ25Qcm9wIiwiY2FycnkiLCJuZXdWYWwiLCJvcmlnaW5hbE9iamVjdCIsImluY2x1ZGVOb25lbnVtZXJhYmxlIiwiY29weSIsInN5bWJvbHMiLCJTdXBlckpTT04iLCJvdXRwdXQiLCJlcXVhbGl0eUFubm90YXRpb25zIiwiX2ExOSIsIl9iMTkiLCJ0YXJnZXQyMSIsIl9hMjAiLCJfYjIwIiwiX2EyMSIsIl9iMjEiLCJfYTIyIiwiX2IyMiIsIl9hMjMiLCJfYjIzIiwiX2EyNCIsIl9iMjQiLCJwaW5pYVN5bWJvbCIsIk11dGF0aW9uVHlwZSIsIklTX0NMSUVOVCIsIl9nbG9iYWwiLCJib20iLCJibG9iIiwiYXV0b0JvbSIsImRvd25sb2FkIiwidXJsIiwieGhyIiwic2F2ZUFzIiwiY29yc0VuYWJsZWQiLCJjbGljayIsImV2dCIsIl9uYXZpZ2F0b3IiLCJpc01hY09TV2ViVmlldyIsImRvd25sb2FkU2F2ZUFzIiwibXNTYXZlQXMiLCJmaWxlU2F2ZXJTYXZlQXMiLCJwb3B1cCIsImZvcmNlIiwiaXNTYWZhcmkiLCJpc0Nocm9tZUlPUyIsInJlYWRlciIsInRvYXN0TWVzc2FnZSIsInBpbmlhTWVzc2FnZSIsImlzUGluaWEiLCJjaGVja0NsaXBib2FyZEFjY2VzcyIsImNoZWNrTm90Rm9jdXNlZEVycm9yIiwiYWN0aW9uR2xvYmFsQ29weVN0YXRlIiwicGluaWEiLCJhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlIiwibG9hZFN0b3Jlc1N0YXRlIiwiYWN0aW9uR2xvYmFsU2F2ZVN0YXRlIiwiZmlsZUlucHV0IiwiZ2V0RmlsZU9wZW5lciIsIm9wZW5GaWxlIiwicmVqZWN0IiwiZmlsZXMiLCJhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlIiwic3RvcmVTdGF0ZSIsImZvcm1hdERpc3BsYXkiLCJkaXNwbGF5IiwiUElOSUFfUk9PVF9MQUJFTCIsIlBJTklBX1JPT1RfSUQiLCJmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUiLCJzdG9yZSIsImZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUiLCJzdG9yZU5hbWVzIiwic3RvcmVNYXAiLCJzdG9yZUlkIiwiZ2V0dGVycyIsImdldHRlck5hbWUiLCJmb3JtYXRFdmVudERhdGEiLCJldmVudHMiLCJmb3JtYXRNdXRhdGlvblR5cGUiLCJpc1RpbWVsaW5lQWN0aXZlIiwiY29tcG9uZW50U3RhdGVUeXBlcyIsIk1VVEFUSU9OU19MQVlFUl9JRCIsIklOU1BFQ1RPUl9JRCIsImFzc2lnbiQxIiwiZ2V0U3RvcmVUeXBlIiwicmVnaXN0ZXJQaW5pYURldnRvb2xzIiwic2V0dXBEZXZ0b29sc1BsdWdpbiIsInBpbmlhU3RvcmVzIiwic3RvcmVzIiwiaW5zcGVjdGVkU3RvcmUiLCJhZGRTdG9yZVRvRGV2dG9vbHMiLCJub3ciLCJhZnRlciIsIm9uRXJyb3IiLCJncm91cElkIiwicnVubmluZ0FjdGlvbklkIiwiYWN0aXZlQWN0aW9uIiwiZXZlbnREYXRhIiwiaG90VXBkYXRlIiwibmV3U3RvcmUiLCIkZGlzcG9zZSIsInBhdGNoQWN0aW9uRm9yR3JvdXBpbmciLCJhY3Rpb25OYW1lcyIsIndyYXBXaXRoUHJveHkiLCJhY3Rpb25zIiwic3RvcmVBY3Rpb25zIiwiYWN0aW9uTmFtZSIsIl9hY3Rpb25JZCIsInRyYWNrZWRTdG9yZSIsInJldFZhbHVlIiwiZGV2dG9vbHNQbHVnaW4iLCJvcmlnaW5hbEhvdFVwZGF0ZSIsImNyZWF0ZVBpbmlhIiwiX3AiLCJ0b0JlSW5zdGFsbGVkIiwicSIsIkYiLCJ0IiwiSSIsIiQiLCJaIiwiQiIsIkoiLCJTIiwiUSIsIk4iLCJDIiwiWSIsIkciLCJUIiwiZWUiLCJXIiwiRCIsIkUiLCJkIiwiZiIsIk8iLCJSIiwiWCIsIkgiLCJ0ZSIsInNlIiwib2UiLCJNIiwiSyIsIkwiLCJBIiwiViIsInkiLCJ3IiwiVSIsInoiLCJpZSIsInBsdWdpbnNXcmFwcGVyIiwiR2l2ZW5WdWUiLCJWdWUiLCJjcmVhdGVXZWJDb21wb25lbnQiLCJBcHAiLCJWdWVEZWZpbmVDdXN0b21FbGVtZW50Il0sIm1hcHBpbmdzIjoic3NCQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FLQSwyQkFFQSxTQUFTQSxHQUFRQyxFQUFLLENBQ2QsTUFBQUMsRUFBNkIsT0FBQSxPQUFPLElBQUksRUFDOUMsVUFBV0MsS0FBT0YsRUFBSSxNQUFNLEdBQUcsRUFBR0MsRUFBSUMsQ0FBRyxFQUFJLEVBQ3RDLE9BQUNDLEdBQVFBLEtBQU9GLENBQ3pCLENBRUEsTUFBTUcsRUFBNEUsQ0FBQyxFQUM3RUMsR0FBNEUsQ0FBQyxFQUM3RUMsR0FBTyxJQUFNLENBQ25CLEVBQ01DLEdBQUssSUFBTSxHQUNY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SUFDUixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFRLEtBQ1IsRUFBVSxJQUNWLEVBQVEsSUFDUixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFRLEtBQ1IsRUFBVSxJQUNWLEVBQVEsSUFDUixFQUFRLEtBQ1IsRUFBUSxJQUNSLElBQVUsS0FHVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxNQUNWLEVBQVUsTUFDVixFQUFVLE1BRVYsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLElBRVYsSUFBVSxJQUNWLElBQVUsS0FDVixJQUFVLElBQ1YsSUFBVSxLQUNWLElBQVUsSUFDVixJQUFVLEtBQ1YsSUFBVSxHQUVWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFFVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBRVYsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixLQUFnQixLQUNoQixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFFVixJQUFVLElBQ1YsSUFBVSxLQUNWLElBQVUsSUFDVixLQUFnQixLQUNoQixLQUFnQixNQUNoQixJQUFVLElBRVYsRUFBVSxJQUNWLElBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLE9BQTRCLEtBQzVCLEVBQVUsS0FFVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBRVYsSUFBVSxHQUNWLElBQVUsR0FDVixJQUFVLEdBRVYsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBRVYsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxLQUNWLElBQVUsSUFDVixJQUFVLEtBQ1YsSUFBVSxJQUNWLElBQVUsS0FDVixJQUFVLElBQ1YsSUFBVSxLQUNWLElBQVUsSUFDVixJQUFVLEtBQ1YsSUFBVSxHQUdWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxJQUVWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUVWLEVBQVUsSUFFVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFFVixFQUFVLElBRVYsRUFBVSxJQUVWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUVWLEVBQVUsSUFHVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixHQUFnQixLQUNoQixHQUFnQixLQUVoQixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUVWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBRVYsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLElBQ1YsRUFBVSxLQUNWLEVBQVUsSUFFVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBR1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUdWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsR0FDVixFQUFVLElBQ1YsRUFBVSxHQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsR0FDVixFQUFVLElBQ1YsRUFBVSxHQUNWLEVBQVUsSUFDVixFQUFVLEtBQ1YsRUFBVSxLQUVWLEVBQVUsS0FDVixFQUFVLElBR1YsRUFBVSxJQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxJQUdWLEVBQVUsSUFDVixFQUFVLEtBRVYsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBRVYsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQU9WLEVBQVUsSUFDVixFQUFVLElBRVYsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUdWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxLQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxLQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxLQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxLQUNWLElBQVUsSUFDVixJQUFVLEtBQ1YsSUFBVSxLQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxLQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxLQUNWLElBQVUsS0FDVixJQUFVLEtBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUVWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsRUFBVSxJQUNWLElBQVUsT0FDVixJQUFRLE1BQ1IsRUFBVSxLQUNWLEVBQVUsS0FDVixJQUFRLE1BQ1IsSUFBVSxJQUNWLElBQVUsT0FDVixJQUFVLE1BQ1YsSUFBVSxJQUNWLEVBQVEsSUFDUixFQUFRLElBQ1IsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBRVYsRUFBSyxNQUNMLElBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVEsTUFDUixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVEsT0FDUixJQUFRLE1BQ1IsRUFBVSxNQUNWLEVBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsS0FDVixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixHQUFnQixNQUNoQixJQUFVLE1BQ1YsSUFBVSxNQUNWLElBQVUsTUFDVixJQUFzQixNQUN0QixHQUFXLE1BQ1gsSUFBVSxNQUNWLElBQVUsS0FDWCxFQUNHQyxFQUFxQixDQUV2QixJQUVBLEdBQ0QsRUFDR0MsRUFBYSxDQUdmLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLElBQVUsSUFDVixJQUFVLElBQ1YsSUFBVSxJQUNWLEtBQWdCLElBQ2hCLElBQVUsSUFDVixJQUFVLElBQ1YsT0FBNEIsT0FDNUIsS0FBZ0IsS0FDaEIsTUFBc0IsS0FDdEIsS0FBZ0IsS0FDaEIsTUFBc0IsS0FDdEIsSUFBVSxJQUVWLEtBQWdCLEtBQ2hCLE9BQTRCLE1BQzVCLE9BQTRCLE1BQzVCLEtBQWdCLEtBQ2hCLE9BQTRCLE9BQzVCLE9BQTRCLE9BQzVCLEtBQWdCLEtBQ2hCLEtBQWdCLElBQ2hCLEtBQWdCLEtBQ2hCLE1BQXNCLE1BQ3RCLE1BQXNCLEtBQ3RCLE1BQXNCLEtBQ3RCLE1BQXNCLEtBQ3RCLEtBQWdCLElBQ2hCLE9BQTRCLEtBQzVCLE1BQXNCLE1BQ3RCLEtBQWdCLEtBQ2hCLE1BQXNCLEtBQ3RCLE1BQXNCLE1BQ3RCLE1BQXNCLEtBQ3RCLE1BQXNCLEtBQ3RCLEtBQWdCLEtBQ2hCLE1BQXNCLE1BQ3RCLE1BQXNCLEtBQ3RCLE1BQXNCLEtBQ3RCLFFBQWtDLE1BQ2xDLEtBQWdCLEtBQ2hCLE1BQXNCLE1BQ3RCLE1BQXNCLEtBQ3RCLE1BQXNCLEtBQ3RCLEtBQWdCLElBQ2hCLE9BQTRCLEtBQzVCLEtBQWdCLEtBQ2hCLElBQVUsS0FDVixLQUFnQixNQUNoQixLQUFnQixLQUVoQixNQUFzQixLQUN0QixNQUFzQixJQUN2QixFQUNHQyxFQUFjLENBQ2hCLEdBQU0sQ0FBRSxFQUVSLEdBQU0sQ0FFSixFQUFRLElBQ1IsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBUSxJQUNSLEVBQVUsSUFDVixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVEsSUFDUixFQUFVLElBQ1YsRUFBUSxHQUNULEVBQ0QsR0FBTSxDQUVKLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxHQUNYLEVBQ0QsR0FBTSxDQUlKLEVBQVEsSUFFUixFQUFRLElBRVIsRUFBUSxJQUVSLEVBQVEsR0FFVCxFQUNELEdBQU0sQ0FFSixFQUFRLElBRVIsRUFBUSxJQUlSLEVBQVEsSUFFUixFQUFRLElBSVIsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFVLElBQ1YsRUFBVSxHQUNYLEVBQ0QsR0FBTSxDQUVKLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLEdBQ1gsRUFDRCxHQUFNLENBRUosRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxHQUNYLEVBQ0QsR0FBTSxDQUVKLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBUSxJQUNSLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxJQUNWLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBUSxJQUNSLEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBVSxHQUNYLEVBQ0QsR0FBTSxDQUlKLEVBQVEsSUFFUixFQUFRLElBRVIsRUFBUSxJQUVSLEVBQVEsR0FFVCxFQUNELEdBQU0sQ0FFSixFQUFRLElBQ1IsRUFBUSxHQUNULEVBQ0QsR0FBTSxDQUVKLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxLQUNWLEVBQVUsS0FDVixFQUFVLEtBQ1YsRUFBVSxJQUNYLEVBQ0QsR0FBTSxDQUVKLEVBQVEsSUFDUixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVEsR0FDbEIsQ0FDTyxFQUNHQyxFQUFZLENBQ2QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFlBQ1YsSUFBVSxNQUNWLElBQUssS0FDTCxJQUFLLEtBQ0wsSUFBSyxXQUNMLElBQUssWUFDTCxJQUFVLFNBQ1YsSUFBUSxNQUNULEVBQ0QsR0FBTSxDQUFFLEVBQ1IsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFVBQ1YsSUFBVSxPQUNWLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxZQUNMLElBQUssVUFDTCxJQUFVLFlBQ1YsSUFBUSxRQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFlBQ1YsSUFBVSxRQUNWLElBQUssSUFDTCxJQUFLLE9BQ0wsSUFBSyxZQUNMLElBQUssWUFDTCxJQUFVLFNBQ1YsSUFBUSxNQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFlBQ1YsSUFBVSxRQUNWLElBQUssTUFDTCxJQUFLLE9BQ0wsSUFBSyxjQUNMLElBQUssZUFDTCxJQUFVLFlBQ1YsSUFBUSxVQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFlBQ1YsSUFBVSxRQUNWLElBQUssTUFDTCxJQUFLLFNBQ0wsSUFBSyxlQUNMLElBQUssZUFDTCxJQUFVLFNBQ1YsSUFBUSxRQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFdBQ1YsSUFBVSxPQUNWLElBQUssTUFDTCxJQUFLLEtBQ0wsSUFBSyxZQUNMLElBQUssZUFDTCxJQUFVLE1BQ1YsSUFBUSxVQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFdBQ1YsSUFBVSxPQUNWLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxZQUNMLElBQUssVUFDTCxJQUFVLGNBQ1YsSUFBUSxRQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLGFBQ1YsSUFBVSxRQUNWLElBQUssS0FDTCxJQUFLLEtBQ0wsSUFBSyxZQUNMLElBQUssYUFDTCxJQUFVLFVBQ1YsSUFBUSxPQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLGNBQ1YsSUFBVSxVQUNWLElBQUssS0FDTCxJQUFLLE1BQ0wsSUFBSyxnQkFDTCxJQUFLLGdCQUNMLElBQVUsUUFDVixJQUFRLFVBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsYUFDVixJQUFVLFFBQ1YsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLFlBQ0wsSUFBSyxlQUNMLElBQVUsWUFDVixJQUFRLFNBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsYUFDVixJQUFVLFlBQ1YsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLFVBQ0wsSUFBSyxPQUNMLElBQVUsT0FDVixJQUFRLFFBQ1QsRUFDRCxHQUFNLENBQUUsRUFDUixHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsV0FDVixJQUFVLFdBQ1YsSUFBSyxLQUNMLElBQUssT0FDTCxJQUFLLGNBQ0wsSUFBSyxlQUNMLElBQVUsU0FDVixJQUFRLFNBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsV0FDVixJQUFVLFFBQ1YsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLFlBQ0wsSUFBSyxjQUNMLElBQVUsUUFDVixJQUFRLFFBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsV0FDVixJQUFVLFFBQ1YsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLGFBQ0wsSUFBSyxjQUNMLElBQVUsT0FDVixJQUFRLFNBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsWUFDVixJQUFVLFlBQ1YsSUFBSyxLQUNMLElBQUssTUFDTCxJQUFLLGFBQ0wsSUFBSyxlQUNMLElBQVUsUUFDVixJQUFRLFFBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxhQUNWLElBQVUsWUFDVixJQUFVLFVBQ1YsSUFBSyxPQUNMLElBQUssTUFDTCxJQUFLLFVBQ0wsSUFBSyxVQUNMLElBQVUsVUFDVixJQUFRLFNBQ1QsRUFDRCxHQUFNLENBQUUsRUFDUixHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsV0FDVixJQUFVLFNBQ1YsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLGNBQ0wsSUFBSyxhQUNMLElBQVUsTUFDVixJQUFRLFFBQ1QsRUFDRCxHQUFNLENBQ0osSUFBVSxRQUNWLElBQVUsaUJBQ1YsSUFBVSxTQUNWLElBQUssSUFDTCxJQUFLLE1BQ0wsSUFBSyxlQUNMLElBQUssY0FDTCxJQUFVLE9BQ1YsSUFBUSxRQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFdBQ1YsSUFBVSxPQUNWLElBQUssSUFDTCxJQUFLLEtBQ0wsSUFBSyxZQUNMLElBQUssWUFDTCxJQUFVLE9BQ1YsSUFBUSxPQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFVBQ1YsSUFBVSxXQUNWLElBQUssS0FDTCxJQUFLLE1BQ0wsSUFBSyxhQUNMLElBQUssY0FDTCxJQUFVLE9BQ1YsSUFBUSxRQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLGNBQ1YsSUFBVSxRQUNWLElBQUssSUFDTCxJQUFLLE1BQ0wsSUFBSyxTQUNMLElBQUssU0FDTCxJQUFVLFFBQ1YsSUFBUSxTQUNULEVBQ0QsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFlBQ1YsSUFBVSxRQUNWLElBQUssSUFDTCxJQUFLLFFBQ0wsSUFBSyxZQUNMLElBQUssV0FDTCxJQUFVLFFBQ1YsSUFBUSxNQUNULEVBQ0QsR0FBTSxDQUFFLEVBQ1IsR0FBTSxDQUNKLElBQVUsUUFDVixJQUFVLFlBQ1YsSUFBVSxNQUNWLElBQUssS0FDTCxJQUFLLE9BQ0wsSUFBSyxXQUNMLElB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
